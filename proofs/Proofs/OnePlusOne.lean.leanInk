[{"contents":"/-\n  Russell's 1+1=2 from Peano Arithmetic\n\n  A formal proof that 1 + 1 = 2, demonstrating how type theory\n  trivializes what famously took 362 pages in Principia Mathematica.\n\n  The natural numbers are defined inductively via the Peano axioms:\n  - Zero is a natural number\n  - Every natural number has a successor\n  - Addition is defined recursively on this structure\n\n  In Lean 4, this proof is definitionally true (rfl), showing\n  how modern type theory has evolved beyond classical set theory.\n-/\n\nnamespace Peano\n\n-- ============================================================\n-- PART 1: Building Natural Numbers from Scratch\n-- ============================================================\n\n-- The Peano naturals, defined inductively\ninductive â„• where\n  | zero : â„•\n  | succ : â„• â†’ â„•\n  deriving Repr\n\nopen â„•\n\n-- Numeric notations for readability\ndef one : â„• := succ zero\ndef two : â„• := succ (succ zero)\ndef three : â„• := succ (succ (succ zero))\n\n-- ============================================================\n-- PART 2: Defining Addition\n-- ============================================================\n\n-- Addition via recursion on the second argument\n-- This follows Peano's original definition:\n--   n + 0 = n\n--   n + succ(m) = succ(n + m)\ndef add : â„• â†’ â„• â†’ â„•\n  | n, zero   => n\n  | n, succ m => succ (add n m)\n\ninfixl:65 \" + \" => add\n\n-- ============================================================\n-- PART 3: The Famous Theorem\n-- ============================================================\n\n-- Theorem: 1 + 1 = 2\n-- This is what took Russell and Whitehead 362 pages!\n-- In type theory, it's definitionally true.\ntheorem one_plus_one_eq_two : one + one = two := ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"by","_type":"sentence"},{"contents":"\n  -- Unfold definitions step by step\n  ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"(zero.succ + zero).succ = zero.succ.succ","_type":"goal"}],"contents":"unfold one two add","_type":"sentence"},{"contents":"\n  -- one + one\n  -- = succ zero + succ zero\n  -- = succ (succ zero + zero)    [by def of add, second case]\n  -- = succ (succ zero)           [by def of add, first case]\n  -- = two âœ“\n  ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"rfl","_type":"sentence"},{"contents":"\n\n-- Even simpler: it's just reflexivity\ntheorem one_plus_one_eq_two' : one + one = two := rfl\n\n-- ============================================================\n-- PART 4: Building Up More Arithmetic\n-- ============================================================\n\n-- Zero is a right identity for addition\ntheorem add_zero (n : â„•) : n + zero = n := rfl\n\n-- Zero is a left identity (requires induction)\ntheorem zero_add (n : â„•) : zero + n = n := ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"by","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"}],"conclusion":"zero + n = n","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"}],"conclusion":"zero + n = n","_type":"goal"}],"contents":"induction n with\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[],"conclusion":"zero + zero = zero","_type":"goal"}],"contents":"| zero => ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"rfl","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"}],"conclusion":"zero + n = n","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"},{"type":"zero + n = n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"zero + n.succ = n.succ","_type":"goal"}],"contents":"| succ n ih =>\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"},{"type":"zero + n = n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(zero + n).succ = n.succ","_type":"goal"}],"contents":"unfold add","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"},{"type":"zero + n = n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"zero + n.succ = n.succ","_type":"goal"}],"contents":"\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"},{"type":"zero + n = n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(zero + n).succ = n.succ","_type":"goal"}],"contents":"rw [","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"},{"type":"zero + n = n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ = n.succ","_type":"goal"}],"contents":"ih","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"]","_type":"sentence"},{"contents":"\n\n-- Successor distributes over addition\ntheorem add_succ (n m : â„•) : n + succ m = succ (n + m) := rfl\n\ntheorem succ_add (n m : â„•) : succ n + m = succ (n + m) := ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"by","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = (n + m).succ","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = (n + m).succ","_type":"goal"}],"contents":"induction m with\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["n"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + zero = (n + zero).succ","_type":"goal"}],"contents":"| zero => ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"rfl","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = (n + m).succ","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"},{"type":"n.succ + m = (n + m).succ","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m.succ = (n + m.succ).succ","_type":"goal"}],"contents":"| succ m ih =>\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"},{"type":"n.succ + m = (n + m).succ","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(n.succ + m).succ = (n + m).succ.succ","_type":"goal"}],"contents":"unfold add","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"},{"type":"n.succ + m = (n + m).succ","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m.succ = (n + m.succ).succ","_type":"goal"}],"contents":"\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"},{"type":"n.succ + m = (n + m).succ","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(n.succ + m).succ = (n + m).succ.succ","_type":"goal"}],"contents":"rw [","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"},{"type":"n.succ + m = (n + m).succ","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(n + m).succ.succ = (n + m).succ.succ","_type":"goal"}],"contents":"ih","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"]","_type":"sentence"},{"contents":"\n\n-- Addition is commutative\ntheorem add_comm (n m : â„•) : n + m = m + n := ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"by","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"}],"conclusion":"n + m = m + n","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"}],"conclusion":"n + m = m + n","_type":"goal"}],"contents":"induction n with\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["m"],"body":"","_type":"hypothesis"}],"conclusion":"zero + m = m + zero","_type":"goal"}],"contents":"| zero =>\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["m"],"body":"","_type":"hypothesis"}],"conclusion":"zero + m = m + zero","_type":"goal"}],"contents":"rw [","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["m"],"body":"","_type":"hypothesis"}],"conclusion":"m = m + zero","_type":"goal"}],"contents":"zero_add","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["m"],"body":"","_type":"hypothesis"}],"conclusion":"m = m + zero","_type":"goal"}],"contents":"]","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["m"],"body":"","_type":"hypothesis"}],"conclusion":"zero + m = m + zero","_type":"goal"}],"contents":"\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"rfl","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["n","m"],"body":"","_type":"hypothesis"}],"conclusion":"n + m = m + n","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = m + n.succ","_type":"goal"}],"contents":"| succ n ih =>\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = m + n.succ","_type":"goal"}],"contents":"rw [","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(n + m).succ = m + n.succ","_type":"goal"}],"contents":"succ_add,","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = m + n.succ","_type":"goal"}],"contents":" ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(n + m).succ = (m + n).succ","_type":"goal"}],"contents":"add_succ,","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"n.succ + m = m + n.succ","_type":"goal"}],"contents":" ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["m","n"],"body":"","_type":"hypothesis"},{"type":"n + m = m + n","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(m + n).succ = (m + n).succ","_type":"goal"}],"contents":"ih","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"]","_type":"sentence"},{"contents":"\n\n-- Addition is associative\ntheorem add_assoc (a b c : â„•) : (a + b) + c = a + (b + c) := ","_type":"text"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"by","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"}],"conclusion":"a + b + c = a + (b + c)","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"}],"conclusion":"a + b + c = a + (b + c)","_type":"goal"}],"contents":"induction c with\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"zero","hypotheses":[{"type":"â„•","names":["a","b"],"body":"","_type":"hypothesis"}],"conclusion":"a + b + zero = a + (b + zero)","_type":"goal"}],"contents":"| zero => ","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"rfl","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"}],"conclusion":"a + b + c = a + (b + c)","_type":"goal"}],"contents":"\n  ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"},{"type":"a + b + c = a + (b + c)","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"a + b + c.succ = a + (b + c.succ)","_type":"goal"}],"contents":"| succ c ih =>\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"},{"type":"a + b + c = a + (b + c)","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(a + b + c).succ = (a + (b + c)).succ","_type":"goal"}],"contents":"simp only [add_succ]","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"},{"type":"a + b + c = a + (b + c)","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"a + b + c.succ = a + (b + c.succ)","_type":"goal"}],"contents":"\n    ","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"},{"type":"a + b + c = a + (b + c)","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(a + b + c).succ = (a + (b + c)).succ","_type":"goal"}],"contents":"rw [","_type":"sentence"},{"messages":[],"goals":[{"name":"succ","hypotheses":[{"type":"â„•","names":["a","b","c"],"body":"","_type":"hypothesis"},{"type":"a + b + c = a + (b + c)","names":["ih"],"body":"","_type":"hypothesis"}],"conclusion":"(a + (b + c)).succ = (a + (b + c)).succ","_type":"goal"}],"contents":"ih","_type":"sentence"},{"messages":[],"goals":[{"name":"","hypotheses":[],"conclusion":"Goals accomplished! ðŸ™","_type":"goal"}],"contents":"]","_type":"sentence"},{"contents":"\n\n-- ============================================================\n-- PART 5: More Consequences\n-- ============================================================\n\n-- 2 + 1 = 3\ntheorem two_plus_one_eq_three : two + one = three := rfl\n\n-- 1 + 2 = 3 (uses commutativity conceptually, but also rfl)\ntheorem one_plus_two_eq_three : one + two = three := rfl\n\n-- 2 + 2 = 4\ndef four : â„• := succ three\ntheorem two_plus_two_eq_four : two + two = four := rfl\n\nend Peano\n\n-- ============================================================\n-- PART 6: Using Lean's Built-in Naturals\n-- ============================================================\n\n-- In Lean's standard library, this is equally trivial\n-- The Nat type is defined identically to our Peano.â„•\n\n","_type":"text"},{"messages":[{"contents":"1 : Nat","_type":"message"}],"goals":[],"contents":"#check","_type":"sentence"},{"contents":" (1 : Nat)  -- Nat\n","_type":"text"},{"messages":[{"contents":"2 : Nat","_type":"message"}],"goals":[],"contents":"#check","_type":"sentence"},{"contents":" (2 : Nat)  -- Nat\n\n-- The proof using built-in naturals\ntheorem builtin_one_plus_one : (1 : Nat) + 1 = 2 := rfl\n\n-- This works because Lean's Nat.add is defined as:\n-- def Nat.add : Nat â†’ Nat â†’ Nat\n--   | n, Nat.zero   => n\n--   | n, Nat.succ m => Nat.succ (Nat.add n m)\n\n-- And the numerals 1 and 2 are notation for:\n-- 1 = Nat.succ Nat.zero\n-- 2 = Nat.succ (Nat.succ Nat.zero)\n\n-- So the computation unfolds exactly as in our manual proof\n\n-- ============================================================\n-- PART 7: Why Principia Took 362 Pages\n-- ============================================================\n\n/-\n  Russell and Whitehead's Principia Mathematica (1910-1913) was not\n  proving 1+1=2 in the same sense. They were:\n\n  1. Building a complete logical foundation for mathematics\n  2. Defining sets, relations, and functions from pure logic\n  3. Constructing the natural numbers as equivalence classes\n     of equinumerous sets (the \"Frege-Russell\" definition)\n  4. Defining addition via set-theoretic operations\n  5. Working in a ramified type theory to avoid paradoxes\n\n  Their \"1\" was roughly: the set of all singleton sets\n  Their \"2\" was roughly: the set of all two-element sets\n  Their \"+\" involved taking unions of disjoint sets\n\n  Modern type theory (like Lean) takes a different approach:\n  - Natural numbers are primitive, defined inductively\n  - Addition is primitive, defined by recursion\n  - The proof of 1+1=2 is by definitional equality\n\n  This isn't \"cheating\" - it's a cleaner foundation that\n  avoids the set-theoretic complexities that Russell faced.\n-/\n\n-- Final verification\n","_type":"text"},{"messages":[{"contents":"Peano.one_plus_one_eq_two : Peano.one + Peano.one = Peano.two","_type":"message"}],"goals":[],"contents":"#check","_type":"sentence"},{"contents":" @Peano.one_plus_one_eq_two   -- our manual proof\n","_type":"text"},{"messages":[{"contents":"builtin_one_plus_one : 1 + 1 = 2","_type":"message"}],"goals":[],"contents":"#check","_type":"sentence"},{"contents":" @builtin_one_plus_one        -- using standard library\n","_type":"text"}]