{
  "slug": "erdos-401",
  "title": "Erdős #401: Factorial Divisibility with Prime Products",
  "phase": "FORMALIZED",
  "status": "completed",
  "tier": "A",
  "path": "full",
  "problemStatement": {
    "formal": "∃ f : ℕ → ℝ, (∀ M, ∃ r₀, ∀ r ≥ r₀, f(r) ≥ M) ∧ ∀ r, ∃^∞ n, ∃ a₁ a₂, a₁!a₂! | n!·2ⁿ3ⁿ...pᵣⁿ ∧ a₁+a₂ > n + f(r)·log(n)",
    "plain": "Does there exist f(r) → ∞ such that for infinitely many n, we can find a₁, a₂ with a₁!a₂! | n!·2ⁿ3ⁿ...pᵣⁿ and a₁+a₂ > n + f(r)·log(n)?",
    "whyMatters": [
      "Tests limits of Erdős-Graham factorial divisibility bounds",
      "Connected to Problems #400, #728, #729",
      "Explores how extra prime power factors affect divisibility constraints"
    ]
  },
  "knownResults": {
    "proven": [
      "Erdős-Graham: Without extra factors, a₁+a₂ ≤ n + O(log n) when a₁!a₂! | n!",
      "Barreto-Leeham (2026): YES - f(r) → ∞ exists for infinitely many n",
      "Sothanaphan: The 'for all large n' version is FALSE"
    ],
    "open": [],
    "goal": "Formalize the proof and counterexample structure"
  },
  "currentState": {
    "phase": "FORMALIZED",
    "since": "2026-01-14T00:00:00Z",
    "iteration": 1,
    "focus": "Complete formalization with axiomatized results",
    "activeApproach": "Axiomatize Barreto-Leeham proof and Sothanaphan counterexample",
    "blockers": [],
    "nextAction": "Consider elaborating the construction details",
    "attemptCounts": {
      "total": 1,
      "currentApproach": 1,
      "approachesTried": 1
    }
  },
  "knowledge": {
    "progressSummary": "COMPLETE: Formalized Erdős #401 (PROVED). ~175 lines of Lean. Main theorem erdos_401_proved derived from axiom.",
    "builtItems": [
      "nthPrime: r-th prime number (Erdos401Problem.lean:48)",
      "primorialPow: product of first r primes to power n (Erdos401Problem.lean:51)",
      "FactorialDivides: divisibility predicate a₁!a₂! | n!·primorialPow (Erdos401Problem.lean:57)",
      "TendsToInfty: f(r) → ∞ predicate (Erdos401Problem.lean:72)",
      "Erdos401Conjecture: main conjecture statement (Erdos401Problem.lean:77)",
      "erdos_401_proved: main theorem (Erdos401Problem.lean:99)",
      "Erdos401Strong: stronger 'for all n' version (Erdos401Problem.lean:108)",
      "g₂: excess function from Problem #400 (Erdos401Problem.lean:121)",
      "g₂_modified: excess function with primorial factors (Erdos401Problem.lean:129)"
    ],
    "insights": [
      "The primorial factors 2ⁿ3ⁿ...pᵣⁿ provide extra divisibility 'room'",
      "Same construction works for Problems #401, #728, #729",
      "The 'for all large n' version fails (Sothanaphan counterexample: n = p_{r+1}^k - 1)",
      "Erdős-Graham baseline g₂(n) ≪ log n is tight without extra factors"
    ],
    "mathlibGaps": [],
    "nextSteps": [
      "Could elaborate the Barreto-Leeham construction",
      "Could formalize the Sothanaphan counterexample more explicitly"
    ],
    "markdown": "# Erdős #401 - Factorial Divisibility with Prime Products\n\n## Problem Statement\n\nDoes there exist f(r) → ∞ as r → ∞ such that for infinitely many n,\nthere exist a₁, a₂ with a₁ + a₂ > n + f(r)·log(n) where\na₁!·a₂! | n!·2ⁿ·3ⁿ·...·pᵣⁿ?\n\n## Status\n\n**Erdős Database Status**: PROVED (Barreto-Leeham 2026)\n\n**Formalization**: COMPLETE (2026-01-14)\n\n## Key Results\n\n### The Answer: YES\n\nBarreto and Leeham (2026) proved this using the same construction as Problem #729.\nThe extra prime power factors provide enough 'room' in the divisibility to push\na₁ + a₂ further beyond n.\n\n### The Strong Version is FALSE\n\nSothanaphan showed the 'for all large n' version fails:\nn = p_{r+1}^k - 1 provides counterexamples.\n\n### Connection to Problem #400\n\nProblem #400 studied g_k(n) = max(a₁ + ... + aₖ - n) when a₁!...aₖ! | n!.\nErdős-Graham showed g₂(n) ≪ log n.\nProblem #401 asks if extra primorial factors can beat this.\n\n## Sessions\n\n### Session 2026-01-14 - Initial Formalization\n\n**Mode**: REVISIT\n**Outcome**: Complete formalization\n\n#### What I Did\n- Defined prime infrastructure (nthPrime, primorialPow)\n- Defined divisibility predicate with primorial factors\n- Axiomatized Barreto-Leeham proof and Sothanaphan counterexample\n- Connected to Problem #400 via g₂ function\n- Proved main theorem from axiom\n\n#### Files Modified\n- proofs/Proofs/Erdos401Problem.lean (complete rewrite, ~175 lines)\n\n---\n\n*Generated 2026-01-14*\n"
  },
  "approaches": [
    {
      "name": "Axiomatize Barreto-Leeham proof",
      "status": "successful",
      "description": "Axiomatize the proved result and derive main theorem"
    }
  ],
  "tags": [
    "erdos",
    "proved",
    "number-theory",
    "factorials",
    "divisibility",
    "primes"
  ],
  "relatedProofs": [
    "Erdos400Problem",
    "Erdos728Problem",
    "Erdos729Problem"
  ],
  "references": {
    "papers": [
      "Erdős, P. & Graham, R. (1980). Old and New Problems in Combinatorial Number Theory, p.78",
      "Barreto, Leeham (2026). AI-assisted proof via ChatGPT"
    ],
    "urls": [
      "https://erdosproblems.com/401",
      "https://erdosproblems.com/400",
      "https://erdosproblems.com/729"
    ],
    "mathlib": []
  },
  "started": "2026-01-14T00:00:00Z",
  "significance": 6,
  "tractability": 7
}
