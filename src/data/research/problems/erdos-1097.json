{
  "slug": "erdos-1097",
  "title": "Erdős #1097",
  "phase": "SURVEY",
  "status": "active",
  "tier": "B",
  "path": "full",
  "problemStatement": {
    "formal": "Let A be a set of n integers. Let D(A) = {d : ∃a ∈ A with a, a+d, a+2d ∈ A} be the set of common differences of 3-term APs in A. What is the maximum of |D(A)| over n-element sets A? Is it O(n^{3/2})?",
    "plain": "How many distinct common differences can appear among 3-term arithmetic progressions in an n-element integer set?",
    "whyMatters": [
      "Connects to fundamental questions in additive combinatorics",
      "Equivalent to Bourgain's sums-differences problem",
      "Related to the Kakeya conjecture in harmonic analysis"
    ]
  },
  "knownResults": {
    "proven": [
      "Katz-Tao (1999): Upper bound |D(A)| ≤ C·n^{11/6}",
      "Lemm (2015): Lower bound constructions achieving n^{1.77898...}",
      "Erdős-Spencer: Probabilistic constructions achieving n^{3/2}",
      "Erdős-Ruzsa: Explicit constructions achieving n^{1+c} for some c > 0"
    ],
    "open": [
      "Is the true exponent 3/2?",
      "Close the gap between 1.778 and 1.833",
      "Find better constructions or improve upper bound"
    ],
    "goal": "Determine the true asymptotic behavior of |D(A)|"
  },
  "currentState": {
    "phase": "SURVEY",
    "since": "2026-01-23T18:11:00.000Z",
    "iteration": 2,
    "focus": "Formalization of known bounds and connections",
    "blockers": [
      "This is an OPEN problem with a non-trivial gap in known bounds",
      "Closing the gap requires either new constructions or new techniques"
    ],
    "nextAction": "Study Katz-Tao techniques for potential upper bound improvements",
    "attemptCounts": {
      "total": 1,
      "currentApproach": 1,
      "approachesTried": 1
    }
  },
  "knowledge": {
    "progressSummary": "SURVEY: Created comprehensive Lean formalization of this counting problem including known bounds, equivalence to Bourgain's problem, and connection to Kakeya conjecture.",
    "builtItems": [
      "proofs/Proofs/Erdos1097Problem.lean - Full formalization with definitions, Katz-Tao upper bound, Lemm lower bound, and Bourgain equivalence"
    ],
    "insights": [
      "D(A) counts distinct common differences d where a, a+d, a+2d ∈ A for some a",
      "Current bounds: 1.77898... ≤ c ≤ 11/6 ≈ 1.833 where |D(A)| = Θ(n^c)",
      "Equivalent to Bourgain's sums-differences problem via Chan's observation",
      "Connected to Kakeya conjecture - arithmetic approach to geometric problem",
      "Erdős speculated n^{3/2} may be optimal but this is unproven",
      "AlphaEvolve (2025) found slight improvement on Lemm's lower bound"
    ],
    "mathlibGaps": [
      "No direct formalization of common differences counting",
      "Bourgain's restricted sums/differences not in Mathlib",
      "Connection to Kakeya would need geometric formalization"
    ],
    "nextSteps": [
      "Study Katz-Tao projection arguments for potential improvements",
      "Explore if better constructions exist using algebraic methods",
      "Investigate connection to incidence geometry"
    ],
    "markdown": "# Erdős #1097 - Knowledge Base\n\n## Problem Statement (Cleaned)\n\nLet A be a set of n integers. Define D(A) = {d : ∃a with a, a+d, a+2d ∈ A}.\nQuestion: What is max|D(A)| over n-element sets? Is it O(n^{3/2})?\n\n## Current Bounds\n\n| Bound | Value | Source | Year |\n|-------|-------|--------|------|\n| Lower | n^{1.77898...} | Lemm | 2015 |\n| Upper | n^{11/6} ≈ n^{1.833} | Katz-Tao | 1999 |\n\nErdős speculated n^{3/2} ≈ n^{1.5} might be optimal.\n\n## Equivalence to Bourgain's Problem\n\nChan observed this is equivalent to Bourgain's sums-differences problem:\n\nFind smallest c ∈ [1,2] such that for sets A, B and G ⊆ A×B:\n|A -_G B| ≤ C · max(|A|, |B|, |A +_G B|)^c\n\nThis was introduced as an arithmetic path toward the Kakeya conjecture.\n\n## Key Constructions\n\n1. **Erdős-Ruzsa**: Explicit construction achieving n^{1+c}\n2. **Erdős-Spencer**: Probabilistic proof achieving n^{3/2}\n3. **Lemm (2015)**: Improved lower bound to n^{1.778...}\n4. **AlphaEvolve (2025)**: Slight further improvement\n\n## Status\n\n**Erdős Database Status**: OPEN\n**Our Status**: SURVEYED - Problem formalized with known bounds\n\n**Tractability Score**: 3/10 (OPEN with active research)\n**Aristotle Suitable**: No (OPEN problem)\n\n## Lean Formalization\n\nCreated `proofs/Proofs/Erdos1097Problem.lean` containing:\n- Definition of common differences set D(A)\n- Katz-Tao upper bound (axiom)\n- Lemm lower bound (axiom)\n- Bourgain equivalence statement\n- Connection to Kakeya conjecture noted\n\n## References\n\n- [KaTa99] Katz-Tao: Bounds on arithmetic projections (1999)\n- [Le15] Lemm: New counterexamples for sums-differences (2015)\n- [Bo99] Bourgain: On the dimension of Kakeya sets (1999)\n- [GGTW25] AlphaEvolve: Mathematical exploration at scale (2025)\n\n## Research Session: 2026-01-23\n\n**Agent**: researcher-1\n**Outcome**: SURVEY - Created Lean formalization of OPEN problem\n**Files**: proofs/Proofs/Erdos1097Problem.lean\n\n---\n\n*Updated 2026-01-23*\n"
  },
  "approaches": [
    {
      "name": "Formalize known bounds",
      "status": "completed",
      "description": "State Katz-Tao upper bound and Lemm lower bound as axioms, define key concepts"
    }
  ],
  "tags": [
    "erdos",
    "additive-combinatorics",
    "arithmetic-progressions",
    "counting",
    "open-problem",
    "kakeya"
  ],
  "relatedProofs": [
    "SzemerediTheorem.lean"
  ],
  "references": {
    "papers": [
      "Katz-Tao: Bounds on arithmetic projections (1999)",
      "Lemm: New counterexamples for sums-differences (2015)",
      "Bourgain: On the dimension of Kakeya sets (1999)",
      "AlphaEvolve: Mathematical exploration at scale (2025)"
    ],
    "urls": [
      "https://erdosproblems.com/1097"
    ],
    "mathlib": [
      "Mathlib.Combinatorics.Additive.AP.Three.Defs",
      "Mathlib.Data.Finset.Basic"
    ]
  },
  "started": "2026-01-15T15:31:24.882Z",
  "significance": 5,
  "tractability": 3
}
