{
  "id": "erdos-820",
  "title": "Erdős Problem #820: GCD of Exponential Sequences",
  "slug": "erdos-820",
  "description": "Let H(n) = min{l : ∃k<l with gcd(k^n-1, l^n-1)=1}. Is H(n)=3 infinitely often?",
  "meta": {
    "author": "Erdős (1974 partial), van Doorn (improvement)",
    "sourceUrl": "https://erdosproblems.com/820",
    "date": "1974",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos820Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "gcd",
      "exponential-sequences",
      "multiplicative-order",
      "open"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 820,
    "erdosUrl": "https://erdosproblems.com/820",
    "erdosProblemStatus": "open",
    "dateAdded": "2026-01-18",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.gcd",
        "description": "Greatest common divisor",
        "module": "Mathlib.Data.Nat.GCD.Basic"
      },
      {
        "theorem": "Nat.Prime",
        "description": "Prime number definition",
        "module": "Mathlib.Data.Nat.Prime.Basic"
      },
      {
        "theorem": "Real.exp",
        "description": "Exponential function",
        "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic"
      },
      {
        "theorem": "Real.log",
        "description": "Natural logarithm",
        "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic"
      }
    ],
    "originalContributions": [
      "areNCoprime definition: gcd(k^n-1, l^n-1) = 1",
      "hasNCoprimePredecessor definition: existence of coprime pair",
      "H function definition: minimal l with coprime predecessor",
      "knownHValues: H(1..10) = [3,3,3,6,3,18,3,6,3,12]",
      "erdos820Conjecture1: H(n)=3 infinitely often",
      "erdos820LowerBoundConjecture: growth lower bound",
      "erdos820UpperBoundConjecture: growth upper bound",
      "erdos_1974_lower_bound axiom: Erdős's weaker bound",
      "van_doorn_lower_bound axiom: improved lower bound",
      "K function definition: dual question",
      "oeisA263647: set of n with gcd(2^n-1, 3^n-1)=1",
      "Connection to Problem #770 (h(n) function)"
    ]
  },
  "overview": {
    "historicalContext": "**The GCD Problem for Exponential Sequences**\n\nThis problem originates from Erdős's 1974 paper \"Remarks on some problems in number theory\" in Mathematica Balkanica. The core question studies when powers of different bases minus one are coprime.\n\n**The Function H(n)**\n\nDefine H(n) as the smallest l such that there exists k < l with gcd(k^n - 1, l^n - 1) = 1. This measures how \"rare\" coprimality is among these exponential expressions.\n\n**Computed Values**\n\nFor small n: H(1)=3, H(2)=3, H(3)=3, H(4)=6, H(5)=3, H(6)=18, H(7)=3, H(8)=6, H(9)=3, H(10)=12. The value H(n)=3 occurs frequently, corresponding to gcd(2^n-1, 3^n-1)=1.\n\n**Progress**\n\n1. **Erdős (1974):** Proved H(n) > exp(n^{c/(log log n)²}) for infinitely many n\n2. **van Doorn:** Improved to H(n) > exp(n^{c/log log n}) infinitely often\n3. **OEIS A263647:** Catalogues n where gcd(2^n-1, 3^n-1)=1\n\nThe main conjectures remain OPEN.",
    "problemStatement": "**Problem Statement (OPEN)**\n\nLet $H(n)$ be the smallest integer $l$ such that there exist $k < l$ with $\\gcd(k^n - 1, l^n - 1) = 1$.\n\n**Question 1:** Is $H(n) = 3$ infinitely often?\n\nEquivalently: does $\\gcd(2^n - 1, 3^n - 1) = 1$ for infinitely many $n$?\n\n**Question 2:** Estimate $H(n)$. Is there $c > 0$ such that for all $\\epsilon > 0$:\n- $H(n) > \\exp(n^{(c-\\epsilon)/\\log\\log n})$ infinitely often, and\n- $H(n) < \\exp(n^{(c+\\epsilon)/\\log\\log n})$ for all large $n$?\n\n**Question 3:** Does the smallest $k$ with $\\gcd(k^n-1, 2^n-1)=1$ satisfy similar bounds?\n\n**Status: OPEN** - All main conjectures remain unresolved.",
    "proofStrategy": "**Formalization Approach**\n\n1. **Core Definitions:** Define areNCoprime for gcd(k^n-1, l^n-1)=1, hasNCoprimePredecessor, and the H(n) function.\n\n2. **Computed Values:** Encode known values H(1)..H(10) for reference.\n\n3. **Main Conjectures:** Formalize erdos820Conjecture1 (H(n)=3 infinitely often), lower bound conjecture, and upper bound conjecture.\n\n4. **Known Results:** Axiomatize Erdős's 1974 bound and van Doorn's improvement.\n\n5. **Dual Function:** Define K(n) for the related question about smallest k.\n\n6. **Number Theory:** Connect to multiplicative orders and Fermat's Little Theorem.\n\n7. **Related Problems:** Link to Problem #770 about pairwise coprimality.\n\n**Why Axiomatization?** The known results require deep analytic number theory (estimates on prime divisibility patterns) beyond Mathlib's current scope.",
    "keyInsights": [
      "**Multiplicative Order Connection:** gcd(k^n-1, l^n-1) > 1 iff k and l share a common divisor d|n such that both k^d ≡ 1 and l^d ≡ 1 (mod some prime p).",
      "**Fermat's Little Theorem:** If p-1|n, then p|gcd for many k,l, making coprimality rare.",
      "**H(n)=3 Frequency:** The case k=2, l=3 is the minimal possibility; its frequency is the main conjecture.",
      "**Iterated Logarithm Growth:** The conjectured bounds involve exp(n^{c/log log n}), a very slow growth rate.",
      "**OEIS Connection:** Sequence A263647 tracks when gcd(2^n-1, 3^n-1)=1.",
      "**Related to Problem #770:** The function h(n) requires ALL pairs up to l to be coprime, while H(n) only needs one pair."
    ]
  },
  "sections": [
    {
      "id": "h-function",
      "title": "The H(n) Function",
      "summary": "areNCoprime, hasNCoprimePredecessor, H definitions",
      "startLine": 38,
      "endLine": 66
    },
    {
      "id": "computed-values",
      "title": "Computed Values",
      "summary": "knownHValues, H_eq_3_iff_2_3_coprime",
      "startLine": 67,
      "endLine": 97
    },
    {
      "id": "main-conjecture",
      "title": "The Main Conjecture",
      "summary": "erdos820Conjecture1, erdos820Conjecture1', oeisA263647",
      "startLine": 98,
      "endLine": 125
    },
    {
      "id": "growth-estimates",
      "title": "Growth Estimates",
      "summary": "erdos820LowerBoundConjecture, erdos820UpperBoundConjecture",
      "startLine": 126,
      "endLine": 149
    },
    {
      "id": "known-results",
      "title": "Known Results",
      "summary": "erdos_1974_lower_bound, van_doorn_lower_bound axioms",
      "startLine": 150,
      "endLine": 177
    },
    {
      "id": "dual-function",
      "title": "Dual Function K(n)",
      "summary": "K definition, erdos820Question3",
      "startLine": 178,
      "endLine": 200
    },
    {
      "id": "number-theory",
      "title": "Number-Theoretic Context",
      "summary": "gcd_characterization, fermat_little_theorem",
      "startLine": 201,
      "endLine": 224
    },
    {
      "id": "problem-770",
      "title": "Connection to Problem #770",
      "summary": "h function, H_le_h relationship",
      "startLine": 225,
      "endLine": 248
    },
    {
      "id": "summary",
      "title": "Main Results Summary",
      "summary": "erdos_820_summary, erdos_820_open",
      "startLine": 249,
      "endLine": 277
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #820 studies the function H(n) = min{l : ∃k<l with gcd(k^n-1, l^n-1)=1}. The main conjecture asks if H(n)=3 infinitely often (equivalent to gcd(2^n-1, 3^n-1)=1 infinitely often). Erdős also conjectured precise growth bounds involving iterated logarithms. Van Doorn improved Erdős's 1974 lower bound, but the main conjectures remain OPEN.",
    "implications": "**Implications in Number Theory**\n\n1. **Multiplicative Structure:** The problem reveals deep structure in how primes divide expressions k^n-1.\n\n2. **Primitive Roots:** Related to distribution of multiplicative orders modulo primes.\n\n3. **Exponential GCDs:** Foundational for understanding when Mersenne-like numbers are coprime.\n\n4. **Analytic Number Theory:** Known bounds require sophisticated estimates on prime distributions.\n\n5. **Computational Interest:** OEIS A263647 provides computational data supporting the conjecture.",
    "openQuestions": [
      "Is H(n)=3 for infinitely many n?",
      "What is the precise constant c in the growth bounds?",
      "Does the conjectured upper bound hold?",
      "Analogous questions for other base pairs besides (2,3)",
      "Connection to the Artin primitive root conjecture"
    ]
  }
}
