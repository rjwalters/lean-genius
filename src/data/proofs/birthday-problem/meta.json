{
  "id": "birthday-problem",
  "title": "The Birthday Problem",
  "slug": "birthday-problem",
  "description": "The surprising probability that in a group of just 23 people, there's a greater than 50% chance that two share a birthday. A classic example of how probability defies intuition.",
  "meta": {
    "author": "von Mises (formalized in Lean 4 with Mathlib)",
    "sourceUrl": "https://en.wikipedia.org/wiki/Birthday_problem",
    "date": "1939",
    "status": "verified",
    "tags": [
      "probability",
      "combinatorics",
      "counting",
      "classic",
      "beginner"
    ],
    "proofRepoPath": "Proofs/BirthdayProblem.lean",
    "badge": "mathlib",
    "sorries": 0,
    "mathlibDependencies": [
      {
        "theorem": "Fintype.card_embedding_eq",
        "description": "Number of injective functions between finite types",
        "module": "Mathlib.Logic.Embedding.Basic"
      },
      {
        "theorem": "Nat.descFactorial",
        "description": "Falling factorial n(n-1)...(n-k+1)",
        "module": "Mathlib.Data.Nat.Factorial.Basic"
      },
      {
        "theorem": "Fintype.card_fun",
        "description": "Number of functions between finite types",
        "module": "Mathlib.Data.Fintype.Card"
      }
    ],
    "originalContributions": [
      "Complete formalization of the birthday probability formula",
      "Proofs for special cases (n=0, n=1, n=2, n>365)",
      "Full proof of the 23-person threshold using native_decide for large integer arithmetic",
      "Connection to injective function counting"
    ],
    "dateAdded": "12/26/25",
    "wiedijkNumber": 93
  },
  "overview": {
    "historicalContext": "The Birthday Problem, also known as the Birthday Paradox, was first analyzed by:\n\n- **Richard von Mises (1939)**: First rigorous statement of the problem\n- **Popular mathematics**: Became a classic example of counterintuitive probability\n- **Cryptography**: The 'birthday attack' exploits this principle against hash functions\n\nThe 'paradox' is that most people greatly underestimate the probability. With just 23 people, there's already a >50% chance of a shared birthday!",
    "problemStatement": "**The Birthday Problem**:\n\nIn a group of $n$ people (assuming 365 equally likely birthdays), the probability that at least two share a birthday is:\n\n$$P(n) = 1 - \\frac{365!}{365^n \\cdot (365-n)!} = 1 - \\frac{365 \\cdot 364 \\cdots (365-n+1)}{365^n}$$\n\n**Key result**: For $n = 23$, $P(23) > 0.5$.\n\nThis is the famous '23 people' threshold where shared birthdays become more likely than not.",
    "proofStrategy": "We compute the probability by counting the complement:\n\n1. **Total assignments**: Each of $n$ people can have any of 365 birthdays, giving $365^n$ possibilities.\n\n2. **Distinct assignments**: For all birthdays to be different:\n   - Person 1: 365 choices\n   - Person 2: 364 choices (avoiding person 1)\n   - Person $k$: $(365 - k + 1)$ choices\n   - Total: $365 \\times 364 \\times \\cdots \\times (365-n+1)$ = descFactorial(365, n)\n\n3. **Probability**: P(all distinct) = descFactorial(365, n) / 365^n\n\n4. **Complement**: P(at least one match) = 1 - P(all distinct)",
    "keyInsights": [
      "We count the complement (all distinct) because it's easier",
      "The probability grows faster than intuition suggests",
      "With 23 people, probability exceeds 50%; with 70 people, it exceeds 99.9%",
      "The 'paradox' is psychological, not mathematical",
      "This principle underlies the 'birthday attack' in cryptography"
    ]
  },
  "sections": [
    {
      "id": "header",
      "title": "Introduction",
      "startLine": 1,
      "endLine": 63,
      "summary": "Overview of the birthday problem and the probability formula."
    },
    {
      "id": "setting",
      "title": "The Setting",
      "startLine": 65,
      "endLine": 87,
      "summary": "Modeling birthdays as functions from people to days."
    },
    {
      "id": "counting",
      "title": "Counting Distinct Assignments",
      "startLine": 88,
      "endLine": 118,
      "summary": "Using falling factorials to count injective functions."
    },
    {
      "id": "formula",
      "title": "The Probability Formula",
      "startLine": 119,
      "endLine": 150,
      "summary": "The complete probability calculation."
    },
    {
      "id": "specific-values",
      "title": "Specific Values",
      "startLine": 151,
      "endLine": 183,
      "summary": "Concrete probabilities for n=0, 1, 2, and n>365."
    },
    {
      "id": "threshold",
      "title": "The 23-Person Threshold",
      "startLine": 184,
      "endLine": 212,
      "summary": "The famous result that P(23) > 1/2."
    }
  ],
  "conclusion": {
    "summary": "The Birthday Problem is formalized using Mathlib's combinatorics. We prove the probability formula, establish boundary cases, and fully prove the 23-person threshold using native_decide for large integer comparisons (53+ digit numbers).",
    "implications": "The Birthday Problem has practical implications beyond probability theory:\n\n**1. Cryptography**\nBirthday attacks can break hash functions in O(sqrt(n)) rather than O(n) time.\n\n**2. Database systems**\nHash collision probabilities follow the same mathematics.\n\n**3. Statistical sampling**\nUnderstanding coincidences in random samples.\n\n**4. Teaching probability**\nA perfect example of how intuition can mislead.",
    "openQuestions": [
      "What is the expected number of shared pairs in a group of n people?",
      "How does the problem change with non-uniform birthday distributions?",
      "What are the implications for hash function security?",
      "How many people are needed for a 99% probability of a match?"
    ]
  }
}
