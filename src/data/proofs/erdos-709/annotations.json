[
  {
    "id": "ann-e709-header",
    "proofId": "erdos-709",
    "range": { "startLine": 1, "endLine": 29 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #709** asks for tight bounds on $f(n)$, the minimal function ensuring any interval of $f(n) \\cdot \\max(A)$ consecutive integers contains distinct multiples covering every element of an $n$-element set $A \\subseteq [2,\\infty)$.\n\n**Known bounds** (Erdős-Surányi, 1959):\n- Lower: $f(n) \\geq (\\log n)^c$ for some $c > 0$\n- Upper: $f(n) \\leq C\\sqrt{n}$ for some $C > 0$\n\nThe problem is **open**: the true growth rate of $f(n)$ remains unknown.",
    "mathContext": "This is a covering problem in combinatorial number theory. The function f(n) captures how long an interval must be to guarantee a system of distinct representatives under divisibility constraints. The normalization by max(A) makes f(n) depend only on the set size n, not the specific elements.",
    "significance": "critical",
    "relatedConcepts": ["Divisibility", "Covering problems", "Systems of distinct representatives", "Chinese Remainder Theorem"]
  },
  {
    "id": "ann-e709-validset",
    "proofId": "erdos-709",
    "range": { "startLine": 48, "endLine": 49 },
    "type": "definition",
    "title": "ValidSet",
    "content": "**ValidSet** A:\n\nA finite set of positive integers where every element is at least 2.\n\n**Definition:**\n```lean\ndef ValidSet (A : Finset ℕ) : Prop := ∀ a ∈ A, a ≥ 2\n```\n\nThe constraint a ≥ 2 is essential: if a = 1 were allowed, every integer would be a multiple of 1, making the problem trivial.",
    "mathContext": "The condition a ≥ 2 ensures non-trivial divisibility constraints. For a = 1, every integer is a multiple, so the covering problem degenerates.",
    "significance": "critical",
    "relatedConcepts": ["Finite sets", "Divisibility", "Natural numbers"]
  },
  {
    "id": "ann-e709-interval",
    "proofId": "erdos-709",
    "range": { "startLine": 55, "endLine": 62 },
    "type": "definition",
    "title": "Interval Structure",
    "content": "**Interval** of consecutive integers:\n\nRepresents the set {start, start+1, ..., start+length-1}.\n\n```lean\nstructure Interval where\n  start : ℕ\n  length : ℕ\n```\n\nThe key parameter is **length**: Problem 709 asks how large the length must be (as a multiple of max(A)) to guarantee covering.",
    "mathContext": "Working with intervals of consecutive integers rather than arbitrary sets is what distinguishes this from more general covering problems. The consecutive structure interacts with divisibility in structured ways.",
    "significance": "critical",
    "relatedConcepts": ["Consecutive integers", "Interval arithmetic", "Number theory"]
  },
  {
    "id": "ann-e709-covering",
    "proofId": "erdos-709",
    "range": { "startLine": 70, "endLine": 79 },
    "type": "definition",
    "title": "Covering Structure",
    "content": "**Covering** for set A in interval I:\n\nAn assignment mapping each $a_i \\in A$ to a distinct $x_i \\in I$ with $a_i \\mid x_i$.\n\nFour conditions must hold:\n1. **in_interval**: Each $x_i$ lies in $I$\n2. **divides**: Each $a_i$ divides its assigned $x_i$\n3. **injective**: All $x_i$ are distinct (the 'system of distinct representatives' condition)\n\nThis is the central object: Problem 709 asks when such a covering is guaranteed to exist.",
    "mathContext": "This is formally a system of distinct representatives (SDR) for the bipartite graph where each a_i is connected to its multiples in I. Hall's marriage theorem characterizes when SDRs exist, which underlies the upper bound proof.",
    "significance": "critical",
    "relatedConcepts": ["Systems of distinct representatives", "Hall's marriage theorem", "Bipartite matching", "Injective functions"]
  },
  {
    "id": "ann-e709-f-function",
    "proofId": "erdos-709",
    "range": { "startLine": 96, "endLine": 101 },
    "type": "axiom",
    "title": "The Function f(n)",
    "content": "**f(n)**: the minimal $k$ such that any interval of $k \\cdot \\max(A)$ consecutive integers has the covering property for every valid $n$-element set $A$.\n\nAxiomatized with:\n- **f_pos**: $f(n) > 0$ for $n \\geq 1$\n- **f_sufficient**: intervals of length $\\geq f(n) \\cdot \\max(A)$ always admit a covering\n\nComputing f(n) exactly is infeasible, so we axiomatize it and work with bounds.",
    "mathContext": "The function f(n) is well-defined by a compactness argument: for fixed n, there are finitely many 'worst-case' configurations up to scaling by max(A). The axiomatization captures the key property that f(n) suffices without needing to compute it.",
    "significance": "critical",
    "relatedConcepts": ["Extremal functions", "Minimax problems", "Axiomatization"]
  },
  {
    "id": "ann-e709-lower-bound",
    "proofId": "erdos-709",
    "range": { "startLine": 107, "endLine": 110 },
    "type": "axiom",
    "title": "Lower Bound: (log n)^c",
    "content": "**Lower bound** (Erdős-Surányi 1959):\n\n$$f(n) \\geq (\\log n)^c$$\n\nfor some constant $c > 0$ and all sufficiently large $n$.\n\n**Proof idea**: Take $A = \\{p_1, \\ldots, p_n\\}$ to be the first $n$ primes. By the Chinese Remainder Theorem, the events '$p_i$ divides a random integer' are approximately independent. A probabilistic counting argument shows that short intervals sometimes fail to provide enough distinct multiples.",
    "mathContext": "The lower bound uses the probabilistic method — a hallmark of Erdős's approach. The key insight is that for prime sets, the Chinese Remainder Theorem makes the divisibility constraints nearly independent, and a counting argument shows short intervals are sometimes insufficient.",
    "significance": "critical",
    "relatedConcepts": ["Probabilistic method", "Chinese Remainder Theorem", "Prime numbers", "Erdős-style arguments"]
  },
  {
    "id": "ann-e709-upper-bound",
    "proofId": "erdos-709",
    "range": { "startLine": 112, "endLine": 115 },
    "type": "axiom",
    "title": "Upper Bound: C√n",
    "content": "**Upper bound** (Erdős-Surányi 1959):\n\n$$f(n) \\leq C\\sqrt{n}$$\n\nfor some constant $C > 0$ and all $n \\geq 1$.\n\n**Proof idea**: In an interval of length $\\sqrt{n} \\cdot \\max(A)$, each $a_i$ has at least $\\sqrt{n}$ multiples in $I$. By Hall's marriage theorem, a system of distinct representatives exists whenever every subset $S \\subseteq A$ collectively has at least $|S|$ multiples — which the $\\sqrt{n}$ multiplicity guarantees.",
    "mathContext": "Hall's marriage theorem states that a bipartite graph has a perfect matching iff every subset of one side has enough neighbors. Here, each a_i has ≥ √n multiples in I, and the pigeonhole principle ensures Hall's condition is satisfied.",
    "significance": "critical",
    "relatedConcepts": ["Hall's marriage theorem", "Pigeonhole principle", "Greedy algorithms", "Bipartite matching"]
  },
  {
    "id": "ann-e709-combined",
    "proofId": "erdos-709",
    "range": { "startLine": 117, "endLine": 121 },
    "type": "theorem",
    "title": "Erdős-Surányi 1959",
    "content": "**Combined bounds theorem:**\n\n$$(\\log n)^c \\ll f(n) \\ll \\sqrt{n}$$\n\nThis theorem packages both bounds into a single statement. The proof is immediate from the two axioms `lower_bound_log` and `upper_bound_sqrt`.\n\nThe gap between these bounds is the heart of the open problem.",
    "mathContext": "The ≪ notation (Vinogradov notation) means 'bounded above by a constant times'. The combined statement shows f(n) is sandwiched between polynomial and logarithmic growth, with the exact rate unknown.",
    "significance": "critical",
    "relatedConcepts": ["Asymptotic notation", "Vinogradov notation", "Bounds"]
  },
  {
    "id": "ann-e709-special",
    "proofId": "erdos-709",
    "range": { "startLine": 127, "endLine": 131 },
    "type": "axiom",
    "title": "Small Cases: f(1) and f(2)",
    "content": "**Special cases:**\n\n- $f(1) = 1$: Any interval of length $\\max(A)$ contains a multiple of the single element $a_1$\n- $f(2) \\leq 2$: Two elements can always be covered in an interval of length $2 \\cdot \\max(A)$\n\nThese base cases are easy to verify directly and anchor the function f.",
    "mathContext": "For f(1): in any interval of length a₁, at least one integer is divisible by a₁ (since multiples of a₁ are spaced a₁ apart). For f(2): with length 2·max(a,b), there are enough multiples of both a and b to find distinct ones.",
    "significance": "key",
    "relatedConcepts": ["Base cases", "Divisibility spacing"]
  },
  {
    "id": "ann-e709-monotone",
    "proofId": "erdos-709",
    "range": { "startLine": 137, "endLine": 141 },
    "type": "axiom",
    "title": "Monotonicity and Growth",
    "content": "**Properties of f:**\n\n- **Monotone**: $m \\leq n \\implies f(m) \\leq f(n)$ — larger sets need longer intervals\n- **At least logarithmic**: $f(n) \\geq \\log n$ for $n \\geq 2$ — even the weakest lower bound grows\n\nMonotonicity follows because any $m$-element covering problem embeds into an $n$-element one.",
    "mathContext": "Monotonicity is natural: covering more elements is harder. The logarithmic lower bound is weaker than (log n)^c but holds for all n ≥ 2, not just sufficiently large n.",
    "significance": "key",
    "relatedConcepts": ["Monotone functions", "Extremal combinatorics"]
  },
  {
    "id": "ann-e709-problem708",
    "proofId": "erdos-709",
    "range": { "startLine": 143, "endLine": 166 },
    "type": "concept",
    "title": "Connection to Problem 708",
    "content": "**Problem 708** defines $g(n)$: the minimal size of a subset $B$ needed for covering.\n\n**Key distinction:**\n- $f(n)$ (Problem 709): How **long** must an interval be?\n- $g(n)$ (Problem 708): How **large** must a covering subset be?\n\nBoth are covering-by-divisibility problems but measure different quantities.\n\n**Known for g**: $g(n) \\geq 2n - 1$, $g(2) = 2$, $g(3) = 4$.",
    "mathContext": "Problems 708 and 709 are companion problems that Erdős posed together. They share the underlying structure of divisibility coverings but optimize different parameters. Techniques for one often inform the other.",
    "significance": "key",
    "relatedConcepts": ["Erdős Problem 708", "Covering problems", "Extremal set theory"]
  },
  {
    "id": "ann-e709-open",
    "proofId": "erdos-709",
    "range": { "startLine": 168, "endLine": 200 },
    "type": "concept",
    "title": "The Open Problem",
    "content": "**The central open question**: What is the true growth rate of $f(n)$?\n\nThe Erdős-Surányi bounds leave a polynomial gap. We formalize the openness via two axioms:\n\n- **Lower not tight**: $f(n)$ is not bounded by $C \\cdot (\\log n)^C$ for any constant $C$\n- **Upper not tight**: $f(n)$ does not always exceed $\\sqrt{n}/2$\n\nThree candidate asymptotic behaviors:\n1. $f(n) \\sim (\\log n)^c$ for some $c > 1$\n2. $f(n) \\sim n^\\alpha$ for some $0 < \\alpha < 1/2$\n3. $f(n) \\sim \\sqrt{n} / (\\log n)^\\beta$ for some $\\beta > 0$",
    "mathContext": "The conjecture_growth_rate definition formalizes the question of whether f(n) has polynomial growth by asking if log(f(n))/log(n) converges. This would rule out the logarithmic-power scenario. The problem has remained open for over 65 years.",
    "significance": "critical",
    "relatedConcepts": ["Asymptotic analysis", "Growth rates", "Open problems in combinatorics"]
  },
  {
    "id": "ann-e709-techniques",
    "proofId": "erdos-709",
    "range": { "startLine": 202, "endLine": 232 },
    "type": "concept",
    "title": "Proof Techniques",
    "content": "**Two fundamentally different methods** establish the known bounds:\n\n**Lower bound (CRT + probabilistic)**:\n- Take $A = \\{p_1, \\ldots, p_n\\}$ as distinct primes\n- By CRT, multiples of different primes are nearly independent\n- Probabilistic counting shows short intervals sometimes fail\n\n**Upper bound (Hall's marriage theorem)**:\n- In long intervals, each $a_i$ has $\\geq \\sqrt{n}$ multiples\n- Hall's condition is satisfied: every subset has enough neighbors\n- Therefore a system of distinct representatives exists",
    "mathContext": "The asymmetry in proof techniques is remarkable: the lower bound uses probabilistic/algebraic methods (CRT), while the upper bound uses combinatorial/graph-theoretic methods (Hall's theorem). Bridging this methodological gap may be key to closing the bounds.",
    "significance": "key",
    "relatedConcepts": ["Probabilistic method", "Chinese Remainder Theorem", "Hall's marriage theorem", "Bipartite matching"]
  },
  {
    "id": "ann-e709-example-div2",
    "proofId": "erdos-709",
    "range": { "startLine": 238, "endLine": 246 },
    "type": "proof",
    "title": "Divisibility by 2 Example",
    "content": "**Proved example**: Any interval of length $\\geq 2$ contains a multiple of 2.\n\nThis is the simplest case of the covering problem with $n = 1$, $A = \\{2\\}$.\n\nThe proof constructs the nearest even number $2 \\cdot \\lceil(\\text{start}+1)/2\\rceil$ and verifies it lies in the interval using `omega`.",
    "mathContext": "This is a constructive proof: we explicitly find the multiple rather than using an existence argument. The omega tactic handles the arithmetic inequalities automatically.",
    "significance": "supporting",
    "relatedConcepts": ["Constructive proofs", "Omega tactic", "Even numbers"]
  },
  {
    "id": "ann-e709-sqrt-examples",
    "proofId": "erdos-709",
    "range": { "startLine": 248, "endLine": 254 },
    "type": "proof",
    "title": "Square Root Computations",
    "content": "**Computational verification** using `native_decide`:\n\n- $\\sqrt{100} = 10$\n- $\\sqrt{10000} = 100$\n\nThese illustrate the scale of the upper bound $f(n) \\leq C\\sqrt{n}$: at $n = 100$, intervals of length $\\sim 10 \\cdot \\max(A)$ suffice; at $n = 10000$, intervals of length $\\sim 100 \\cdot \\max(A)$ suffice.",
    "mathContext": "native_decide evaluates decidable propositions by compilation to native code, making it efficient for numerical computations. These examples ground the abstract upper bound in concrete numbers.",
    "significance": "supporting",
    "relatedConcepts": ["native_decide tactic", "Computational verification", "Square roots"]
  },
  {
    "id": "ann-e709-main-theorem",
    "proofId": "erdos-709",
    "range": { "startLine": 281, "endLine": 286 },
    "type": "theorem",
    "title": "Main Statement",
    "content": "**erdos_709_statement**: The main theorem combining both Erdős-Surányi bounds.\n\nStates the conjunction:\n1. Lower bound: $\\exists c > 0$ such that $f(n) \\geq (\\log n)^c$ for large $n$\n2. Upper bound: $\\exists C > 0$ such that $f(n) \\leq C\\sqrt{n}$ for all $n \\geq 1$\n\nProved by pairing the two axioms: `⟨lower_bound_log, upper_bound_sqrt⟩`.",
    "mathContext": "This theorem serves as the formal summary of what is known about Problem 709. The proof is a simple conjunction introduction, since the individual bounds are axiomatized. The real mathematical content is in the axioms themselves.",
    "significance": "critical",
    "relatedConcepts": ["Conjunction", "Axiom combination", "Problem summary"]
  }
]
