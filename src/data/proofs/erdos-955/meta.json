{
  "id": "erdos-955",
  "title": "Erdős Problem #955: Sum of Proper Divisors and Density",
  "slug": "erdos-955",
  "description": "If A ⊂ ℕ has density 0, must s⁻¹(A) also have density 0, where s(n) is the sum of proper divisors? Proved for primes (Pollack), sums of two squares (Troupe), and sparse sets (PPT). General case OPEN.",
  "meta": {
    "author": "Erdős-Granville-Pomerance-Spiro (1990)",
    "sourceUrl": "https://erdosproblems.com/955",
    "date": "1990",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos955Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "divisor-functions",
      "density",
      "arithmetic-functions",
      "open"
    ],
    "badge": "axiom",
    "sorries": 1,
    "erdosNumber": 955,
    "erdosUrl": "https://erdosproblems.com/955",
    "erdosProblemStatus": "open",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      { "theorem": "Nat.divisors", "description": "Set of divisors", "module": "Mathlib.NumberTheory.Divisors" },
      { "theorem": "Nat.properDivisors", "description": "Proper divisors (excluding n)", "module": "Mathlib.NumberTheory.Divisors" },
      { "theorem": "Nat.Prime", "description": "Primality predicate", "module": "Mathlib.Data.Nat.Prime.Basic" },
      { "theorem": "Filter.atTop", "description": "Limits at infinity", "module": "Mathlib.Order.Filter.Basic" },
      { "theorem": "Real.log", "description": "Natural logarithm", "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic" }
    ],
    "originalContributions": [
      "sigma: Sum of all divisors",
      "s: Sum of proper divisors s(n) = σ(n) - n",
      "IsPerfect, IsDeficient, IsAbundant: Classifications",
      "HasDensity, HasZeroDensity: Natural density definitions",
      "preimage_s: Definition of s⁻¹(A)",
      "EGPSConjecture: Main conjecture statement",
      "IsUntouchable: Numbers not in range of s",
      "pollack_primes: Result for prime set",
      "troupe_two_squares: Result for sums of squares",
      "ppt_bound: Threshold x^{1/2+o(1)}",
      "sparse_sets_work: Corollary of PPT"
    ],
    "dateAdded": "2026-01-19"
  },
  "overview": {
    "historicalContext": "The sum of proper divisors s(n) = σ(n) - n has been studied since antiquity in connection with perfect numbers (where s(n) = n). The modern question about density preservation was formulated by Erdős, Granville, Pomerance, and Spiro in 1990. They asked whether zero-density sets remain zero-density under the preimage operation s⁻¹. Contrasting behaviors exist: s can map small sets to large sets, and large sets can have empty preimages (untouchable numbers).",
    "problemStatement": "**Problem (OPEN)**\n\nLet $s(n) = \\sigma(n) - n$ be the sum of proper divisors.\n\n**Conjecture:** If $A \\subset \\mathbb{N}$ has density $0$, then $s^{-1}(A)$ must also have density $0$.\n\n**Known Results:**\n- True for $A$ = primes (Pollack 2014)\n- True for $A$ = integers with many prime factors (Troupe 2015)\n- True for $A$ = sums of two squares (Troupe 2020)\n- True if $|A \\cap [1,x]| \\leq x^{1/2+o(1)}$ (PPT 2018)\n\n**Contrasts:**\n- $s(A)$ can have positive density even if $A$ has density 0\n- $s^{-1}(A)$ can be empty even if $A$ has positive density",
    "proofStrategy": "The formalization defines s(n) = σ(n) - n using Mathlib's divisor functions. Natural density is defined as the limit of counting functions. The EGPS conjecture is stated formally. Partial results by Pollack, Troupe, and PPT are axiomatized. The threshold exponent 1/2 is explained through the growth bound s(n) ≪ n log log n.",
    "keyInsights": [
      "**Sum of proper divisors:** s(n) = σ(n) - n, the 'aliquot sum'",
      "**Perfect numbers:** n with s(n) = n (e.g., 6, 28)",
      "**Untouchable numbers:** k with s⁻¹({k}) = ∅ (e.g., 2, 5)",
      "**Forward asymmetry:** s can amplify density (small A → large s(A))",
      "**Backward question:** Does small A force small s⁻¹(A)?",
      "**Threshold 1/2:** Sets growing like x^{1/2+o(1)} satisfy the conjecture"
    ]
  },
  "sections": [
    {
      "id": "divisor-function",
      "title": "The Sum of Proper Divisors Function",
      "summary": "sigma, s, s_alt definitions",
      "startLine": 38,
      "endLine": 71
    },
    {
      "id": "perfect-numbers",
      "title": "Perfect, Deficient, and Abundant Numbers",
      "summary": "IsPerfect, IsDeficient, IsAbundant",
      "startLine": 72,
      "endLine": 102
    },
    {
      "id": "density",
      "title": "Natural Density",
      "summary": "countUpTo, HasDensity, HasZeroDensity, HasPositiveDensity",
      "startLine": 103,
      "endLine": 133
    },
    {
      "id": "preimage",
      "title": "The Preimage s⁻¹(A)",
      "summary": "preimage_s definition",
      "startLine": 134,
      "endLine": 149
    },
    {
      "id": "egps-conjecture",
      "title": "The EGPS Conjecture",
      "summary": "EGPSConjecture, egps_conjecture_open",
      "startLine": 150,
      "endLine": 167
    },
    {
      "id": "contrasts",
      "title": "Contrasting Behaviors",
      "summary": "forward_fails, erdos_1973_empty_preimage, IsUntouchable",
      "startLine": 168,
      "endLine": 202
    },
    {
      "id": "partial-results",
      "title": "Partial Results",
      "summary": "pollack_primes, troupe_many_factors, troupe_two_squares",
      "startLine": 203,
      "endLine": 234
    },
    {
      "id": "ppt-bound",
      "title": "The PPT Bound",
      "summary": "ppt_bound, sparse_sets_work",
      "startLine": 235,
      "endLine": 259
    },
    {
      "id": "threshold",
      "title": "The Threshold 1/2",
      "summary": "threshold_explanation, s_bound",
      "startLine": 260,
      "endLine": 280
    },
    {
      "id": "summary",
      "title": "Summary",
      "summary": "erdos_955_statement, erdos_955, historical_note",
      "startLine": 281,
      "endLine": 325
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #955 is OPEN. The EGPS conjecture (1990) asks whether density-0 sets have density-0 preimages under the sum-of-proper-divisors function. Partial results exist for primes, sums of two squares, and sparse sets (growing like x^{1/2+o(1)}). The general case remains unresolved.",
    "implications": "A resolution would illuminate the behavior of multiplicative functions and their 'inverse' structure. The problem connects classical divisor theory to modern probabilistic number theory.",
    "openQuestions": [
      "Does the conjecture hold for all density-0 sets?",
      "What is the critical growth rate for A?",
      "Is the exponent 1/2 sharp?",
      "Can the partial results be unified into a general approach?"
    ]
  }
}
