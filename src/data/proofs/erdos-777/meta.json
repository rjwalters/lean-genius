{
  "id": "erdos-777",
  "title": "Erdos Problem #777: Comparable Pairs in Families of Sets",
  "slug": "erdos-777",
  "description": "Given a family F of subsets of {1,...,n}, how many comparable pairs can it have? Three questions about edge counts in the comparability graph were resolved by Alon, Frankl, and others.",
  "meta": {
    "author": "Alon-Das-Glebov-Sudakov (2015), Alon-Frankl (1985)",
    "sourceUrl": "https://erdosproblems.com/777",
    "date": "2015",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos777Problem.lean",
    "tags": [
      "erdos",
      "combinatorics",
      "extremal-set-theory",
      "graph-theory",
      "comparability",
      "solved"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 777,
    "erdosUrl": "https://erdosproblems.com/777",
    "erdosProblemStatus": "solved",
    "dateAdded": "2026-01-18",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Finset.powerset",
        "description": "Power set of a finite set",
        "module": "Mathlib.Data.Finset.Powerset"
      },
      {
        "theorem": "Finset.card",
        "description": "Cardinality of finite sets",
        "module": "Mathlib.Data.Finset.Card"
      },
      {
        "theorem": "Finset.filter",
        "description": "Filtering finite sets",
        "module": "Mathlib.Data.Finset.Basic"
      },
      {
        "theorem": "Finset.product",
        "description": "Cartesian product of finite sets",
        "module": "Mathlib.Data.Finset.Basic"
      }
    ],
    "originalContributions": [
      "Comparable definition: A and B comparable iff A ⊆ B or B ⊆ A",
      "comparabilityEdges: edge set of the comparability graph G_F",
      "edgeCount: number of comparable pairs in a family",
      "baseSet and powerSetOfBase: working with {0,...,n-1}",
      "question1_affirmative axiom: edge bound for small families (ADGS 2015)",
      "question2_negative axiom: counterexample to quadratic density (Alon-Frankl 1985)",
      "question3_affirmative axiom: subquadratic threshold (Alon-Frankl 1985)",
      "extremal_construction: tight example with 2^n edges",
      "alonFranklFamily: explicit counterexample family",
      "IsChain and IsAntichain definitions",
      "sperner_bound: maximum antichain size",
      "daykinFrankl: asymptotic chain characterization",
      "erdos_777_summary: combined main results"
    ]
  },
  "overview": {
    "historicalContext": "**Erdos Problem #777: Comparable Pairs in Set Families**\n\nThis problem was posed by Daykin and Erdos in the early 1980s, exploring the structure of families of sets through their comparability graphs.\n\n**Key History:**\n- Daykin and Erdos [Gu83]: Original problem formulation with three questions\n- Daykin and Frankl: Proved that if almost all pairs are comparable, then |F|^{1/n} approaches 1\n- Alon-Frankl [AlFr85]: Resolved Questions 2 (no) and 3 (yes)\n- Alon-Das-Glebov-Sudakov [ADGS15]: Resolved Question 1 (yes)\n\n**Mathematical Setting:**\nGiven a family F of subsets of {1,...,n}, the comparability graph G_F has F as vertices and connects A to B if they are comparable (one contains the other). The problem asks about the maximum number of edges possible under various size constraints on F.",
    "problemStatement": "**Problem Statement (All Three Questions Resolved)**\n\nLet $\\mathcal{F}$ be a family of subsets of $\\{1,\\ldots,n\\}$ with $|\\mathcal{F}| = m$. Define the comparability graph $G_{\\mathcal{F}}$ where $A \\sim B$ iff $A \\subseteq B$ or $B \\subseteq A$.\n\n**Question 1:** For $\\epsilon > 0$ and $n$ large, if $m \\leq (2-\\epsilon)2^{n/2}$, does $G_{\\mathcal{F}}$ have $< 2^n$ edges?\n**Answer: YES** (Alon-Das-Glebov-Sudakov 2015)\n\n**Question 2:** If $G_{\\mathcal{F}}$ has $\\geq cm^2$ edges, must $m \\ll_c 2^{n/2}$?\n**Answer: NO** (Alon-Frankl 1985 counterexample)\n\n**Question 3:** For $\\epsilon > 0$, does $\\delta > 0$ exist such that $> m^{2-\\delta}$ edges implies $m < (2+\\epsilon)^{n/2}$?\n**Answer: YES** (Alon-Frankl 1985)",
    "proofStrategy": "**Formalization Approach**\n\n1. **Core Definitions:** Define comparability of finite sets, the comparability graph, and edge counting functions\n\n2. **Base Structures:** Work with baseSet(n) = {0,...,n-1} and its power set\n\n3. **Three Main Axioms:**\n   - question1_affirmative: The edge bound for families of size (2-epsilon)*2^{n/2}\n   - question2_negative: Existence of the Alon-Frankl counterexample family\n   - question3_affirmative: The subquadratic threshold result\n\n4. **Supporting Results:**\n   - Chains have maximum edges, antichains have zero edges\n   - Sperner's bound on maximum antichain size\n   - Daykin-Frankl asymptotic characterization\n\n5. **Concrete Examples:** The extremal construction achieving exactly 2^n edges",
    "keyInsights": [
      "**Comparability Graph:** Two sets are connected iff one contains the other - this captures the partial order structure",
      "**Extremal Family:** All subsets of {1,...,n/2} plus {1,...,n/2} union each subset of {n/2+1,...,n} achieves exactly 2^n edges with 2^{n/2+1} sets",
      "**Question 2 Counterexample:** Sets with small upper-half intersection OR large lower-half intersection form a family much larger than n*2^{n/2} with quadratic edge density",
      "**Threshold Phenomenon:** There's a sharp transition between sparse (few comparable pairs) and dense (many comparable pairs) families",
      "**Sperner Connection:** Maximum antichains (zero edges) have size C(n, n/2), while chains (all edges) can have any size up to n+1"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "summary": "Comparable sets, comparability graph, edge counting",
      "startLine": 46,
      "endLine": 93
    },
    {
      "id": "base-set",
      "title": "The Base Set",
      "summary": "baseSet, powerSetOfBase, power set cardinality",
      "startLine": 95,
      "endLine": 116
    },
    {
      "id": "question-1",
      "title": "Question 1: Edge Bound",
      "summary": "question1_affirmative, extremal_construction",
      "startLine": 118,
      "endLine": 148
    },
    {
      "id": "question-2",
      "title": "Question 2: Quadratic Density",
      "summary": "question2_negative, alonFranklFamily counterexample",
      "startLine": 150,
      "endLine": 183
    },
    {
      "id": "question-3",
      "title": "Question 3: Subquadratic Threshold",
      "summary": "question3_affirmative, alonFrankl_quantitative",
      "startLine": 185,
      "endLine": 218
    },
    {
      "id": "daykin-frankl",
      "title": "Daykin-Frankl Result",
      "summary": "Asymptotic characterization when edge ratio approaches 1",
      "startLine": 220,
      "endLine": 244
    },
    {
      "id": "chains-antichains",
      "title": "Chains and Antichains",
      "summary": "IsChain, IsAntichain, extreme edge counts, Sperner bound",
      "startLine": 246,
      "endLine": 286
    },
    {
      "id": "examples",
      "title": "Examples",
      "summary": "singleton_comparable, empty_comparable, full_comparable",
      "startLine": 288,
      "endLine": 318
    },
    {
      "id": "adgs-theorem",
      "title": "ADGS Theorem",
      "summary": "Alon-Das-Glebov-Sudakov resolution of Question 1",
      "startLine": 320,
      "endLine": 337
    },
    {
      "id": "main-results",
      "title": "Main Results Summary",
      "summary": "erdos_777_summary combining all three answers",
      "startLine": 339,
      "endLine": 380
    }
  ],
  "conclusion": {
    "summary": "Erdos Problem #777 posed three questions about comparable pairs in families of sets. All three were resolved: Question 1 (edge bound for small families) was answered YES by Alon-Das-Glebov-Sudakov in 2015; Question 2 (quadratic density implies small family) was answered NO by Alon-Frankl in 1985 via an explicit counterexample; Question 3 (subquadratic threshold) was answered YES by Alon-Frankl in 1985. The problem illustrates the rich structure of comparability in partially ordered sets.",
    "implications": "**Connections to Combinatorics**\n\n1. **Extremal Set Theory:** Understanding maximum structures under containment constraints\n\n2. **Sperner Theory:** Antichains as families with zero comparable pairs\n\n3. **Partial Order Theory:** Comparability graphs encode the structure of inclusion\n\n4. **Threshold Phenomena:** Sharp transitions in combinatorial structures\n\n5. **Probabilistic Method:** Many proofs in this area use probabilistic arguments",
    "openQuestions": [
      "Exact characterization of extremal families for Question 1",
      "Optimal constants in the Alon-Frankl bounds",
      "Analogous problems for other partial orders",
      "Computational complexity of counting comparable pairs",
      "Generalizations to infinite families"
    ]
  }
}
