[
  {
    "id": "ann-divides-def",
    "proofId": "infinitude-primes",
    "range": { "startLine": 16, "endLine": 17 },
    "type": "definition",
    "title": "Divisibility Definition",
    "content": "We say $n$ **divides** $m$ (written $n \\mid m$) if there exists a natural number $k$ such that $m = k \\cdot n$. This is the foundational concept for number theory.",
    "mathContext": "$n \\mid m \\iff \\exists k \\in \\mathbb{N}, m = kn$\n\nFor example: $3 \\mid 12$ because $12 = 4 \\cdot 3$",
    "significance": "key",
    "relatedConcepts": ["factors", "multiples", "GCD"]
  },
  {
    "id": "ann-reg-def",
    "proofId": "infinitude-primes",
    "range": { "startLine": 22, "endLine": 22 },
    "type": "definition",
    "title": "Regular Numbers",
    "content": "A **regular** number is one that is at least 2. This excludes 0 and 1, which have special divisibility properties that would complicate our primality definitions.",
    "mathContext": "$\\text{Reg}(n) \\iff n \\geq 2$",
    "significance": "supporting",
    "relatedConcepts": ["primality", "composite numbers"]
  },
  {
    "id": "ann-prime-def",
    "proofId": "infinitude-primes",
    "range": { "startLine": 28, "endLine": 29 },
    "type": "definition",
    "title": "Prime (Euclid's Definition)",
    "content": "A number $p$ is **prime** if $p \\geq 2$ and whenever $p$ divides a product $nm$, it must divide at least one of $n$ or $m$. This is Euclid's characterization, equivalent to the usual definition.",
    "mathContext": "$p$ is prime $\\iff$ ($p \\geq 2$) $\\land$ ($p \\mid nm \\Rightarrow p \\mid n \\lor p \\mid m$)\n\nThis property is sometimes called 'Euclid's Lemma' and is the key to unique factorization.",
    "significance": "critical",
    "relatedConcepts": ["Euclid's lemma", "fundamental theorem of arithmetic"]
  },
  {
    "id": "ann-natprime-def",
    "proofId": "infinitude-primes",
    "range": { "startLine": 31, "endLine": 32 },
    "type": "definition",
    "title": "Natural Prime Definition",
    "content": "An alternative characterization: $p$ is prime if $p \\geq 2$ and no number between 2 and $p-1$ divides $p$. This is the 'no proper divisors' definition.",
    "mathContext": "$p$ is NatPrime $\\iff$ ($p \\geq 2$) $\\land$ ($\\forall m, 2 \\leq m < p \\Rightarrow m \\nmid p$)",
    "significance": "key",
    "relatedConcepts": ["divisibility testing", "trial division"]
  },
  {
    "id": "ann-dvd-trans",
    "proofId": "infinitude-primes",
    "range": { "startLine": 40, "endLine": 44 },
    "type": "lemma",
    "title": "Divisibility is Transitive",
    "content": "If $a \\mid b$ and $b \\mid c$, then $a \\mid c$. The proof: if $b = ma$ and $c = nb$, then $c = n(ma) = (nm)a$.",
    "mathContext": "$a \\mid b \\land b \\mid c \\Rightarrow a \\mid c$\n\nThis makes divisibility a transitive relation on $\\mathbb{N}$.",
    "significance": "supporting",
    "relatedConcepts": ["transitive relations", "factor chains"]
  },
  {
    "id": "ann-one-dvd-one",
    "proofId": "infinitude-primes",
    "range": { "startLine": 46, "endLine": 54 },
    "type": "lemma",
    "title": "Only 1 Divides 1",
    "content": "If $a \\mid 1$, then $a = 1$. This is crucial: no prime can divide 1, which is the key to the contradiction in Euclid's proof.",
    "mathContext": "$a \\mid 1 \\Rightarrow a = 1$\n\nProof: If $1 = ka$, then both $k \\geq 1$ and $a \\geq 1$. But $a \\leq ka = 1$, so $a = 1$.",
    "significance": "critical",
    "relatedConcepts": ["units", "invertibility"]
  },
  {
    "id": "ann-factorial",
    "proofId": "infinitude-primes",
    "range": { "startLine": 56, "endLine": 59 },
    "type": "definition",
    "title": "Factorial Definition",
    "content": "The **factorial** $n!$ is defined recursively: $0! = 1$ and $(n+1)! = (n+1) \\cdot n!$. It equals the product of all positive integers up to $n$.",
    "mathContext": "$n! = 1 \\cdot 2 \\cdot 3 \\cdots n = \\prod_{k=1}^{n} k$\n\nFor example: $5! = 120$",
    "significance": "critical",
    "relatedConcepts": ["combinatorics", "gamma function"]
  },
  {
    "id": "ann-dvd-fact",
    "proofId": "infinitude-primes",
    "range": { "startLine": 61, "endLine": 72 },
    "type": "theorem",
    "title": "Divisibility in Factorial",
    "content": "Any positive integer $k \\leq n$ divides $n!$. This is because $k$ appears as one of the factors in the product $1 \\cdot 2 \\cdots n$.",
    "mathContext": "$0 < k \\leq n \\Rightarrow k \\mid n!$\n\nThis is why $n! + 1$ cannot share any small prime factors with $n!$.",
    "significance": "critical",
    "relatedConcepts": ["factorial properties", "product divisibility"]
  },
  {
    "id": "ann-fact-pos",
    "proofId": "infinitude-primes",
    "range": { "startLine": 74, "endLine": 77 },
    "type": "lemma",
    "title": "Factorial is Positive",
    "content": "For all $n$, we have $n! > 0$. This is proved by induction: $0! = 1 > 0$, and $(n+1)! = (n+1) \\cdot n!$ is a product of positive numbers.",
    "mathContext": "$\\forall n, n! \\geq 1$",
    "significance": "supporting",
    "relatedConcepts": ["positivity", "induction"]
  },
  {
    "id": "ann-prime-divisor",
    "proofId": "infinitude-primes",
    "range": { "startLine": 79, "endLine": 88 },
    "type": "theorem",
    "title": "Every Number Has a Prime Divisor",
    "content": "Every integer $n \\geq 2$ has at least one prime divisor. The proof uses well-ordering: take the smallest divisor of $n$ that is at least 2; it must be prime.",
    "mathContext": "$n \\geq 2 \\Rightarrow \\exists p$ prime, $p \\mid n$\n\nThis is a form of the fundamental theorem of arithmetic.",
    "significance": "critical",
    "relatedConcepts": ["well-ordering", "fundamental theorem of arithmetic"]
  },
  {
    "id": "ann-main-theorem",
    "proofId": "infinitude-primes",
    "range": { "startLine": 90, "endLine": 116 },
    "type": "theorem",
    "title": "Euclid's Theorem: Unbounded Primes",
    "content": "For any $n$, there exists a prime $p > n$. The proof: let $Q = n! + 1$. Any prime divisor $p$ of $Q$ must satisfy $p > n$, since if $p \\leq n$, then $p \\mid n!$, so $p \\mid (Q - n!) = 1$, contradiction.",
    "mathContext": "$\\forall n, \\exists p$ prime, $p > n$\n\nKey insight: if $p \\mid n!$ and $p \\mid (n!+1)$, then $p \\mid 1$, impossible.",
    "significance": "critical",
    "prerequisites": ["ann-dvd-fact", "ann-one-dvd-one", "ann-prime-divisor"],
    "relatedConcepts": ["Euclid's proof", "constructive existence"]
  }
]
