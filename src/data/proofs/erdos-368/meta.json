{
  "id": "erdos-368",
  "title": "Erdős Problem #368: Largest Prime Factor of n(n+1)",
  "slug": "erdos-368",
  "description": "Study of F(n), the largest prime factor of n(n+1). Pólya proved F(n) → ∞; Mahler showed F(n) ≫ log log n; Pasten (2024) improved to F(n) ≫ (log log n)²/(log log log n). Erdős conjectured F(n) ≈ (log n)².",
  "meta": {
    "author": "Pólya (1918), Mahler (1935), Schinzel (1967), Pasten (2024)",
    "sourceUrl": "https://erdosproblems.com/368",
    "date": "2024",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos368Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "prime-factors",
      "analytic-number-theory",
      "abc-conjecture",
      "open"
    ],
    "badge": "axiom",
    "sorries": 2,
    "erdosNumber": 368,
    "erdosUrl": "https://erdosproblems.com/368",
    "erdosProblemStatus": "open",
    "dateAdded": "2026-01-18",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.Prime",
        "description": "Primality predicate",
        "module": "Mathlib.Data.Nat.Prime.Basic"
      },
      {
        "theorem": "Nat.primeFactors",
        "description": "Set of prime factors",
        "module": "Mathlib.Data.Nat.Factorization.Basic"
      },
      {
        "theorem": "Real.log",
        "description": "Natural logarithm function",
        "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic"
      }
    ],
    "originalContributions": [
      "largestPrimeFactor definition for gpf(n)",
      "F(n) = gpf(n(n+1)) central function",
      "consecutive_coprime: n and n+1 are coprime",
      "polya_theorem axiom: F(n) → ∞",
      "mahler_bound axiom: F(n) ≫ log log n",
      "schinzel_upper axiom: upper bound construction",
      "pasten_bound axiom: F(n) ≫ (log log n)²/(log log log n)",
      "erdos_lower_conjecture and erdos_upper_conjecture definitions",
      "isSmooth definition for smooth numbers",
      "radical definition for ABC connection",
      "abc_implies_strong_bound conditional result",
      "Concrete examples F(1) through F(8)",
      "erdos_368_summary combining all results"
    ]
  },
  "overview": {
    "historicalContext": "**Erdős Problem #368: Prime Factors of Consecutive Products**\n\nThis problem investigates the growth rate of the largest prime factor of products of consecutive integers n(n+1).\n\n**Key History:**\n- Pólya (1918): First proved F(n) → ∞ as n → ∞\n- Mahler (1935): Established F(n) ≫ log log n, the first quantitative bound\n- Schinzel (1967): Showed the upper bound F(n) ≤ n^(O(1/log log log n)) infinitely often\n- Erdős (1976): Conjectured F(n) ≈ (log n)² captures the true behavior\n- Pasten (2024): Proved F(n) ≫ (log log n)²/(log log log n), the strongest known lower bound\n\n**Mathematical Setting:**\nThe function F(n) = gpf(n(n+1)) captures how large prime factors must appear in products of consecutive integers. Since gcd(n, n+1) = 1, the prime factors of n(n+1) are the union of prime factors of n and n+1.",
    "problemStatement": "**Problem Statement (PARTIALLY RESOLVED)**\n\nLet $F(n)$ be the largest prime factor of $n(n+1)$. How large must $F(n)$ be?\n\n**Known Lower Bounds:**\n- $F(n) \\to \\infty$ as $n \\to \\infty$ (Pólya 1918)\n- $F(n) \\gg \\log\\log n$ (Mahler 1935)\n- $F(n) \\gg \\frac{(\\log\\log n)^2}{\\log\\log\\log n}$ (Pasten 2024)\n\n**Known Upper Bounds:**\n- For infinitely many $n$: $F(n) \\leq n^{O(1/\\log\\log\\log n)}$ (Schinzel 1967)\n\n**Erdős's Conjectures:**\n- Lower: $F(n) \\gg (\\log n)^2$ for all $n$\n- Upper: For every $\\varepsilon > 0$, infinitely many $n$ satisfy $F(n) < (\\log n)^{2+\\varepsilon}$",
    "proofStrategy": "**Formalization Approach**\n\n1. **Core Definitions:**\n   - largestPrimeFactor: gpf(n) using Nat.primeFactors.max'\n   - F(n) = gpf(n(n+1))\n   - isSmooth for B-smooth numbers\n\n2. **Key Properties:**\n   - consecutive_coprime: gcd(n, n+1) = 1\n   - F(n) = max(gpf(n), gpf(n+1))\n\n3. **Historical Results as Axioms:**\n   - polya_theorem, mahler_bound, schinzel_upper, pasten_bound\n\n4. **Conjectures:**\n   - erdos_lower_conjecture, erdos_upper_conjecture\n\n5. **Connections:**\n   - ABC conjecture implications\n   - P(n² + 1) variant from Pasten's work",
    "keyInsights": [
      "**Coprimality:** Since gcd(n, n+1) = 1, the prime factors of n(n+1) are simply the union of factors of n and n+1",
      "**Smooth Numbers:** Schinzel's upper bound uses the existence of n where n(n+1) is unusually smooth (all prime factors small)",
      "**Iterated Logarithms:** The bounds involve log log n and log log log n, showing very slow growth rates",
      "**ABC Connection:** Strong bounds on F(n) are related to the ABC conjecture; ABC would imply much stronger results",
      "**n² + 1 Variant:** Pasten's 2024 breakthrough actually concerns P(n² + 1), with techniques applicable to n(n+1)"
    ]
  },
  "sections": [
    {
      "id": "definitions",
      "title": "Basic Definitions",
      "summary": "largestPrimeFactor, F(n), product_ge_two",
      "startLine": 42,
      "endLine": 70
    },
    {
      "id": "coprimality",
      "title": "Coprimality",
      "summary": "consecutive_coprime, primeFactors_product_coprime, F_eq_max",
      "startLine": 72,
      "endLine": 94
    },
    {
      "id": "polya",
      "title": "Pólya's Theorem",
      "summary": "polya_theorem axiom, F_unbounded theorem",
      "startLine": 96,
      "endLine": 116
    },
    {
      "id": "mahler",
      "title": "Mahler's Bound",
      "summary": "mahler_bound axiom, mahler_improves_polya",
      "startLine": 118,
      "endLine": 142
    },
    {
      "id": "schinzel",
      "title": "Schinzel's Upper Bound",
      "summary": "schinzel_upper axiom, isSmooth definition",
      "startLine": 144,
      "endLine": 173
    },
    {
      "id": "erdos-conjectures",
      "title": "Erdős's Conjectures",
      "summary": "erdos_lower_conjecture, erdos_upper_conjecture definitions",
      "startLine": 175,
      "endLine": 198
    },
    {
      "id": "pasten",
      "title": "Pasten's Theorem",
      "summary": "pasten_bound axiom, pasten_improves_mahler",
      "startLine": 200,
      "endLine": 225
    },
    {
      "id": "examples",
      "title": "Concrete Examples",
      "summary": "F(1) through F(8), OEIS A074399",
      "startLine": 227,
      "endLine": 280
    },
    {
      "id": "variant",
      "title": "n² + 1 Variant",
      "summary": "P_squared_plus_one, pasten_squared_plus_one",
      "startLine": 282,
      "endLine": 301
    },
    {
      "id": "abc",
      "title": "ABC Connection",
      "summary": "radical definition, abc_implies_strong_bound",
      "startLine": 303,
      "endLine": 328
    },
    {
      "id": "summary",
      "title": "Main Results Summary",
      "summary": "erdos_368_summary combining all bounds",
      "startLine": 351,
      "endLine": 385
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #368 asks about the growth rate of F(n), the largest prime factor of n(n+1). Pólya (1918) proved F(n) → ∞. Mahler (1935) showed F(n) ≫ log log n. Pasten (2024) improved this to F(n) ≫ (log log n)²/(log log log n). Schinzel showed F(n) can be as small as n^(O(1/log log log n)) infinitely often. Erdős conjectured that F(n) ≈ (log n)² captures the true behavior.",
    "implications": "**Connections to Other Areas**\n\n1. **ABC Conjecture:** Strong bounds on F(n) are closely related to ABC. If ABC holds, we would have F(n) ≥ (log n)^(1-ε) for any ε > 0.\n\n2. **Smooth Numbers:** The upper bounds involve the distribution of smooth numbers in polynomial sequences.\n\n3. **Diophantine Equations:** The study of n(n+1) = k with k smooth connects to S-unit equations.\n\n4. **OEIS A074399:** The sequence F(1), F(2), F(3), ... = 2, 3, 3, 5, 5, 7, 7, 3, ... is well-studied.\n\n5. **Polynomial Variants:** Similar questions for other polynomials like n² + 1 lead to Pasten's breakthrough results.",
    "openQuestions": [
      "Prove Erdős's lower conjecture: F(n) ≫ (log n)² for all n",
      "Prove Erdős's upper conjecture: F(n) < (log n)^(2+ε) infinitely often",
      "Close the gap between Pasten's (log log n)² and the conjectured (log n)²",
      "Determine the exact asymptotic behavior of F(n)",
      "Extend results to other polynomial sequences p(n)p(n+1)"
    ]
  }
}
