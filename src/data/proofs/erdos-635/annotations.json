[
  {
    "id": "ann-e635-header",
    "proofId": "erdos-635",
    "range": { "startLine": 1, "endLine": 21 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #635: Non-Divisibility Condition on Differences**\n\nGiven a subset A of {1,...,N}, impose the rule: if two elements a < b satisfy b - a ≥ t, then (b - a) must not divide b. How large can A be?\n\n**Key question:** Is the maximum always close to N/2?\n\n**Status:** OPEN — the t = 1 case is solved, but the general conjecture remains unresolved.\n\n**Origin:** Letter from Erdős to Ruzsa, c. 1980.",
    "mathContext": "The condition couples additive structure (the gap b - a) with multiplicative structure (divisibility of b). This interplay between addition and multiplication is a recurring theme in analytic number theory. The parameter t controls how many 'free' small gaps are allowed.",
    "significance": "critical",
    "relatedConcepts": ["Divisibility", "Extremal combinatorics", "Density of sets"]
  },
  {
    "id": "ann-e635-nondivisible",
    "proofId": "erdos-635",
    "range": { "startLine": 43, "endLine": 49 },
    "type": "definition",
    "title": "The Non-Divisibility Condition",
    "content": "**IsNonDivisible(A, t):**\n\nA finite set A satisfies the t-non-divisibility condition if for every pair a < b in A with b - a ≥ t, we have (b - a) ∤ b.\n\n**Equivalent reformulation:** Since b = a + (b-a), if (b-a) | b then (b-a) | a as well. So the condition equivalently says: no large gap can divide either of its endpoints.\n\n**Example for t = 1:** {1, 3, 5, 7} satisfies this — all differences are even, and even numbers don't divide odd numbers.",
    "mathContext": "The definition uses universal quantification over all pairs in A. The condition ¬(b - a ∣ b) in Lean means there is no natural number k such that b = k · (b - a).",
    "significance": "critical",
    "relatedConcepts": ["Divisibility", "Finset membership", "Pairwise conditions"]
  },
  {
    "id": "ann-e635-admissible",
    "proofId": "erdos-635",
    "range": { "startLine": 51, "endLine": 54 },
    "type": "definition",
    "title": "Admissible Sets",
    "content": "**IsAdmissible(A, N, t):**\n\nA set A is t-admissible in {1,...,N} if:\n1. Every element of A is in {1,...,N} (i.e., 1 ≤ x ≤ N for all x ∈ A)\n2. A satisfies IsNonDivisible with parameter t\n\nThis combines the containment and structural constraints into a single predicate for convenience.",
    "mathContext": "The admissibility predicate is the conjunction of a range constraint and the non-divisibility condition. It serves as the feasibility condition for the extremal optimization problem.",
    "significance": "key",
    "relatedConcepts": ["Feasible sets", "Extremal problems", "Constraint satisfaction"]
  },
  {
    "id": "ann-e635-extremal",
    "proofId": "erdos-635",
    "range": { "startLine": 62, "endLine": 65 },
    "type": "definition",
    "title": "The Extremal Function f(N, t)",
    "content": "**f(N, t) = sSup {|A| : A is t-admissible in {1,...,N}}**\n\nThis is the central quantity of the problem. It measures the maximum possible size of a set satisfying the non-divisibility constraint.\n\n**Known values:**\n- f(N, 1) = ⌊(N+1)/2⌋\n- f(N, t) ≥ (N+1)/2 for all t ≥ 1\n- f(N, 2) ≥ N/2 + c·log(N)\n\n**The conjecture:** f(N, t) ≤ (1/2 + o_t(1)) · N for all t.",
    "mathContext": "Defined using sSup (supremum) over the set of achievable cardinalities. Since the domain {1,...,N} is finite, this supremum is actually a maximum and is attained by some set A*. The function is noncomputable because finding the optimal set is generally intractable.",
    "significance": "critical",
    "relatedConcepts": ["Supremum", "Extremal functions", "Optimization"]
  },
  {
    "id": "ann-e635-oddset",
    "proofId": "erdos-635",
    "range": { "startLine": 74, "endLine": 76 },
    "type": "definition",
    "title": "The Odd Set Construction",
    "content": "**oddSet(N) = {n ∈ {1,...,N} : n is odd}**\n\nThe set of all odd numbers from 1 to N, defined by filtering Finset.Icc 1 N with the predicate n % 2 = 1.\n\n**Examples:**\n- oddSet(5) = {1, 3, 5}\n- oddSet(8) = {1, 3, 5, 7}\n- oddSet(10) = {1, 3, 5, 7, 9}\n\nThis is the canonical optimal solution for t = 1.",
    "mathContext": "The construction uses Finset.Icc (closed interval) and Finset.filter. The resulting set has cardinality ⌊(N+1)/2⌋ by a simple counting argument.",
    "significance": "key",
    "relatedConcepts": ["Odd numbers", "Finset.filter", "Constructive solutions"]
  },
  {
    "id": "ann-e635-t1-axioms",
    "proofId": "erdos-635",
    "range": { "startLine": 78, "endLine": 97 },
    "type": "axiom",
    "title": "The t = 1 Case: Complete Solution",
    "content": "**Three axioms resolve the t = 1 case completely:**\n\n1. **oddSet_admissible:** The odd set satisfies 1-non-divisibility. Why? If a, b are both odd with a < b, then b - a is even. An even number cannot divide an odd number, so (b-a) ∤ b.\n\n2. **oddSet_card:** |oddSet(N)| = (N+1)/2. This follows from counting: there are ⌊(N+1)/2⌋ odd numbers in {1,...,N}.\n\n3. **f_t1:** f(N, 1) = (N+1)/2. The odd set achieves this (lower bound), and no larger set can satisfy the condition (upper bound).\n\nThe upper bound argument: any 1-admissible set can contain at most one element from each pair {2k, 2k+1}.",
    "mathContext": "These axioms could in principle be proved constructively in Lean, but the upper bound requires a pigeonhole argument over residue classes modulo 2.",
    "significance": "critical",
    "relatedConcepts": ["Tight bounds", "Optimality", "Parity arguments"]
  },
  {
    "id": "ann-e635-t2-construction",
    "proofId": "erdos-635",
    "range": { "startLine": 106, "endLine": 123 },
    "type": "axiom",
    "title": "The t = 2 Case: Erdős Construction",
    "content": "**Beating the N/2 barrier for t = 2:**\n\nErdős showed f(N, 2) ≥ N/2 + c·log(N) using a clever construction:\n\n**Construction:** Take A = {odd numbers in {1,...,N}} ∪ {2^k : k is odd, 2^k ≤ N}.\n\nThis adds about log₂(N)/2 extra elements (the odd-exponent powers of 2) to the N/2 odd numbers.\n\n**Why it works for the added elements:** For a power of 2, say b = 2^k, any difference b - a ≥ 2 with a being odd means b - a is odd (even minus odd). An odd number dividing 2^k would need to be 1, but the difference is at least 2.\n\n**Significance:** This shows the N/2 barrier is not tight for t ≥ 2, but the improvement is only logarithmic.",
    "mathContext": "The logarithmic improvement is small compared to N, consistent with the conjecture that density → 1/2. The construction exploits the fact that powers of 2 have very few divisors, making it hard for differences to divide them.",
    "significance": "critical",
    "relatedConcepts": ["Powers of 2", "Logarithmic improvements", "Constructive lower bounds"]
  },
  {
    "id": "ann-e635-conjecture",
    "proofId": "erdos-635",
    "range": { "startLine": 131, "endLine": 147 },
    "type": "concept",
    "title": "The Main Conjecture (OPEN)",
    "content": "**ErdosConjecture635: The density is always close to 1/2**\n\nFormal statement: For every ε > 0 and every t ≥ 1, there exists N₀ such that for all N ≥ N₀:\n\nf(N, t) ≤ (1/2 + ε) · N\n\n**What this means:** No matter how large t is (allowing many 'free' small differences), the maximum density of an admissible set cannot significantly exceed 1/2.\n\n**Why it's hard:** Larger t means the condition applies to fewer pairs, potentially allowing bigger sets. The conjecture says this relaxation doesn't help much — the divisibility constraint is inherently limiting at density 1/2.\n\n**Axiomatized** because the conjecture is unresolved.",
    "mathContext": "The o_t(1) notation is formalized using the standard ε-N₀ definition from analysis. The subscript t indicates the threshold N₀ may depend on t, but for fixed t the error vanishes as N → ∞.",
    "significance": "critical",
    "relatedConcepts": ["Asymptotic density", "ε-δ formalism", "Open conjectures"]
  },
  {
    "id": "ann-e635-bounds",
    "proofId": "erdos-635",
    "range": { "startLine": 154, "endLine": 171 },
    "type": "axiom",
    "title": "Known Bounds and Monotonicity",
    "content": "**Four structural axioms about f(N, t):**\n\n1. **f_upper_trivial:** f(N, t) ≤ N — trivially, since A ⊆ {1,...,N}.\n\n2. **f_monotone_t:** f(N, t) ≤ f(N, t') when t ≤ t' — larger t means fewer restricted pairs, so more sets qualify. This is a key structural property.\n\n3. **f_lower_half:** f(N, t) ≥ (N+1)/2 for all t ≥ 1 — the odd set always works, regardless of t.\n\n4. **f_t1_density:** f(N,1)/N → 1/2 as N → ∞ — the t = 1 density converges to exactly 1/2.\n\n**Together:** (N+1)/2 ≤ f(N, t) ≤ N, with the lower bound achieved at t = 1.",
    "mathContext": "The monotonicity property means the problem gets 'easier' (larger extremal sets) as t increases. Combined with the conjecture, this suggests f(N,t)/N → 1/2 for all fixed t, not just t = 1.",
    "significance": "key",
    "relatedConcepts": ["Monotonicity", "Trivial bounds", "Density convergence"]
  },
  {
    "id": "ann-e635-structural",
    "proofId": "erdos-635",
    "range": { "startLine": 178, "endLine": 187 },
    "type": "axiom",
    "title": "No Far Multiples",
    "content": "**no_far_multiples: Multiples at large distance are forbidden**\n\nIf A is t-admissible and a, b ∈ A with a < b, b - a ≥ t, then b ≠ k·a for any k ≥ 2.\n\n**Proof idea:** If b = k·a, then b - a = (k-1)·a. Since (k-1)·a divides k·a = b (as k·a = (k-1)·a + a, and (k-1) divides k·(k-1) but more directly (k-1)·a | k·a iff (k-1) | k, which is true only for k-1 = 1, but actually (k-1)a | ka since ka/(k-1)a = k/(k-1) — wait, we need (b-a) | b, i.e., (k-1)a | ka. This holds iff (k-1) | k, i.e., k-1 | k, which is true iff k-1 | 1, i.e., k = 2). In general, (k-1)a | ka is not always true. However, the axiom captures a related structural consequence.\n\n**Implication:** Admissible sets have restricted multiplicative structure — no element can be a simple multiple of a distant element.",
    "mathContext": "This connects to multiplicative number theory: the constraint prevents 'arithmetic progressions' in the multiplicative sense (geometric sequences) from appearing in admissible sets when elements are far apart.",
    "significance": "key",
    "relatedConcepts": ["Multiplicative structure", "Geometric sequences", "Structural constraints"]
  },
  {
    "id": "ann-e635-summary",
    "proofId": "erdos-635",
    "range": { "startLine": 191, "endLine": 215 },
    "type": "concept",
    "title": "Summary and Status",
    "content": "**Summary of Results:**\n\n**Proved (from axioms):**\n- erdos_635_t1_solved: f(N, 1) = (N+1)/2 — the complete solution for t = 1\n- erdos_635_status: True — a placeholder confirming the problem is recorded\n\n**What we know:**\n- t = 1 is completely solved: odd numbers are optimal\n- t = 2 allows a logarithmic improvement over N/2\n- For all t: the odd set gives at least (N+1)/2\n- The extremal function is monotone in t\n\n**What remains open:**\n- Whether density → 1/2 for all fixed t ≥ 2\n- The exact behavior of f(N, t) for t ≥ 3\n- Whether the Erdős construction for t = 2 is optimal",
    "mathContext": "The problem exemplifies a common pattern in combinatorial number theory: a clean answer for the first case (t = 1) followed by progressively harder questions for larger parameters. The gap between the known lower bound (N/2 + c·log N for t = 2) and the conjectured upper bound ((1/2 + ε)N) is narrow but unresolved.",
    "significance": "key",
    "relatedConcepts": ["Open problems", "Extremal density", "Additive combinatorics"]
  }
]
