[
  {
    "id": "ann-e251-header",
    "proofId": "erdos-251",
    "range": {
      "startLine": 1,
      "endLine": 26
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "This module formalizes **Erdős Problem #251**: Is the sum Σ pₙ/2ⁿ irrational? The sum converges to approximately **3.59686...** (OEIS A098990), but its arithmetic nature remains **unknown**.",
    "mathContext": "The series Σ pₙ/2ⁿ = 2/2 + 3/4 + 5/8 + 7/16 + ... converges absolutely since pₙ ~ n ln n by the prime number theorem, and Σ n ln n / 2ⁿ converges by the ratio test.",
    "significance": "critical",
    "relatedConcepts": ["irrational numbers", "prime numbers", "infinite series"]
  },
  {
    "id": "ann-e251-nthprime",
    "proofId": "erdos-251",
    "range": {
      "startLine": 46,
      "endLine": 55
    },
    "type": "definition",
    "title": "The nth Prime Function",
    "content": "We define **nthPrime(n) = pₙ** using Mathlib's `Nat.nth Nat.Prime`. The primes are 0-indexed: p₀ = 2, p₁ = 3, p₂ = 5, p₃ = 7, p₄ = 11, ...",
    "mathContext": "Mathlib's `Nat.nth` returns the nth element satisfying a predicate. For primes, this gives the standard enumeration. The values are axiomatized since the definition is noncomputable.",
    "significance": "key",
    "relatedConcepts": ["prime enumeration", "Mathlib", "noncomputable"]
  },
  {
    "id": "ann-e251-erdosterm",
    "proofId": "erdos-251",
    "range": {
      "startLine": 66,
      "endLine": 67
    },
    "type": "definition",
    "title": "The General Term",
    "content": "The **general term** of the Erdős sum is pₙ/2^(n+1). For n = 0, 1, 2, 3, 4 this gives 2/2, 3/4, 5/8, 7/16, 11/32.",
    "mathContext": "Using 0-indexing with denominator 2^(n+1) matches the 1-indexed formulation from the problem statement where the first term is p₁/2¹ = 2/2.",
    "significance": "key",
    "relatedConcepts": ["series terms", "geometric decay"]
  },
  {
    "id": "ann-e251-erdossum",
    "proofId": "erdos-251",
    "range": {
      "startLine": 69,
      "endLine": 74
    },
    "type": "definition",
    "title": "The Erdős Sum",
    "content": "The **Erdős sum** is defined as Σ_{n=0}^∞ pₙ/2^(n+1). This infinite series sums to approximately **3.59686...** — a well-defined real number whose rationality is unknown.",
    "mathContext": "We use Mathlib's `tsum` (topological sum) to define the infinite series. The sum exists by the convergence axiom `erdosSum_summable`.",
    "significance": "critical",
    "relatedConcepts": ["infinite series", "tsum", "convergence"]
  },
  {
    "id": "ann-e251-summable",
    "proofId": "erdos-251",
    "range": {
      "startLine": 83,
      "endLine": 88
    },
    "type": "axiom",
    "title": "Convergence Axiom",
    "content": "We **axiomatize** that the Erdős sum converges (is summable). This follows from the prime number theorem: pₙ ~ n ln n, so pₙ/2ⁿ is eventually dominated by any geometric series with ratio > 1/2.",
    "mathContext": "The ratio test shows Σ n ln n / 2ⁿ converges since (n+1)ln(n+1)/n ln n → 1 as n → ∞, and the limiting ratio 1/2 < 1.",
    "significance": "key",
    "relatedConcepts": ["Summable", "prime number theorem", "ratio test"]
  },
  {
    "id": "ann-e251-partialsum",
    "proofId": "erdos-251",
    "range": {
      "startLine": 99,
      "endLine": 106
    },
    "type": "lemma",
    "title": "Partial Sum Verification",
    "content": "We verify that the first 5 terms sum to **101/32 ≈ 3.15625**. This is computed as 2/2 + 3/4 + 5/8 + 7/16 + 11/32 = 1 + 0.75 + 0.625 + 0.4375 + 0.34375.",
    "mathContext": "Partial sums provide lower bounds on the infinite sum. The gap between 3.15625 and 3.597 shows that the tail contributes about 0.44 to the total.",
    "significance": "supporting",
    "relatedConcepts": ["partial sums", "norm_num", "computational verification"]
  },
  {
    "id": "ann-e251-conjecture",
    "proofId": "erdos-251",
    "range": {
      "startLine": 114,
      "endLine": 118
    },
    "type": "definition",
    "title": "Main Conjecture (OPEN)",
    "content": "**Erdős Problem #251**: Is the Erdős sum irrational? This is stated as `erdos_251_conjecture := Irrational erdosSum`. The question **remains open** as of 2025.",
    "mathContext": "Mathlib's `Irrational x` is defined as `¬∃ (q : ℚ), x = q`. Proving this requires showing no rational p/q equals the sum — a task that has eluded all attempts.",
    "significance": "critical",
    "relatedConcepts": ["Irrational", "open problem", "Erdős"]
  },
  {
    "id": "ann-e251-factorial",
    "proofId": "erdos-251",
    "range": {
      "startLine": 132,
      "endLine": 140
    },
    "type": "axiom",
    "title": "Erdős's Factorial Result",
    "content": "**Erdős (1958)** proved that Σ pₙᵏ/n! is irrational for all k ≥ 1. The factorial denominators grow much faster than 2ⁿ, making irrationality provable via tail analysis.",
    "mathContext": "The key insight is that n! grows super-exponentially. For large N, the tail Σ_{n>N} pₙᵏ/n! < 1/(N+1)!, which can be made arbitrarily small. This approach fails for 2ⁿ denominators.",
    "significance": "key",
    "relatedConcepts": ["factorial growth", "tail bounds", "irrationality proofs"]
  },
  {
    "id": "ann-e251-general",
    "proofId": "erdos-251",
    "range": {
      "startLine": 142,
      "endLine": 146
    },
    "type": "definition",
    "title": "Generalized Conjecture",
    "content": "Erdős conjectured that Σ pₙᵏ/2ⁿ is irrational **for all k ≥ 1**. Problem #251 is the case k = 1. Higher powers k might be easier or harder — the relationship is unclear.",
    "mathContext": "For k = 2, the sum is Σ pₙ²/2ⁿ = 4/2 + 9/4 + 25/8 + ... ≈ 8.something. The arithmetic nature of this and all higher-power sums is unknown.",
    "significance": "key",
    "relatedConcepts": ["generalization", "powers of primes"]
  },
  {
    "id": "ann-e251-difficulty",
    "proofId": "erdos-251",
    "range": {
      "startLine": 148,
      "endLine": 166
    },
    "type": "concept",
    "title": "Why This Is Hard",
    "content": "Proving irrationality of explicit series is **notoriously difficult**. Even whether e + π is irrational remains open! The prime sequence's irregularity adds further complexity.",
    "mathContext": "Standard irrationality proofs use: (1) algebraic identities (like e = Σ 1/n!), (2) Liouville approximation bounds, or (3) modular arithmetic. None apply directly here because primes don't follow a formula.",
    "significance": "supporting",
    "relatedConcepts": ["transcendence theory", "irrationality proofs", "prime irregularity"]
  },
  {
    "id": "ann-e251-oeis",
    "proofId": "erdos-251",
    "range": {
      "startLine": 191,
      "endLine": 195
    },
    "type": "axiom",
    "title": "OEIS Bounds",
    "content": "The Erdős sum lies between **3 and 4**, more precisely between **3.596 and 3.597**. This is catalogued as OEIS sequence A098990.",
    "mathContext": "These bounds can be computed by evaluating sufficiently many terms and bounding the tail. The sum to 100 terms gives 10+ decimal places of accuracy.",
    "significance": "supporting",
    "relatedConcepts": ["OEIS", "numerical bounds", "decimal expansion"]
  },
  {
    "id": "ann-e251-explicit",
    "proofId": "erdos-251",
    "range": {
      "startLine": 203,
      "endLine": 216
    },
    "type": "theorem",
    "title": "Explicit Partial Sums",
    "content": "We prove exact values for the first 1, 2, 3, 4, 5 terms: **1, 7/4, 19/8, 45/16, 101/32**. These are verified using Lean's `norm_num` tactic.",
    "mathContext": "Each computation is straightforward arithmetic: 1 + 3/4 = 7/4, then + 5/8 = 19/8, then + 7/16 = 45/16, then + 11/32 = 101/32. The pattern of numerators (1, 7, 19, 45, 101) has no simple formula.",
    "significance": "supporting",
    "relatedConcepts": ["norm_num", "exact arithmetic", "partial sums"]
  },
  {
    "id": "ann-e251-positivity",
    "proofId": "erdos-251",
    "range": {
      "startLine": 90,
      "endLine": 91
    },
    "type": "axiom",
    "title": "Positivity",
    "content": "The Erdős sum is **positive** since all terms pₙ/2^(n+1) are positive (primes are positive, powers of 2 are positive).",
    "mathContext": "Positivity follows immediately from pₙ ≥ 2 for all n. Combined with the bounds axiom, we have 3 < erdosSum < 4.",
    "significance": "supporting",
    "relatedConcepts": ["positivity", "series bounds"]
  },
  {
    "id": "ann-e251-general-conjecture",
    "proofId": "erdos-251",
    "range": {
      "startLine": 174,
      "endLine": 182
    },
    "type": "definition",
    "title": "Erdős's General Conjecture",
    "content": "**Erdős's General Conjecture**: If gₙ ≥ 2 for all n and gₙ = o(pₙ), then Σ pₙ/(g₁·g₂·...·gₙ) is irrational. This encompasses Problem #251 (gₙ = 2 for all n) as a special case.",
    "mathContext": "The condition gₙ = o(pₙ) means gₙ/pₙ → 0 as n → ∞. The requirement gₙ ≥ 2 ensures the products g₁·...·gₙ grow, making the series converge. The example gₙ = pₙ + 1 shows some growth condition is needed.",
    "significance": "key",
    "relatedConcepts": ["general conjecture", "product denominators", "little-o notation"]
  }
]
