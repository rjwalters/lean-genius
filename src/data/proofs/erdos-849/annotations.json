[
  {
    "id": "ann-e849-header",
    "proofId": "erdos-849",
    "range": {
      "startLine": 1,
      "endLine": 22
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #849**: Binomial Coefficient Multiplicities\n\n**Question**: For every t ≥ 1, does there exist a value a that appears exactly t times in Pascal's triangle?\n\n**Restriction**: We count pairs (n,k) with 1 ≤ k ≤ n/2 to avoid trivial symmetry (C(n,k) = C(n,n-k)).\n\n**Status**: OPEN for t ≥ 5. No known value appears exactly 5 times.\n\n**Connection**: This is essentially **Singmaster's Conjecture** (1971), which asks if multiplicities are bounded.",
    "mathContext": "Pascal's triangle has fascinating structure. Most values appear exactly twice (due to symmetry), but the restriction k ≤ n/2 removes this. Some values like 3003 appear 4 times through different coincidences.",
    "significance": "critical",
    "relatedConcepts": [
      "pascal-triangle",
      "binomial-coefficients",
      "singmaster-conjecture"
    ]
  },
  {
    "id": "ann-e849-multiplicity-set",
    "proofId": "erdos-849",
    "range": {
      "startLine": 37,
      "endLine": 40
    },
    "type": "definition",
    "title": "Multiplicity Set Definition",
    "content": "**BinomMultiplicitySet a** = {(n,k) | 1 ≤ k ∧ 2k ≤ n ∧ C(n,k) = a}\n\nThis captures all positions in Pascal's triangle where value a appears, restricted to the left half (k ≤ n/2).\n\n**Examples**:\n- BinomMultiplicitySet 120 = {(10,3), (16,2), (120,1)}\n- BinomMultiplicitySet 3003 = {(14,6), (15,5), (78,2), (3003,1)}",
    "mathContext": "The condition 2k ≤ n ensures k ≤ n/2, avoiding symmetric duplicates. Using pairs (n,k) rather than just n allows finer analysis.",
    "significance": "key",
    "relatedConcepts": [
      "set-builder",
      "nat-pairs"
    ]
  },
  {
    "id": "ann-e849-multiplicity-functions",
    "proofId": "erdos-849",
    "range": {
      "startLine": 42,
      "endLine": 52
    },
    "type": "definition",
    "title": "Multiplicity Functions",
    "content": "**binomMultiplicity a** : ℕ∞\n  Cardinality of BinomMultiplicitySet(a). Returns ℕ∞ to handle potentially infinite sets.\n\n**binomNMultiplicity a** : ℕ\n  Count of distinct n values where C(n,k) = a for some valid k.\n  This is the more natural count for Erdős's question.\n\n**HasExactMultiplicity a t** :\n  binomNMultiplicity a = t",
    "mathContext": "We use `noncomputable` because Set.ncard involves classical choice. The distinction between counting pairs vs. counting n-values matters for some analyses.",
    "significance": "key",
    "relatedConcepts": [
      "Set.ncard",
      "noncomputable",
      "cardinality"
    ]
  },
  {
    "id": "ann-e849-appears-once",
    "proofId": "erdos-849",
    "range": {
      "startLine": 58,
      "endLine": 63
    },
    "type": "theorem",
    "title": "Every Value Appears (Verified)",
    "content": "**theorem appears_at_least_once** ✓:\n  For a ≥ 2, there exist n, k with 1 ≤ k ≤ n/2 and C(n,k) = a.\n\n**Proof**: Take n = a, k = 1. Then C(a,1) = a. ✓\n\nThis uses Nat.choose_one_right: C(n,1) = n.\n\n**Significance**: Every integer ≥ 2 appears at least once on the 'edge' of Pascal's triangle.",
    "mathContext": "The edge appearances C(a,1) = a are trivial. The interesting question is about additional appearances deeper in the triangle.",
    "significance": "supporting",
    "relatedConcepts": [
      "verified",
      "choose_one_right"
    ]
  },
  {
    "id": "ann-e849-one-two-mult",
    "proofId": "erdos-849",
    "range": {
      "startLine": 65,
      "endLine": 70
    },
    "type": "axiom",
    "title": "Multiplicities of 1 and 2",
    "content": "**axiom one_multiplicity**: binomNMultiplicity 1 = 0\n  1 = C(n,0) or C(n,n), but k = 0 and k = n are excluded by our restrictions.\n\n**axiom two_multiplicity**: binomNMultiplicity 2 = 1\n  2 = C(2,1) only. No other C(n,k) with 1 ≤ k ≤ n/2 equals 2.\n\n**Corollary**: 2 is a witness for t = 1 (appears exactly once).",
    "mathContext": "These are axiomatized because proving uniqueness requires case analysis on all possible (n,k) pairs, which is tedious but straightforward.",
    "significance": "key",
    "relatedConcepts": [
      "base-cases",
      "uniqueness"
    ]
  },
  {
    "id": "ann-e849-singmaster",
    "proofId": "erdos-849",
    "range": {
      "startLine": 78,
      "endLine": 86
    },
    "type": "axiom",
    "title": "Singmaster's Conjecture",
    "content": "**axiom singmaster_conjecture**:\n  ∃ N : ℕ, ∀ a : ℕ, binomNMultiplicity a ≤ N\n\n**Meaning**: There's an absolute bound on how many times any value can appear.\n\n**axiom multiplicity_bound_8**:\n  ∀ a : ℕ, binomNMultiplicity a ≤ 8\n\nThe conjectured bound is 8, based on extensive computation. No value is known to appear more than 4 times.",
    "mathContext": "Singmaster originally conjectured this in 1971. The bound 8 is based on probabilistic arguments and computation.",
    "significance": "critical",
    "relatedConcepts": [
      "singmaster-1971",
      "upper-bound",
      "conjecture"
    ]
  },
  {
    "id": "ann-e849-mult-120",
    "proofId": "erdos-849",
    "range": {
      "startLine": 94,
      "endLine": 104
    },
    "type": "theorem",
    "title": "Multiplicity of 120 (Verified)",
    "content": "**axiom multiplicity_120**: binomNMultiplicity 120 = 3\n\n**Verified computations** ✓:\n- choose_10_3: C(10,3) = 120 ✓ (by native_decide)\n- choose_16_2: C(16,2) = 120 ✓ (by native_decide)\n- choose_120_1: C(120,1) = 120 ✓ (by native_decide)\n\n**Why 120?**\n- 120 = 10!/7! / 3! = 10·9·8 / 6 (deep appearance)\n- 120 = 16·15 / 2 (triangular-like)\n- 120 = 120 (edge appearance)",
    "mathContext": "120 is the smallest value with multiplicity ≥ 3. It provides a witness for the t = 3 case of Erdős's question.",
    "significance": "key",
    "relatedConcepts": [
      "verified",
      "native_decide",
      "witness"
    ]
  },
  {
    "id": "ann-e849-mult-3003",
    "proofId": "erdos-849",
    "range": {
      "startLine": 106,
      "endLine": 119
    },
    "type": "theorem",
    "title": "Multiplicity of 3003 (Verified)",
    "content": "**axiom multiplicity_3003**: binomNMultiplicity 3003 = 4\n\n**Verified computations** ✓:\n- choose_14_6: C(14,6) = 3003 ✓\n- choose_15_5: C(15,5) = 3003 ✓\n- choose_78_2: C(78,2) = 3003 ✓\n- choose_3003_1: C(3003,1) = 3003 ✓\n\n**Remarkable**: 3003 achieves the highest known multiplicity (4) and is the smallest such value.",
    "mathContext": "3003 = 3·7·11·13 = C(14,6) = C(15,5) demonstrates deep coincidences in Pascal's triangle. Finding a value with multiplicity 5 is the key open problem.",
    "significance": "critical",
    "relatedConcepts": [
      "verified",
      "record-holder",
      "four-appearances"
    ]
  },
  {
    "id": "ann-e849-main-conjecture",
    "proofId": "erdos-849",
    "range": {
      "startLine": 127,
      "endLine": 132
    },
    "type": "axiom",
    "title": "Main Conjecture (OPEN)",
    "content": "**axiom erdos_849_conjecture**:\n  ∀ t ≥ 1, ∃ a : ℕ, binomNMultiplicity a = t\n\n**Interpretation**: Every positive multiplicity is achieved by some value.\n\n**Known cases**:\n- t = 1: a = 2 ✓\n- t = 2: a = 6 ✓ (or many others)\n- t = 3: a = 120 ✓\n- t = 4: a = 3003 ✓\n- t = 5: **UNKNOWN**\n\n**Note**: Both Erdős and Singmaster believed the answer is NO (some t doesn't occur).",
    "mathContext": "If Singmaster's conjecture is true with bound N, then t > N cannot occur. The question is whether all t ≤ N occur.",
    "significance": "critical",
    "relatedConcepts": [
      "open-problem",
      "existence",
      "multiplicity-spectrum"
    ]
  },
  {
    "id": "ann-e849-t-cases",
    "proofId": "erdos-849",
    "range": {
      "startLine": 134,
      "endLine": 149
    },
    "type": "theorem",
    "title": "Solved Cases",
    "content": "**theorem t_equals_1** ✓: ∃ a, binomNMultiplicity a = 1\n  Witness: a = 2 (via two_multiplicity)\n\n**theorem t_equals_3** ✓: ∃ a, binomNMultiplicity a = 3\n  Witness: a = 120 (via multiplicity_120)\n\n**theorem t_equals_4** ✓: ∃ a, binomNMultiplicity a = 4\n  Witness: a = 3003 (via multiplicity_3003)\n\n**axiom t_equals_5_open**:\n  (∃ a, binomNMultiplicity a = 5) ∨ (¬∃ a, binomNMultiplicity a = 5)\n  This is a tautology expressing that t = 5 is unresolved.",
    "mathContext": "t = 2 is not explicitly proved here but is easy: many values like 6, 10, 15, ... have multiplicity exactly 2.",
    "significance": "key",
    "relatedConcepts": [
      "constructive-witnesses",
      "existence-proofs"
    ]
  },
  {
    "id": "ann-e849-special",
    "proofId": "erdos-849",
    "range": {
      "startLine": 157,
      "endLine": 162
    },
    "type": "theorem",
    "title": "Special Values with Multiplicity 2",
    "content": "**axiom multiplicity_6**: binomNMultiplicity 6 = 2\n  6 = C(4,2) = C(6,1)\n\n**Verified** ✓:\n- choose_5_2: C(5,2) = 10 (by native_decide)\n- choose_10_1: C(10,1) = 10 (by native_decide)\n\n**Pattern**: Triangular numbers T_n = n(n+1)/2 = C(n+1,2) often have multiplicity 2 (edge + triangular appearance).",
    "mathContext": "Values with multiplicity exactly 2 are common. The challenge is finding higher multiplicities.",
    "significance": "supporting",
    "relatedConcepts": [
      "triangular-numbers",
      "multiplicity-2"
    ]
  },
  {
    "id": "ann-e849-asymptotic",
    "proofId": "erdos-849",
    "range": {
      "startLine": 170,
      "endLine": 172
    },
    "type": "axiom",
    "title": "Asymptotic Bounds",
    "content": "**axiom multiplicity_log_bound**:\n  ∃ C > 0, ∀ a ≥ 2, binomNMultiplicity(a) ≤ C · log(a)\n\n**Meaning**: Multiplicities grow at most logarithmically.\n\n**Why?**: For large a, the 'deep' appearances C(n,k) = a require n ≈ a^{1/k}. As k increases, fewer possibilities exist. The sum over k is bounded by O(log a).",
    "mathContext": "This is weaker than Singmaster's conjecture (which predicts bounded, not O(log a)), but is provable by counting arguments.",
    "significance": "key",
    "relatedConcepts": [
      "asymptotic-analysis",
      "logarithmic-bound"
    ]
  },
  {
    "id": "ann-e849-infinite-mult2",
    "proofId": "erdos-849",
    "range": {
      "startLine": 174,
      "endLine": 177
    },
    "type": "axiom",
    "title": "Infinitely Many with Multiplicity >= 2",
    "content": "**axiom infinitely_many_multiplicity_2**:\n  {a : ℕ | binomNMultiplicity a ≥ 2}.Infinite\n\n**Why?**: Every triangular number T_n = C(n+1,2) = C(T_n, 1) appears at least twice (triangular + edge).\n\nSince there are infinitely many triangular numbers, infinitely many values have multiplicity >= 2.",
    "mathContext": "This shows the set of 'interesting' values (appearing more than once) is infinite. The question is about precise multiplicities.",
    "significance": "supporting",
    "relatedConcepts": [
      "infinite-sets",
      "triangular-numbers"
    ]
  },
  {
    "id": "ann-e849-oeis",
    "proofId": "erdos-849",
    "range": {
      "startLine": 185,
      "endLine": 195
    },
    "type": "concept",
    "title": "OEIS Connections",
    "content": "**axiom oeis_A003015**: {a | binomNMultiplicity a >= 5} ⊆ {1}\n  A003015 lists numbers appearing 5+ times. Only 1 is known, and 1 doesn't count with our k >= 1 restriction.\n\n**axiom values_with_multiplicity_4**: binomNMultiplicity 6435 = 4\n  A182238 lists numbers appearing exactly 4 times: 3003, 6435, 11440, ...\n\n**Verified** ✓:\n- choose_15_7: C(15,7) = 6435 (by native_decide)\n- choose_6435_1: C(6435,1) = 6435 (by native_decide)",
    "mathContext": "OEIS (Online Encyclopedia of Integer Sequences) catalogs many sequences related to Pascal's triangle multiplicities.",
    "significance": "supporting",
    "relatedConcepts": [
      "oeis",
      "A003015",
      "A182238"
    ]
  },
  {
    "id": "ann-e849-history",
    "proofId": "erdos-849",
    "range": {
      "startLine": 198,
      "endLine": 212
    },
    "type": "concept",
    "title": "Historical Context",
    "content": "**Timeline**:\n- 1971: Singmaster poses the multiplicity bound conjecture\n- 1996: Erdős credits the 'every t occurs' question to himself and Gordon 'many years ago'\n- 2022: Matomäki, Radziwill, Shao, Tao, Teräväinen prove interior bound\n\n**Key insight**: The problem connects:\n1. **Edge appearances**: C(a,1) = a (trivial)\n2. **Triangular appearances**: C(n,2) = n(n-1)/2\n3. **Deep appearances**: Large k values (rare coincidences)\n\n**The difficulty**: For multiplicity t, we need t coincidences. Finding t = 5 requires an unprecedented alignment.",
    "mathContext": "The 2022 MRSTT paper is a breakthrough: for k large enough, multiplicities are at most 2. This leaves the 'boundary' region as the hard case.",
    "significance": "key",
    "relatedConcepts": [
      "erdos-gordon",
      "singmaster",
      "mrstt-2022"
    ]
  },
  {
    "id": "ann-e849-summary",
    "proofId": "erdos-849",
    "range": {
      "startLine": 1,
      "endLine": 22
    },
    "type": "concept",
    "title": "Summary and Status",
    "content": "**Erdős Problem #849: OPEN**\n\n**Verified Theorems**:\n- appears_at_least_once ✓ (every a >= 2 appears)\n- choose_10_3/16_2/120_1 = 120 ✓\n- choose_14_6/15_5/78_2/3003_1 = 3003 ✓\n- t_equals_1/3/4 ✓ (witnesses exist)\n\n**Key Axioms**:\n- singmaster_conjecture (bounded multiplicities)\n- multiplicity_120 = 3, multiplicity_3003 = 4\n- erdos_849_conjecture (every t occurs)\n\n**Open**: Does t = 5 occur? Is there an absolute multiplicity bound?",
    "mathContext": "The formalization captures the known structure of the problem while clearly marking the open questions as axioms.",
    "significance": "critical",
    "relatedConcepts": [
      "problem-status",
      "open",
      "singmaster"
    ]
  }
]
