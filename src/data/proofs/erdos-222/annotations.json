[
  {
    "id": "ann-e222-overview",
    "proofId": "erdos-222",
    "range": { "startLine": 1, "endLine": 23 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #222: Gaps Between Sums of Two Squares**\n\nLet n₁ < n₂ < ⋯ be the sequence of integers that are sums of two squares. The problem asks for bounds on the consecutive gaps n_{k+1} - n_k.\n\n**Key Results:**\n- Upper: gap ≪ n^(1/4) (Bambah-Chowla 1947)\n- Lower: limsup(gap/log n) ≥ 0.868 (DEKKM 2022)",
    "mathContext": "Classical number theory: Fermat's two-square theorem, Landau's density theorem, and analytic methods for gap estimates.",
    "significance": "critical",
    "relatedConcepts": ["Sums of squares", "Fermat's theorem", "Landau-Ramanujan constant"]
  },
  {
    "id": "ann-e222-sum-def",
    "proofId": "erdos-222",
    "range": { "startLine": 43, "endLine": 45 },
    "type": "definition",
    "title": "Sum of Two Squares",
    "content": "**IsSumTwoSquares n:** n = a² + b² for some integers a, b.\n\nThe sequence begins: 0, 1, 2, 4, 5, 8, 9, 10, 13, 16, 17, 18, 20, 25, ...\n\nNotably, 3, 6, 7, 11, 12, 14, 15, 19, 21-24 are NOT sums of two squares.",
    "significance": "critical",
    "leanSymbol": "IsSumTwoSquares"
  },
  {
    "id": "ann-e222-examples",
    "proofId": "erdos-222",
    "range": { "startLine": 51, "endLine": 56 },
    "type": "theorem",
    "title": "Small Examples",
    "content": "**Small sums of two squares:**\n- 0 = 0² + 0²\n- 1 = 1² + 0²\n- 2 = 1² + 1²\n- 5 = 2² + 1²\n- 13 = 3² + 2²\n\nNote: Some numbers have multiple representations (e.g., 50 = 7² + 1² = 5² + 5²).",
    "significance": "supporting"
  },
  {
    "id": "ann-e222-prime3mod4",
    "proofId": "erdos-222",
    "range": { "startLine": 71, "endLine": 73 },
    "type": "definition",
    "title": "Primes ≡ 3 (mod 4)",
    "content": "**IsPrime3Mod4 p:** p is prime and p ≡ 3 (mod 4).\n\nExamples: 3, 7, 11, 19, 23, 31, 43, ...\n\nThese primes are the 'obstruction' to being a sum of two squares: if p | n to an odd power, then n is NOT a sum of two squares.",
    "significance": "key",
    "leanSymbol": "IsPrime3Mod4"
  },
  {
    "id": "ann-e222-fermat",
    "proofId": "erdos-222",
    "range": { "startLine": 75, "endLine": 78 },
    "type": "axiom",
    "title": "Fermat's Criterion",
    "content": "**fermat_sum_two_squares_criterion:**\n\nFor n > 0: n is a sum of two squares ⟺ every prime p ≡ 3 (mod 4) divides n to an EVEN power.\n\n**Examples:**\n- 45 = 3² · 5: YES (3 appears to power 2, even)\n- 21 = 3 · 7: NO (3 and 7 both appear to odd powers)\n- 63 = 3² · 7: NO (7 appears to power 1, odd)",
    "significance": "critical",
    "leanSymbol": "fermat_sum_two_squares_criterion"
  },
  {
    "id": "ann-e222-nth",
    "proofId": "erdos-222",
    "range": { "startLine": 93, "endLine": 97 },
    "type": "definition",
    "title": "The k-th Sum of Two Squares",
    "content": "**nthSumTwoSquares k:** The k-th element (0-indexed) of the sum-of-two-squares sequence.\n\n- nthSumTwoSquares 0 = 0\n- nthSumTwoSquares 1 = 1\n- nthSumTwoSquares 2 = 2\n- nthSumTwoSquares 3 = 4\n- nthSumTwoSquares 4 = 5\n...",
    "significance": "key",
    "leanSymbol": "nthSumTwoSquares"
  },
  {
    "id": "ann-e222-gap",
    "proofId": "erdos-222",
    "range": { "startLine": 99, "endLine": 101 },
    "type": "definition",
    "title": "Gap Function",
    "content": "**gap k:** nthSumTwoSquares(k+1) - nthSumTwoSquares(k)\n\nThe consecutive difference between successive sums of two squares.\n\nFirst few gaps: 1, 1, 2, 1, 3, 1, 1, 3, 3, 1, 1, 2, 5, 1, ...",
    "significance": "critical",
    "leanSymbol": "gap"
  },
  {
    "id": "ann-e222-landau-const",
    "proofId": "erdos-222",
    "range": { "startLine": 109, "endLine": 112 },
    "type": "definition",
    "title": "Landau-Ramanujan Constant",
    "content": "**landauRamanujanConstant:** c ≈ 0.7642...\n\nThe constant in Landau's density theorem. Defined as:\nc = (1/√2) · ∏_{p ≡ 1 (mod 4)} (1 - 1/p²)⁻¹(1 - 1/p)\n\nThis product over primes ≡ 1 (mod 4) converges to approximately 0.7642.",
    "significance": "key",
    "leanSymbol": "landauRamanujanConstant"
  },
  {
    "id": "ann-e222-landau",
    "proofId": "erdos-222",
    "range": { "startLine": 118, "endLine": 121 },
    "type": "axiom",
    "title": "Landau's Density Theorem (1908)",
    "content": "**landau_density_theorem:**\n\nThe number of sums of two squares up to x is:\ncount(x) ~ cx/√(log x)\n\nwhere c is the Landau-Ramanujan constant ≈ 0.7642.\n\nThis means sums of two squares are sparser than primes (which have density 1/log x) but denser than perfect squares (density 1/√x).",
    "significance": "critical",
    "leanSymbol": "landau_density_theorem"
  },
  {
    "id": "ann-e222-erdos51",
    "proofId": "erdos-222",
    "range": { "startLine": 129, "endLine": 133 },
    "type": "axiom",
    "title": "Erdős's Lower Bound (1951)",
    "content": "**erdos_1951_lower_bound:**\n\nFor infinitely many k:\ngap_k ≫ log(n_k) / √(log log n_k)\n\nThis was the first result showing that gaps can be significantly larger than the average gap √(log n). Erdős used sieve methods to construct intervals avoiding sums of two squares.",
    "significance": "critical",
    "leanSymbol": "erdos_1951_lower_bound"
  },
  {
    "id": "ann-e222-richards",
    "proofId": "erdos-222",
    "range": { "startLine": 145, "endLine": 149 },
    "type": "axiom",
    "title": "Richards's Improvement (1982)",
    "content": "**richards_1982_lower_bound:**\n\nlimsup_{k→∞} gap_k / log(n_k) ≥ 1/4\n\nThis improved Erdős's bound by showing that gaps can be as large as (1/4) log n infinitely often. The constant 1/4 was later improved to ≈ 0.868.",
    "significance": "critical",
    "leanSymbol": "richards_1982_lower_bound"
  },
  {
    "id": "ann-e222-dekkm",
    "proofId": "erdos-222",
    "range": { "startLine": 160, "endLine": 164 },
    "type": "axiom",
    "title": "DEKKM Improvement (2022)",
    "content": "**dekkm_2022_lower_bound:**\n\nlimsup_{k→∞} gap_k / log(n_k) ≥ 0.868\n\nDietmann, Elsholtz, Kalmynin, Konyagin, and Maynard used modern sieve methods and Maynard's breakthrough techniques to achieve this constant.",
    "significance": "critical",
    "leanSymbol": "dekkm_2022_lower_bound"
  },
  {
    "id": "ann-e222-conjecture",
    "proofId": "erdos-222",
    "range": { "startLine": 169, "endLine": 173 },
    "type": "axiom",
    "title": "Gap Conjecture",
    "content": "**gap_conjecture:**\n\nlimsup_{k→∞} gap_k / log(n_k) = 1 (conjectured)\n\nProbabilistic heuristics suggest that if sums of two squares were 'random' with density ~1/√(log n), the largest gap would be ~log n. The true constant remains open.",
    "significance": "key",
    "leanSymbol": "gap_conjecture"
  },
  {
    "id": "ann-e222-upper",
    "proofId": "erdos-222",
    "range": { "startLine": 181, "endLine": 183 },
    "type": "axiom",
    "title": "Bambah-Chowla Upper Bound (1947)",
    "content": "**bambah_chowla_upper_bound:**\n\ngap_k ≪ n_k^(1/4)\n\nBetween n and n + O(n^(1/4)), there is always a sum of two squares. This uses the geometric fact that lattice points (a,b) with a² + b² ≤ n are well-distributed.\n\nThe exponent 1/4 reflects the 2-dimensional nature of the problem.",
    "significance": "critical",
    "leanSymbol": "bambah_chowla_upper_bound"
  },
  {
    "id": "ann-e222-average",
    "proofId": "erdos-222",
    "range": { "startLine": 200, "endLine": 205 },
    "type": "axiom",
    "title": "Average Gap",
    "content": "**average_gap_theorem:**\n\nThe average gap is √(log n).\n\nThis follows from Landau's density theorem: if there are ~cx/√(log x) terms up to x, the average spacing is ~√(log x)/c ≈ 1.31 √(log x).\n\nNote: Maximum gaps (~log n) are much larger than average gaps (~√log n).",
    "significance": "key",
    "leanSymbol": "average_gap_theorem"
  },
  {
    "id": "ann-e222-prime-role",
    "proofId": "erdos-222",
    "range": { "startLine": 220, "endLine": 224 },
    "type": "axiom",
    "title": "Connection to Primes ≡ 3 (mod 4)",
    "content": "**gap_prime_connection:**\n\nLarge gaps occur in intervals where every integer has an odd power of some prime p ≡ 3 (mod 4).\n\nFor example, the gap from 20 to 25:\n- 21 = 3 · 7 (both primes ≡ 3 mod 4, odd powers)\n- 22 = 2 · 11 (11 ≡ 3 mod 4, odd power)\n- 23 prime ≡ 3 mod 4\n- 24 = 2³ · 3 (3 ≡ 3 mod 4, odd power)",
    "significance": "key",
    "leanSymbol": "gap_prime_connection"
  },
  {
    "id": "ann-e222-first5",
    "proofId": "erdos-222",
    "range": { "startLine": 245, "endLine": 246 },
    "type": "axiom",
    "title": "First Gap of Size 5",
    "content": "**first_gap_5:**\n\nThe first gap of size 5 occurs between 20 and 25.\n\n20 = 4² + 2² (sum of two squares)\n21, 22, 23, 24 are NOT sums of two squares\n25 = 5² + 0² = 4² + 3² (sum of two squares)",
    "significance": "supporting",
    "leanSymbol": "first_gap_5"
  },
  {
    "id": "ann-e222-oeis",
    "proofId": "erdos-222",
    "range": { "startLine": 264, "endLine": 268 },
    "type": "definition",
    "title": "OEIS References",
    "content": "**OEIS Sequences:**\n\n- A001481: Sums of two squares (0, 1, 2, 4, 5, 8, 9, 10, 13, ...)\n- A256435: Gaps between consecutive sums of two squares (1, 1, 2, 1, 3, 1, 1, 3, ...)\n\nUseful for computational verification and exploring patterns.",
    "significance": "supporting",
    "leanSymbol": "oeisGapSequence"
  },
  {
    "id": "ann-e222-heuristic",
    "proofId": "erdos-222",
    "range": { "startLine": 276, "endLine": 281 },
    "type": "theorem",
    "title": "Probabilistic Heuristic",
    "content": "**probabilistic_heuristic:**\n\nIf sums of two squares were 'random' with density ~1/√(log n), gaps would follow a Poisson-like process.\n\nExtreme value theory predicts the maximum gap up to n would be ~log n, suggesting limsup(gap/log n) = 1.\n\nThis heuristic motivates the gap conjecture.",
    "significance": "key"
  },
  {
    "id": "ann-e222-prime-compare",
    "proofId": "erdos-222",
    "range": { "startLine": 294, "endLine": 299 },
    "type": "theorem",
    "title": "Comparison with Prime Gaps",
    "content": "**prime_gap_comparison:**\n\n| Property | Primes | Sums of 2 squares |\n|----------|--------|-------------------|\n| Density | 1/log n | 1/√(log n) |\n| Upper bound | p^θ (θ < 1) | n^(1/4) |\n| Conj. upper | (log p)² | log n |\n\nThe 1/4 exponent for sums of squares is better than known results for primes.",
    "significance": "key"
  },
  {
    "id": "ann-e222-summary",
    "proofId": "erdos-222",
    "range": { "startLine": 315, "endLine": 331 },
    "type": "theorem",
    "title": "Main Summary",
    "content": "**erdos_222_summary:**\n\n**Lower Bounds (infinitely many large gaps):**\n- Erdős (1951): gap ≫ log n / √(log log n)\n- Richards (1982): limsup ≥ 1/4\n- DEKKM (2022): limsup ≥ 0.868\n\n**Upper Bound (all gaps bounded):**\n- Bambah-Chowla (1947): gap ≪ n^(1/4)\n\n**Conjecture:** limsup(gap/log n) = 1",
    "significance": "critical",
    "leanSymbol": "erdos_222_summary"
  },
  {
    "id": "ann-e222-main",
    "proofId": "erdos-222",
    "range": { "startLine": 333, "endLine": 334 },
    "type": "theorem",
    "title": "Main Theorem",
    "content": "**erdos_222:**\n\nErdős Problem #222 is SOLVED.\n\nGood bounds exist for gaps between sums of two squares. The lower bound constant continues to be improved (latest: 0.868), while the upper bound exponent 1/4 has stood since 1947.",
    "significance": "critical",
    "leanSymbol": "erdos_222"
  }
]
