{
  "id": "erdos-168",
  "title": "Erdős Problem #168: {n, 2n, 3n}-Free Sets",
  "slug": "erdos-168",
  "description": "Let F(N) be the maximum size of a subset of {1,...,N} avoiding {n, 2n, 3n} triples. What is lim F(N)/N? Is it irrational?",
  "meta": {
    "author": "Graham-Spencer-Witsenhausen (1977, limit exists); Eberhard (numerical value)",
    "sourceUrl": "https://erdosproblems.com/168",
    "date": "",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos168Problem.lean",
    "tags": [
      "erdos",
      "extremal-combinatorics",
      "density",
      "number-theory",
      "3-smooth-numbers"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 168,
    "erdosUrl": "https://erdosproblems.com/168",
    "erdosProblemStatus": "solved",
    "dateAdded": "2026-01-15",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Finset.Icc",
        "description": "Closed interval of naturals",
        "module": "Mathlib.Data.Finset.Basic"
      },
      {
        "theorem": "Filter.Tendsto",
        "description": "Limit definition",
        "module": "Mathlib.Order.Filter.Basic"
      },
      {
        "theorem": "sSup",
        "description": "Supremum of a set",
        "module": "Mathlib.Order.ConditionallyCompleteLattice.Basic"
      },
      {
        "theorem": "Irrational",
        "description": "Irrationality predicate",
        "module": "Mathlib.Data.Real.Irrational"
      }
    ],
    "originalContributions": [
      "Definition of {n, 2n, 3n}-free sets (ContainsTriple, IsTripleFree)",
      "Definition of F(N) as maximum cardinality",
      "Proved: density_bounded (0 ≤ F(N)/N ≤ 1)",
      "Proved: F_monotone (F(N) ≤ F(N+1))",
      "Proved: simple_lower_bound (F(N) ≥ 2N/3 - 1)",
      "Axiomatized GSW limit theorem and numerical approximation ≈ 0.5564",
      "Formalized the irrationality question"
    ]
  },
  "overview": {
    "historicalContext": "This problem concerns the maximum size of subsets avoiding 'ternary' arithmetic progressions of the form {n, 2n, 3n}. Graham, Spencer, and Witsenhausen (1977) proved the limit lim F(N)/N exists and gave a formula involving 3-smooth numbers.\n\nThe 3-smooth numbers are numbers of the form 2^a · 3^b: 1, 2, 3, 4, 6, 8, 9, 12, 16, 18, 24, ...\n\nThe limit formula is L = (1/3) · Σ_{k ∈ K} 1/d_k where d_1 < d_2 < ... are the 3-smooth numbers and K is determined by a greedy algorithm.\n\nEberhard computed the numerical value as approximately 0.5564. Erdős asked whether this limit is irrational—this remains open.",
    "problemStatement": "**Question**: Let $F(N)$ be the maximum size of a subset of $\\{1, \\ldots, N\\}$ containing no triple $\\{n, 2n, 3n\\}$. \n\n(i) What is $\\lim_{N \\to \\infty} F(N)/N$?\n\n(ii) Is this limit irrational?\n\n**Answers**:\n- (i) The limit exists (GSW 1977) and equals approximately **0.5564**\n- (ii) **OPEN** - irrationality is not known\n\n**Lower bound**: $F(N) \\geq 2N/3 - 1$ (remove all multiples of 3)",
    "proofStrategy": "We formalize the problem and known results:\n\n1. **ContainsTriple**: A set contains some {n, 2n, 3n}\n2. **IsTripleFree**: A set avoids all such triples\n3. **F(N)**: Maximum cardinality of triple-free subsets of {1,...,N}\n4. **density_bounded**: Prove 0 ≤ F(N)/N ≤ 1\n5. **F_monotone**: Prove F(N) ≤ F(N+1)\n6. **simple_lower_bound**: Prove F(N) ≥ 2N/3 - 1\n7. **gsw_limit_exists**: Axiomatize that the limit exists\n8. **IrrationalityQuestion**: Formalize the open irrationality question",
    "keyInsights": [
      "**{n, 2n, 3n} triples**: These are 'multiplicative' arithmetic progressions with ratio 2, not additive.",
      "**Simple construction**: Removing multiples of 3 gives a triple-free set of size ≈ 2N/3.",
      "**3-smooth connection**: The limit formula involves the 3-smooth numbers 2^a · 3^b.",
      "**Numerical value**: The limit is approximately 0.5564, better than the 2/3 lower bound.",
      "**Open problem**: Whether the limit is irrational remains unknown."
    ]
  },
  "sections": [
    {
      "id": "definitions",
      "title": "Core Definitions",
      "startLine": 52,
      "endLine": 63,
      "summary": "Define ContainsTriple, IsTripleFree, and F(N)."
    },
    {
      "id": "basic-properties",
      "title": "Basic Properties",
      "startLine": 65,
      "endLine": 83,
      "summary": "Prove density bounded and monotonicity."
    },
    {
      "id": "limit-theorem",
      "title": "The Limit Theorem",
      "startLine": 84,
      "endLine": 109,
      "summary": "3-smooth numbers and GSW limit existence."
    },
    {
      "id": "lower-bounds",
      "title": "Lower Bound Constructions",
      "startLine": 111,
      "endLine": 139,
      "summary": "Prove F(N) ≥ 2N/3 - 1 and axiomatize 0.55 bound."
    },
    {
      "id": "irrationality",
      "title": "Irrationality Question",
      "startLine": 141,
      "endLine": 148,
      "summary": "Formalize Erdős's open question on irrationality."
    },
    {
      "id": "examples",
      "title": "Small Examples",
      "startLine": 150,
      "endLine": 163,
      "summary": "Verify {1,2} is triple-free and {1,2,3} contains a triple."
    }
  ],
  "conclusion": {
    "summary": "We formalize Erdős Problem #168 on {n, 2n, 3n}-free sets. The Lean proof establishes the basic properties (bounded density, monotonicity), proves lower bounds, axiomatizes the GSW limit theorem, and formalizes the open irrationality question.",
    "implications": "This problem connects extremal set theory with the structure of 3-smooth numbers. The formula L = (1/3) · Σ 1/d_k shows how multiplicative structure (powers of 2 and 3) governs the density of triple-free sets.",
    "openQuestions": [
      "Is the limit lim F(N)/N irrational?",
      "What is the exact computational complexity of determining F(N)?",
      "Are there similar results for {n, 2n, 4n} or other multiplicative patterns?",
      "What is the optimal constant in F(N) ≥ cN for finite N?"
    ]
  }
}
