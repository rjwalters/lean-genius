{
  "id": "erdos-442",
  "title": "Erdős #442: LCM Sums Over Dense Subsets",
  "slug": "erdos-442",
  "description": "If a subset A ⊆ ℕ has reciprocal sum growing faster than log log x, must the normalized LCM sum diverge? NO — Tao (2024) constructed a counterexample and proved the threshold is sharp.",
  "meta": {
    "author": "Terence Tao (2024)",
    "sourceUrl": "https://erdosproblems.com/442",
    "date": "1980-2024",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos442Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "lcm",
      "dense-sets",
      "counterexample",
      "tao"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 442,
    "erdosUrl": "https://erdosproblems.com/442",
    "erdosProblemStatus": "solved",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.lcm",
        "description": "Least common multiple function",
        "module": "Mathlib.Data.Nat.GCD.Basic"
      },
      {
        "theorem": "Filter.Tendsto",
        "description": "Convergence along filters",
        "module": "Mathlib.Order.Filter.AtTopBot.Basic"
      },
      {
        "theorem": "Real.log",
        "description": "Natural logarithm",
        "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic"
      },
      {
        "theorem": "Finset.sum",
        "description": "Sums over finite sets",
        "module": "Mathlib.Algebra.BigOperators.Finprod"
      }
    ],
    "originalContributions": [
      "Formalization of iterated logarithms log⁺, log₂⁺, log₃⁺",
      "Definition of reciprocal sum and LCM sum over subsets",
      "The density condition: reciprocal sum >> log log x",
      "Tao's counterexample: bounded normalized LCM sum despite density",
      "Tao's optimality theorem: sharp threshold at exp(√(log log x)·log log log x)",
      "Verified LCM examples and identity lcm(a,b)·gcd(a,b) = a·b"
    ]
  },
  "overview": {
    "historicalContext": "Erdős Problem #442 appeared in Erdős and Graham's 'Old and New Problems and Results in Combinatorial Number Theory' (1980, p.88). The problem asks about the relationship between density of a set and the behavior of pairwise LCMs.\n\nThe question sat open for 44 years until Terence Tao resolved it in July 2024 with his paper 'Dense sets of natural numbers with unusually large least common multiples' (arXiv:2407.04226).\n\nTao not only answered the question negatively but also determined the exact threshold: sets growing faster than exp(C√(log log x)·log log log x) for any constant C DO have divergent normalized LCM sums, while at exactly this growth rate, the normalized LCM sum can remain bounded.",
    "problemStatement": "Let A ⊆ ℕ be a set of natural numbers. Define:\n- **Reciprocal sum**: S(x) = Σ_{n∈A, n≤x} 1/n\n- **LCM sum**: L(x) = Σ_{a,b∈A, a<b≤x} 1/lcm(a,b)\n- **Normalized LCM sum**: L(x)/S(x)²\n\n**Erdős's Question**: If (1/log log x)·S(x) → ∞ (A is 'dense'), must L(x)/S(x)² → ∞?\n\n**Answer**: NO (Tao 2024)\n\n**Tao's Theorem**: There exists A ⊂ ℕ such that:\n- S(x) ~ exp((1/2+o(1))√(log log x)·log log log x)\n- Yet L(x)/S(x)² stays bounded!\n\nMoreover, this threshold is **sharp**: faster growth implies LCM divergence.",
    "proofStrategy": "The formalization captures the problem structure and Tao's results:\n\n1. **Iterated logarithms**: Define log⁺(x) = max(log x, 1) and iterate to get log₂⁺, log₃⁺.\n\n2. **Sums over subsets**: The reciprocal sum and LCM sum are defined using Finset.sum with classical decidability.\n\n3. **The density condition**: A set is 'dense' if (reciprocalSum A N)/(log₂⁺ N) → ∞.\n\n4. **Tao's counterexample**: An axiom asserting the existence of a set with bounded normalized LCM sum despite density.\n\n5. **Optimality**: An axiom stating that faster growth implies divergence.\n\n6. **LCM properties**: We prove lcm(a,b)·gcd(a,b) = a·b and verify small examples.\n\nThe deep results from Tao's paper are axiomatized since they require sophisticated techniques from analytic number theory.",
    "keyInsights": [
      "**The surprise**: Intuitively, 'more elements' should mean 'more LCM interactions' leading to divergence. Tao shows structure can defeat density.",
      "**Tao's growth rate**: exp((1/2+o(1))√(log log x)·log log log x) is precisely the threshold — faster implies divergence, at or below allows boundedness.",
      "**Smooth numbers**: Tao's construction uses numbers with controlled prime factorizations. The careful structure makes lcm(a,b) large enough to prevent the normalized sum from growing.",
      "**The LCM-GCD identity**: lcm(a,b)·gcd(a,b) = a·b connects LCM behavior to GCD structure. For coprime a,b, lcm = a·b (maximal), while shared factors reduce the LCM.",
      "**Historical significance**: This resolves a 44-year-old problem and reveals a precise phase transition in the density-LCM relationship."
    ]
  },
  "sections": [
    {
      "id": "iterated-logs",
      "title": "Iterated Logarithms",
      "startLine": 42,
      "endLine": 62,
      "summary": "Definitions of log⁺, log₂⁺, log₃⁺ with basic properties"
    },
    {
      "id": "reciprocal-sum",
      "title": "The Reciprocal Sum",
      "startLine": 64,
      "endLine": 83,
      "summary": "Definition of Σ_{n∈A, n≤N} 1/n over subsets of ℕ"
    },
    {
      "id": "lcm-sum",
      "title": "The LCM Sum",
      "startLine": 85,
      "endLine": 99,
      "summary": "Definition of Σ_{a,b∈A, a<b≤N} 1/lcm(a,b) and normalized version"
    },
    {
      "id": "density",
      "title": "The Density Condition",
      "startLine": 101,
      "endLine": 111,
      "summary": "When a set has reciprocal sum growing faster than log log x"
    },
    {
      "id": "conjecture",
      "title": "The Conjecture and Refutation",
      "startLine": 113,
      "endLine": 136,
      "summary": "Erdős's question and Tao's negative answer"
    },
    {
      "id": "tao-construction",
      "title": "Tao's Construction",
      "startLine": 138,
      "endLine": 155,
      "summary": "The counterexample set with bounded normalized LCM sum"
    },
    {
      "id": "optimality",
      "title": "Optimality",
      "startLine": 157,
      "endLine": 170,
      "summary": "The threshold is sharp: faster growth implies divergence"
    },
    {
      "id": "key-insight",
      "title": "Why the Counterexample Works",
      "startLine": 172,
      "endLine": 186,
      "summary": "Structure vs density: smooth numbers in careful patterns"
    },
    {
      "id": "lcm-properties",
      "title": "LCM Properties",
      "startLine": 188,
      "endLine": 209,
      "summary": "The fundamental identity lcm(a,b)·gcd(a,b) = a·b"
    },
    {
      "id": "examples",
      "title": "Verified Examples",
      "startLine": 211,
      "endLine": 220,
      "summary": "Computational verification of LCM values"
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 222,
      "endLine": 245,
      "summary": "Main theorem combining the negative answer and existence"
    }
  ],
  "conclusion": {
    "summary": "This formalization captures Erdős Problem #442, resolved by Terence Tao in 2024. The question asked whether 'density' (reciprocal sum >> log log x) implies LCM divergence. Tao showed the answer is NO and identified the exact threshold at exp(√(log log x)·log log log x).",
    "implications": "The result reveals that the relationship between density and LCM behavior has a precise phase transition. It demonstrates that algebraic structure (how elements share prime factors) can dominate mere cardinality. This has implications for understanding the distribution of multiplicative structures in dense sets.",
    "openQuestions": [
      "Can Tao's construction be made explicit for all x, rather than just asymptotically?",
      "What is the behavior at exactly the threshold growth rate?",
      "Are there natural examples of sets at the threshold?",
      "What happens for other normalized sums (e.g., involving gcd instead of lcm)?"
    ]
  }
}
