[
  {
    "id": "ann-792-header",
    "proofId": "erdos-792",
    "range": { "startLine": 1, "endLine": 37 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #792** asks about guaranteed sum-free subsets in finite integer sets. A set B is sum-free if no element equals the sum of two others (a + b != c for all a, b, c in B). The function f(n) measures the minimum size of the largest sum-free subset guaranteed in any n-element set. This is a cornerstone problem in additive combinatorics, appearing as Problem 1 on Ben Green's open problems list.",
    "mathContext": "The problem connects to Ramsey theory through Schur numbers: Schur's theorem says for any r-coloring of [1,n], some color class contains a, b, c with a + b = c. Sum-free sets are related but consider subsets rather than colorings.",
    "significance": "critical",
    "relatedConcepts": ["additive combinatorics", "Ramsey theory", "Schur numbers"]
  },
  {
    "id": "ann-792-imports",
    "proofId": "erdos-792",
    "range": { "startLine": 39, "endLine": 54 },
    "type": "supporting",
    "title": "Imports and Setup",
    "content": "We import specific Mathlib modules for finite sets (Finset), filters for limits (atTop), and the real logarithm function. The namespace Erdos792 contains all definitions and theorems for this problem.",
    "significance": "supporting",
    "relatedConcepts": ["Mathlib", "Lean 4"]
  },
  {
    "id": "ann-792-sumfree-def",
    "proofId": "erdos-792",
    "range": { "startLine": 57, "endLine": 59 },
    "type": "definition",
    "title": "Sum-Free Set (Infinite)",
    "content": "**SumFree(B)** is the predicate for infinite sets: B is sum-free if for all a, b, c in B, we have a + b != c. This means no element of B can be expressed as a sum of two (not necessarily distinct) elements of B.",
    "mathContext": "Equivalently, B is sum-free iff B ∩ (B + B) = ∅, where B + B = {a + b : a, b ∈ B} is the sumset.",
    "significance": "critical",
    "relatedConcepts": ["sumset", "additive combinatorics"]
  },
  {
    "id": "ann-792-sumfree-finset",
    "proofId": "erdos-792",
    "range": { "startLine": 61, "endLine": 63 },
    "type": "definition",
    "title": "Sum-Free Finset",
    "content": "**SumFreeFinset(B)** adapts the sum-free definition to finite sets (Finset). The condition is identical: for all a, b, c in B, we require a + b != c.",
    "significance": "key",
    "relatedConcepts": ["Finset", "finite sets"]
  },
  {
    "id": "ann-792-subset",
    "proofId": "erdos-792",
    "range": { "startLine": 65, "endLine": 67 },
    "type": "definition",
    "title": "Sum-Free Subset Relation",
    "content": "**IsSumFreeSubset(B, A)** means B is a subset of A and B is sum-free. This captures the relationship between a finite set and its sum-free subsets.",
    "significance": "key",
    "relatedConcepts": ["subset", "sum-free"]
  },
  {
    "id": "ann-792-maxsize",
    "proofId": "erdos-792",
    "range": { "startLine": 69, "endLine": 71 },
    "type": "definition",
    "title": "Maximum Sum-Free Size",
    "content": "**maxSumFreeSize(A)** is the supremum of cardinalities of sum-free subsets of A. For finite A, this is simply the size of the largest sum-free subset. Sets with many sums have smaller maxSumFreeSize.",
    "mathContext": "Defined as sSup of the set of cardinalities, which is well-defined since A is finite.",
    "significance": "critical",
    "relatedConcepts": ["supremum", "extremal combinatorics"]
  },
  {
    "id": "ann-792-f-def",
    "proofId": "erdos-792",
    "range": { "startLine": 73, "endLine": 75 },
    "type": "definition",
    "title": "The Function f(n)",
    "content": "**f(n)** is the minimum of maxSumFreeSize(A) over all n-element sets A. It represents the worst-case guarantee: every n-element set has a sum-free subset of size at least f(n), and some set achieves exactly this.",
    "mathContext": "Defined as sInf, the infimum. The key question is determining f(n) asymptotically.",
    "significance": "critical",
    "relatedConcepts": ["extremal", "guarantee", "infimum"]
  },
  {
    "id": "ann-792-main-problem",
    "proofId": "erdos-792",
    "range": { "startLine": 77, "endLine": 91 },
    "type": "theorem",
    "title": "Main Problem Statement",
    "content": "**erdos_792**: The main open problem asks to determine the asymptotics of f(n). The answer should be f(n) = n/3 + g(n) for some function g(n) = o(n). The precise form of g(n) is unknown.",
    "mathContext": "Marked as @[category research open, AMS 11] indicating it's an open research problem in number theory (AMS classification 11).",
    "significance": "critical",
    "relatedConcepts": ["asymptotics", "open problem"]
  },
  {
    "id": "ann-792-erdos-bound",
    "proofId": "erdos-792",
    "range": { "startLine": 99, "endLine": 102 },
    "type": "theorem",
    "title": "Erdős Lower Bound",
    "content": "**erdos_lower_bound**: Erdős (1965) proved f(n) >= n/3 using the 'middle third' construction. For any set, taking elements in the middle third of the range avoids most sums.",
    "mathContext": "If elements are ordered a₁ < ... < aₙ, taking those in (aₙ/3, 2aₙ/3] tends to avoid sums since a + b > 2aₙ/3 when both are in the middle third.",
    "significance": "key",
    "relatedConcepts": ["middle third", "construction"]
  },
  {
    "id": "ann-792-ak-bound",
    "proofId": "erdos-792",
    "range": { "startLine": 104, "endLine": 107 },
    "type": "theorem",
    "title": "Alon-Kleitman Bound",
    "content": "**alon_kleitman_bound**: Alon and Kleitman (1990) improved to f(n) >= (n+1)/3. A small improvement over Erdős's bound, but meaningful progress.",
    "significance": "key",
    "relatedConcepts": ["improvement", "lower bound"]
  },
  {
    "id": "ann-792-bourgain-bound",
    "proofId": "erdos-792",
    "range": { "startLine": 109, "endLine": 112 },
    "type": "theorem",
    "title": "Bourgain Bound",
    "content": "**bourgain_bound**: Bourgain (1997) proved f(n) >= (n+2)/3. Another incremental improvement showing the difficulty of the problem.",
    "significance": "key",
    "relatedConcepts": ["Bourgain", "lower bound"]
  },
  {
    "id": "ann-792-bedert-bound",
    "proofId": "erdos-792",
    "range": { "startLine": 114, "endLine": 118 },
    "type": "theorem",
    "title": "Bedert Bound (2025)",
    "content": "**bedert_bound**: Bedert (2025) achieved the current best lower bound: f(n) >= n/3 + c·log log n for some constant c > 0. This breaks the n/3 + O(1) barrier and shows the second-order term grows (slowly) to infinity.",
    "mathContext": "The log log n term is extremely slow-growing (log log 10^10 ≈ 3.4), but it represents genuine progress on the second-order asymptotics.",
    "significance": "critical",
    "relatedConcepts": ["second-order term", "logarithm"]
  },
  {
    "id": "ann-792-egm-bound",
    "proofId": "erdos-792",
    "range": { "startLine": 126, "endLine": 130 },
    "type": "theorem",
    "title": "Eberhard-Green-Manners Upper Bound",
    "content": "**egm_upper_bound**: Eberhard, Green, and Manners (2014) proved f(n) <= n/3 + o(n). For any ε > 0, eventually f(n) <= n/3 + εn. This shows the main term n/3 is optimal.",
    "mathContext": "The o(n) upper bound leaves a large gap with Bedert's log log n lower bound. Closing this gap is the main open question.",
    "significance": "critical",
    "relatedConcepts": ["upper bound", "o(n)"]
  },
  {
    "id": "ann-792-limit",
    "proofId": "erdos-792",
    "range": { "startLine": 132, "endLine": 135 },
    "type": "theorem",
    "title": "Limit Theorem",
    "content": "**f_limit**: As n → ∞, we have f(n)/n → 1/3. This is a corollary of the upper and lower bounds: both sandwich f(n) near n/3 asymptotically.",
    "mathContext": "Uses Filter.Tendsto with the atTop filter to express the limit. The limiting density 1/3 is now established.",
    "significance": "key",
    "relatedConcepts": ["limit", "asymptotic density"]
  },
  {
    "id": "ann-792-example",
    "proofId": "erdos-792",
    "range": { "startLine": 141, "endLine": 144 },
    "type": "example",
    "title": "Small Example",
    "content": "For the set {1, 2, 3}, since 1 + 2 = 3, we cannot include all three in a sum-free subset. The maximal sum-free subsets are {1, 2} or {3} of sizes 2 and 1. This illustrates how sums constrain sum-free subsets.",
    "significance": "supporting",
    "relatedConcepts": ["example", "constraint"]
  },
  {
    "id": "ann-792-interval",
    "proofId": "erdos-792",
    "range": { "startLine": 146, "endLine": 150 },
    "type": "theorem",
    "title": "Interval Sum-Free",
    "content": "**interval_sum_free**: The interval [n, 2n-1] is sum-free. If a, b ∈ [n, 2n-1], then a + b >= 2n > 2n-1, so a + b is never in the interval. This is a key construction technique.",
    "mathContext": "For n=5, the interval [5,9] = {5,6,7,8,9} is sum-free: smallest sum is 5+5=10 > 9.",
    "significance": "key",
    "relatedConcepts": ["interval", "construction"]
  },
  {
    "id": "ann-792-middle-third",
    "proofId": "erdos-792",
    "range": { "startLine": 152, "endLine": 156 },
    "type": "theorem",
    "title": "Middle Third Construction",
    "content": "**middle_third_sum_free**: For any finite set A, there exists a sum-free subset B with |B| >= |A|/3. This is achieved by taking elements in the 'middle third' of A's range, which avoids most sums.",
    "mathContext": "This proves Erdős's original n/3 lower bound constructively.",
    "significance": "key",
    "relatedConcepts": ["construction", "lower bound"]
  },
  {
    "id": "ann-792-existence",
    "proofId": "erdos-792",
    "range": { "startLine": 162, "endLine": 165 },
    "type": "theorem",
    "title": "Existence Theorem",
    "content": "**sum_free_subset_exists**: Every n-element set has a sum-free subset of size at least ceiling(n/3). This gives (n+2)/3 for the Bourgain bound formulation.",
    "significance": "key",
    "relatedConcepts": ["existence", "guarantee"]
  },
  {
    "id": "ann-792-connections",
    "proofId": "erdos-792",
    "range": { "startLine": 170, "endLine": 182 },
    "type": "concept",
    "title": "Additive Combinatorics Connections",
    "content": "The sum-free subset problem sits at the heart of additive combinatorics. It relates to arithmetic progressions (sum-free implies no 3-AP of form a, (a+c)/2, c where a+c=2b), Schur numbers (partition regularity of a+b=c), and Ramsey theory (guaranteed structures in large sets).",
    "mathContext": "Schur's theorem: For any r-coloring of [1,n], some color class contains a,b,c with a+b=c. This is the coloring analogue of sum-free subsets.",
    "significance": "supporting",
    "relatedConcepts": ["Schur numbers", "arithmetic progressions", "Ramsey theory"]
  },
  {
    "id": "ann-792-second-order",
    "proofId": "erdos-792",
    "range": { "startLine": 193, "endLine": 200 },
    "type": "theorem",
    "title": "Second-Order Conjecture",
    "content": "**erdos_792_second_order**: Is f(n) = n/3 + Θ(log log n)? This asks whether Bedert's lower bound is essentially optimal. If true, f(n) - n/3 grows like log log n, an extremely slow function.",
    "mathContext": "Θ(log log n) means there exist constants c₁, c₂ > 0 such that c₁·log log n <= f(n) - n/3 <= c₂·log log n for large n.",
    "significance": "critical",
    "relatedConcepts": ["conjecture", "Theta notation", "second-order term"]
  }
]
