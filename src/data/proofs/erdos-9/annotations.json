[
  {
    "id": "ann-e9-header",
    "proofId": "erdos-9",
    "range": { "startLine": 1, "endLine": 27 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdos Problem #9: Odd Integers Not of the Form p + 2^k + 2^l**\n\nThis is an OPEN problem asking whether the set A of odd integers that CANNOT be written as p + 2^k + 2^l (where p is prime) has positive upper density.\n\n**Key Question:** Is a positive proportion of odd integers not representable in this form?\n\n**Known Results:**\n- Schinzel: Infinitely many such odd integers exist\n- Crocker (1971): At least log log N such integers up to N\n- Pan (2011): At least N^{1-epsilon} such integers (almost linear!)",
    "mathContext": "The upper density of a set A is lim sup (|A cap {1,...,N}| / N). Positive density means this limit is > 0.",
    "significance": "critical",
    "relatedConcepts": ["Upper density", "Additive number theory", "Covering systems"]
  },
  {
    "id": "ann-e9-form-def",
    "proofId": "erdos-9",
    "range": { "startLine": 45, "endLine": 47 },
    "type": "definition",
    "title": "Prime + Two Powers Form",
    "content": "**HasPrimePlusTwoPowersForm n:**\n\nA natural number n has this form if:\n```\nn = p + 2^k + 2^l\n```\nfor some prime p and non-negative integers k, l.\n\n**Examples:**\n- 5 = 3 + 1 + 1 = 3 + 2^0 + 2^0 (has form)\n- 7 = 3 + 2 + 2 = 3 + 2^1 + 2^1 (has form)\n- 1 does NOT have this form (p >= 2, 2^k >= 1, 2^l >= 1)",
    "significance": "critical",
    "relatedConcepts": ["Prime numbers", "Powers of 2", "Additive representation"]
  },
  {
    "id": "ann-e9-set-s",
    "proofId": "erdos-9",
    "range": { "startLine": 49, "endLine": 50 },
    "type": "definition",
    "title": "Set S: Representable Integers",
    "content": "**S = { n | HasPrimePlusTwoPowersForm n }**\n\nThe set of ALL positive integers that CAN be written as p + 2^k + 2^l.\n\n**Key fact:** S is dense - it intersects every arithmetic progression (Erdos's observation).\n\n**Examples in S:** 5, 7, 9, 11, 13, ...",
    "significance": "key"
  },
  {
    "id": "ann-e9-set-a",
    "proofId": "erdos-9",
    "range": { "startLine": 52, "endLine": 54 },
    "type": "definition",
    "title": "Exceptional Set A",
    "content": "**A = { n | Odd n and n > 0 and NOT HasPrimePlusTwoPowersForm n }**\n\nThe set of ODD positive integers that CANNOT be represented as p + 2^k + 2^l.\n\nThis is the central object of Erdos Problem #9.\n\n**First elements:** 1, 127, 149, 251, 331, 337, 373, ...\n\n**The question:** Does A have positive upper density?",
    "mathContext": "First elements: 1, 127, 149, 251, 331, 337, 373, ... (OEIS A006286 for all integers)",
    "significance": "critical"
  },
  {
    "id": "ann-e9-prime-plus-power",
    "proofId": "erdos-9",
    "range": { "startLine": 58, "endLine": 71 },
    "type": "theorem",
    "title": "Prime Plus One Power Theorem",
    "content": "**prime_plus_one_power_in_S:**\n\nIf p is prime and m >= 1, then p + 2^m is in S.\n\n**Proof idea:** We can write 2^m = 2^{m-1} + 2^{m-1}, so:\np + 2^m = p + 2^{m-1} + 2^{m-1}\n\nThis uses k = l = m-1 in the representation.",
    "significance": "key"
  },
  {
    "id": "ann-e9-counting",
    "proofId": "erdos-9",
    "range": { "startLine": 81, "endLine": 84 },
    "type": "definition",
    "title": "Counting Function",
    "content": "**countA(N):**\n\nThe number of elements of A that are at most N.\n\n```lean\nnoncomputable def countA (N : N) : N :=\n  Nat.card { n : N | n <= N and n in A }\n```\n\nThe key quantities:\n- Crocker: countA(N) >> log log N\n- Pan: countA(N) >> N^{1-epsilon}\n- Question: countA(N) >> N (positive density)?",
    "significance": "key"
  },
  {
    "id": "ann-e9-upper-density",
    "proofId": "erdos-9",
    "range": { "startLine": 86, "endLine": 92 },
    "type": "definition",
    "title": "Upper Density",
    "content": "**upperDensity:**\n\nThe upper asymptotic density of A:\n```lean\nlimsup (fun N => countA(N) / N) atTop\n```\n\n**hasPositiveUpperDensity** := upperDensity > 0\n\nThis is exactly what Erdos #9 asks about.",
    "mathContext": "Upper density captures 'how much' of the integers are in a set, even if the limit doesn't exist.",
    "significance": "critical"
  },
  {
    "id": "ann-e9-question",
    "proofId": "erdos-9",
    "range": { "startLine": 96, "endLine": 105 },
    "type": "concept",
    "title": "The Erdos Question",
    "content": "**erdos_9_question:**\n\nThis is the OPEN problem. It asks:\n\nDoes the set A of odd integers not of the form p + 2^k + 2^l have POSITIVE upper density?\n\nEquivalently: Is there delta > 0 such that for all large N:\ncountA(N) >= delta * N?",
    "significance": "critical"
  },
  {
    "id": "ann-e9-schinzel",
    "proofId": "erdos-9",
    "range": { "startLine": 113, "endLine": 118 },
    "type": "axiom",
    "title": "Schinzel's Theorem",
    "content": "**schinzel_infinite:**\n\nThere are INFINITELY many odd integers not of the form p + 2^k + 2^l.\n\n```lean\naxiom schinzel_infinite : A.Infinite\n```\n\nErdos credited Schinzel with this result in his 1977 paper [Er77c], but gave no reference.\n\nThis axiom is needed because the full proof requires advanced analytic number theory.",
    "mathContext": "The proof uses covering system techniques or sieving methods.",
    "significance": "critical"
  },
  {
    "id": "ann-e9-unbounded",
    "proofId": "erdos-9",
    "range": { "startLine": 120, "endLine": 131 },
    "type": "theorem",
    "title": "A is Unbounded",
    "content": "**A_unbounded:**\n\nFor every N, there exists n in A with n > N.\n\nThis is a direct consequence of schinzel_infinite. If A were bounded (all elements <= N), then A would be a finite subset of {1,...,N}, contradicting infinitude.",
    "significance": "key"
  },
  {
    "id": "ann-e9-crocker",
    "proofId": "erdos-9",
    "range": { "startLine": 133, "endLine": 140 },
    "type": "axiom",
    "title": "Crocker's Theorem (1971)",
    "content": "**crocker_bound:**\n\nThere exists c > 0 such that for all large N:\ncountA(N) >= c * log(log N)\n\nThis is VERY slow growth - log log N grows like:\n- log log 10 approx 0.8\n- log log 1000 approx 1.9\n- log log 10^6 approx 2.6\n\nCrocker's 1971 paper: 'On a sum of a prime and two powers of two'",
    "significance": "key"
  },
  {
    "id": "ann-e9-pan",
    "proofId": "erdos-9",
    "range": { "startLine": 142, "endLine": 149 },
    "type": "axiom",
    "title": "Pan's Theorem (2011)",
    "content": "**pan_bound:**\n\nFor any epsilon > 0, there exists c > 0 such that for all large N:\ncountA(N) >= c * N^{1-epsilon}\n\nThis is a DRAMATIC improvement over Crocker! For example with epsilon = 0.01:\n- N = 10^6: at least c * 10^{5.94} approx c * 871,000 elements\n\nBut N^{1-epsilon} is still not linear growth, so positive density remains unproved.",
    "mathContext": "The proof uses sieve methods and careful estimates on prime distributions.",
    "significance": "critical"
  },
  {
    "id": "ann-e9-covering-axiom",
    "proofId": "erdos-9",
    "range": { "startLine": 163, "endLine": 171 },
    "type": "axiom",
    "title": "S Hits Every Progression",
    "content": "**form_in_every_arithmetic_progression:**\n\nFor every a, d with d >= 1, there exists n in S with n == a (mod d).\n\nIn other words: S intersects EVERY arithmetic progression.\n\nThis is Erdos's key observation about why covering systems cannot solve this problem.",
    "mathContext": "Covering systems work by finding residue classes that avoid a set. But S avoids no residue class!",
    "significance": "critical"
  },
  {
    "id": "ann-e9-intersects",
    "proofId": "erdos-9",
    "range": { "startLine": 173, "endLine": 177 },
    "type": "theorem",
    "title": "S Meets All Progressions",
    "content": "**S_intersects_all_progressions:**\n\nFor any arithmetic progression {a, a+d, a+2d, ...}, there exists n in S with n = a (mod d).\n\nThis formalizes why covering systems are insufficient.",
    "significance": "key"
  },
  {
    "id": "ann-e9-covering-fail",
    "proofId": "erdos-9",
    "range": { "startLine": 179, "endLine": 193 },
    "type": "theorem",
    "title": "Covering Systems Fail",
    "content": "**covering_systems_insufficient:**\n\nCovering system methods CANNOT prove A has positive density.\n\n**Why?** A covering system proof would need to find an arithmetic progression disjoint from S. But Erdos's observation shows that S intersects EVERY arithmetic progression.\n\nThis explains why the problem is so hard - the most powerful tool for these problems doesn't apply!",
    "significance": "key",
    "relatedConcepts": ["Covering systems", "Arithmetic progressions"]
  },
  {
    "id": "ann-e9-one-in-a",
    "proofId": "erdos-9",
    "range": { "startLine": 204, "endLine": 218 },
    "type": "theorem",
    "title": "1 is Exceptional",
    "content": "**one_in_A:**\n\n1 is in A (cannot be written as p + 2^k + 2^l).\n\n**Proof:** Any representation p + 2^k + 2^l requires:\n- p >= 2 (smallest prime)\n- 2^k >= 1\n- 2^l >= 1\n\nSo p + 2^k + 2^l >= 2 + 1 + 1 = 4 > 1.\n\nThus 1 has no such representation.",
    "significance": "key"
  },
  {
    "id": "ann-e9-three-in-a",
    "proofId": "erdos-9",
    "range": { "startLine": 220, "endLine": 231 },
    "type": "theorem",
    "title": "3 is Exceptional",
    "content": "**three_in_A:**\n\n3 is in A (cannot be written as p + 2^k + 2^l).\n\n**Proof:** Same argument as for 1:\np + 2^k + 2^l >= 2 + 1 + 1 = 4 > 3.\n\nNote: This matches the formal-conjectures verification erdos9A_contains_three.",
    "significance": "supporting"
  },
  {
    "id": "ann-e9-five-in-s",
    "proofId": "erdos-9",
    "range": { "startLine": 233, "endLine": 238 },
    "type": "theorem",
    "title": "5 is Representable",
    "content": "**five_in_S:**\n\n5 is in S: 5 = 3 + 2^0 + 2^0 = 3 + 1 + 1.\n\nThis matches the formal-conjectures verification erdos9A_not_contains_five.",
    "significance": "supporting"
  },
  {
    "id": "ann-e9-seven-in-s",
    "proofId": "erdos-9",
    "range": { "startLine": 240, "endLine": 250 },
    "type": "theorem",
    "title": "7 is Representable",
    "content": "**seven_in_S and seven_not_in_A:**\n\n7 is in S: 7 = 3 + 2^1 + 2^1 = 3 + 2 + 2.\n\n**seven_not_in_A** proves that 7 is NOT exceptional.\n\nThis corrects a common misconception - 7 CAN be represented, unlike 1 and 3.",
    "significance": "key"
  },
  {
    "id": "ann-e9-nine-in-s",
    "proofId": "erdos-9",
    "range": { "startLine": 252, "endLine": 257 },
    "type": "theorem",
    "title": "9 is Representable",
    "content": "**nine_in_S:**\n\n9 is in S: 9 = 5 + 2^1 + 2^1 = 5 + 2 + 2.\n\nMost small odd numbers are representable - the exceptions are rare.",
    "significance": "supporting"
  },
  {
    "id": "ann-e9-bounds-hierarchy",
    "proofId": "erdos-9",
    "range": { "startLine": 261, "endLine": 277 },
    "type": "concept",
    "title": "Bounds Comparison",
    "content": "**bounds_comparison and improvement_would_solve:**\n\nThe growth hierarchy:\n```\nlog log N  <<  N^{1-epsilon}  <<  N\n(Crocker)      (Pan)              (positive density)\n```\n\nPan's bound is ALMOST linear but not quite. The gap between N^{1-epsilon} and N is exactly where the difficulty lies.\n\n**improvement_would_solve** shows that if we could prove countA(N) >= c*N for some c > 0, the problem would be solved.",
    "significance": "key"
  },
  {
    "id": "ann-e9-related",
    "proofId": "erdos-9",
    "range": { "startLine": 279, "endLine": 292 },
    "type": "concept",
    "title": "Related Problems",
    "content": "**romanoff_related and related_problems:**\n\nConnections to other problems:\n- Romanoff (1934): Positive proportion of integers are p + 2^k\n- Erdos #10: Infinite sets A with A - A missing p - 2^k\n- Erdos #11: Similar sums with primes\n- Erdos #16: Related additive questions\n- Guy's UPINT Problem A19",
    "significance": "supporting",
    "relatedConcepts": ["Romanoff's theorem", "Additive number theory"]
  },
  {
    "id": "ann-e9-summary",
    "proofId": "erdos-9",
    "range": { "startLine": 294, "endLine": 319 },
    "type": "concept",
    "title": "Summary",
    "content": "**Problem Status: OPEN**\n\nErdos Problem #9 asks whether odd integers not of the form p + 2^k + 2^l have positive upper density.\n\n**Known:**\n1. Schinzel: A is infinite\n2. Crocker (1971): |A cap {1,...,N}| >> log log N\n3. Pan (2011): |A cap {1,...,N}| >> N^{1-epsilon}\n\n**Key insight:** Covering systems are useless because S hits every arithmetic progression.\n\n**Gap:** The difference between N^{1-epsilon} (known) and N (needed for positive density) remains the central difficulty.",
    "significance": "critical",
    "relatedConcepts": ["OEIS A006286", "Guy's UPINT Problem A19"]
  }
]
