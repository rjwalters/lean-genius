{
  "id": "erdos-382",
  "title": "Erdős Problem #382: Prime Powers in Factorial Products",
  "slug": "erdos-382",
  "description": "For intervals [u,v] where the largest prime dividing u(u+1)...v has exponent ≥ 2: Is v−u = v^o(1)? Can v−u be arbitrarily large? Ramachandra: v−u ≤ v^{1/2+o(1)}. OPEN.",
  "meta": {
    "author": "Erdős-Graham",
    "sourceUrl": "https://erdosproblems.com/382",
    "status": "formalized",
    "proofRepoPath": "Proofs/Erdos382Problem.lean",
    "tags": ["number-theory", "prime-numbers", "factorization", "prime-gaps", "open-problem"],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 382,
    "erdosUrl": "https://erdosproblems.com/382",
    "erdosProblemStatus": "open"
  },
  "overview": {
    "historicalContext": "This problem from Erdős and Graham [ErGr80] studies the structure of products of consecutive integers from a prime factorization perspective. When we multiply consecutive integers u, u+1, ..., v, the largest prime in this product is typically some prime p in the interval. For p to appear with exponent ≥ 2, we need p² to also divide the product, which constrains how large p can be relative to v. Ramachandra established that v − u ≤ v^{1/2 + o(1)}.",
    "problemStatement": "Let u ≤ v be positive integers such that the largest prime dividing the product u(u+1)...v appears with exponent at least 2. Questions: (1) Is v − u = v^o(1)? (2) Can v − u be arbitrarily large? Both questions remain OPEN.",
    "proofStrategy": "The formalization defines prodInterval, largestPrimeDivisor, exponent (p-adic valuation), and satisfiesCondition. Questions 1 and 2 are stated as formal propositions. Ramachandra's bound and Cramér's implication are axioms. The equivalent characterization via prime-free intervals is given. A summary theorem combines the known results.",
    "keyInsights": [
      "The condition means no prime p with √v < p ≤ v lies in [u, v]",
      "If p > √v, then p² > v, so p appears exactly once in the product",
      "Ramachandra: v − u cannot exceed roughly √v",
      "Cramér's conjecture on prime gaps would imply Question 1 has answer YES",
      "Near squares of large primes, intervals may satisfy the condition with large v − u"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Part I: Basic Definitions",
      "startLine": 41,
      "endLine": 61,
      "summary": "prodInterval via Finset.Icc, prodInterval_singleton proved by simp, prodInterval_factorial axiom."
    },
    {
      "id": "largest-prime",
      "title": "Part II: Largest Prime Divisor",
      "startLine": 63,
      "endLine": 86,
      "summary": "largestPrimeDivisor via primeFactorsList maximum. Axioms: divides n, is prime, is maximal."
    },
    {
      "id": "exponent",
      "title": "Part III: Exponent of Prime in Product",
      "startLine": 88,
      "endLine": 103,
      "summary": "exponent (p-adic valuation wrapper), exponentInProduct, sum decomposition axiom."
    },
    {
      "id": "condition",
      "title": "Part IV: The Condition",
      "startLine": 105,
      "endLine": 130,
      "summary": "satisfiesCondition: largest prime has exponent ≥ 2. Structural axioms on when exponent equals 1."
    },
    {
      "id": "questions",
      "title": "Part V: The Questions",
      "startLine": 132,
      "endLine": 159,
      "summary": "question1 (v−u = v^o(1)?) and question2 (v−u arbitrarily large?) as formal propositions."
    },
    {
      "id": "ramachandra",
      "title": "Part VI: Known Upper Bound",
      "startLine": 161,
      "endLine": 173,
      "summary": "Ramachandra's bound axiom: v−u ≤ v^{1/2+ε} for large v."
    },
    {
      "id": "cramer",
      "title": "Part VII: Connection to Cramér's Conjecture",
      "startLine": 175,
      "endLine": 191,
      "summary": "cramersConjecture definition, cramer_implies_q1 axiom."
    },
    {
      "id": "examples",
      "title": "Part VIII: Examples",
      "startLine": 193,
      "endLine": 207,
      "summary": "Worked example: prodInterval 2 4 = 24 via native_decide. Structural constraint axiom."
    },
    {
      "id": "prime-free",
      "title": "Part IX: Prime-Free Interval Perspective",
      "startLine": 209,
      "endLine": 221,
      "summary": "noPrimeLargerThanSqrt predicate and equivalence axiom condition_iff_no_large_prime."
    },
    {
      "id": "summary",
      "title": "Part X: Summary",
      "startLine": 223,
      "endLine": 258,
      "summary": "erdos_382_summary theorem combining Ramachandra bound, Cramér implication, and problem statement. Status: OPEN."
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #382 asks about intervals [u, v] where the largest prime in the product u(u+1)...v has exponent ≥ 2. Both questions — whether v−u is subpolynomial and whether v−u can be arbitrarily large — remain open. Ramachandra established v−u ≤ v^{1/2+o(1)}, and Cramér's conjecture would resolve Question 1.",
    "implications": "Resolution would illuminate the relationship between prime distribution in short intervals and the factorization structure of products of consecutive integers.",
    "openQuestions": [
      "Is v − u = v^o(1) for all intervals satisfying the condition?",
      "Can v − u be made arbitrarily large?",
      "Can the Ramachandra bound v−u ≤ v^{1/2+o(1)} be improved?",
      "Are there explicit constructions with large v − u satisfying the condition?"
    ]
  }
}
