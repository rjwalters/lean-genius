[
  {
    "id": "ann-e1085-header",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 1,
      "endLine": 29
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #1085**: The Unit Distance Problem\n\n**Question**: Let f_d(n) be the max unit distance pairs among n points in ℝ^d. Estimate f_d(n).\n\n**Status by Dimension**:\n- d = 2: n^{1+o(1)} ≤ f_2(n) ≤ O(n^{4/3}) [Gap OPEN]\n- d = 3: n^{4/3} log log n ≪ f_3(n) ≪ n^{3/2} [Partially OPEN]\n- d = 4: EXACT formula (Brass 1997)\n- d ≥ 6 even: EXACT formulas (Swanepoel 2009)\n- d ≥ 5 odd: (p-1)/(2p)·n² ± O(n^{4/3})\n\nOne of the most famous problems in combinatorial geometry.",
    "mathContext": "The d=2 case has been open since Erdős's 1946 paper. The gap between n^{1+o(1)} and n^{4/3} is one of the longest-standing open problems in discrete geometry.",
    "significance": "critical",
    "relatedConcepts": [
      "unit-distance",
      "combinatorial-geometry",
      "erdos-1946"
    ]
  },
  {
    "id": "ann-e1085-definitions",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 55,
      "endLine": 82
    },
    "type": "definition",
    "title": "Core Definitions",
    "content": "**PointConfig d n**: n points in ℝ^d\n  Fin n → EuclideanSpace ℝ (Fin d)\n\n**distinctPairs n**: Set of ordered pairs (i,j) with i < j\n\n**unitDistanceCount P**: Count pairs at distance exactly 1\n  |{(i,j) : dist(P(i), P(j)) = 1}|\n\n**axiom maxUnitDistances d n**: The maximum f_d(n)\n\n**axiom maxUnitDistances_spec**: Achieved by some configuration\n**axiom maxUnitDistances_bound**: Upper bound for all configs",
    "mathContext": "Using EuclideanSpace from Mathlib provides proper distance computation. The function f_d(n) is the central object of study.",
    "significance": "key",
    "relatedConcepts": [
      "euclidean-space",
      "distance",
      "maximum"
    ]
  },
  {
    "id": "ann-e1085-trivial",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 90,
      "endLine": 97
    },
    "type": "axiom",
    "title": "Trivial Bounds",
    "content": "**axiom trivial_upper_bound**:\n  f_d(n) ≤ n(n-1)/2 = C(n,2)\n\nAt most every pair can be unit distance.\n\n**axiom linear_lower_bound**:\n  f_d(n) ≥ n - 1 for d ≥ 1, n ≥ 2\n\nPlace n points at consecutive integers on a line.",
    "mathContext": "The trivial bounds show f_d(n) = Θ(n) at minimum and O(n²) at maximum. The interesting question is the exact exponent.",
    "significance": "supporting",
    "relatedConcepts": [
      "trivial-bound",
      "linear",
      "quadratic"
    ]
  },
  {
    "id": "ann-e1085-d2",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 106,
      "endLine": 130
    },
    "type": "axiom",
    "title": "Dimension 2 (Classical - OPEN)",
    "content": "**axiom erdos_1946_lower_d2**:\n  f_2(n) > n^{1 + c/log log n} for some c > 0\n\nErdős's 1946 grid-like construction.\n\n**axiom sst_1984_upper_d2**:\n  f_2(n) = O(n^{4/3})\n\nSpencer-Szemerédi-Trotter used the crossing number inequality.\n\n**def erdos_1085_2d_conjecture**: f_2(n) = O(n^{1+o(1)})\n\n**axiom erdos_1085_2d_open**: The 2D conjecture remains OPEN!\n\nThe gap between n^{1+o(1)} and n^{4/3} has persisted since 1946.",
    "mathContext": "This is perhaps the most famous open problem in discrete geometry. The SST upper bound improved Erdős's original O(n^{3/2}).",
    "significance": "critical",
    "relatedConcepts": [
      "erdos-1946",
      "sst-1984",
      "crossing-number"
    ]
  },
  {
    "id": "ann-e1085-d3",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 138,
      "endLine": 160
    },
    "type": "axiom",
    "title": "Dimension 3 (Partially OPEN)",
    "content": "**axiom erdos_1960_lower_d3**:\n  f_3(n) = Ω(n^{4/3} log log n)\n\nGeneralizes 2D using spherical caps.\n\n**axiom cegsw_1990_upper_d3**:\n  f_3(n) = O(n^{3/2} β(n))\n\nwhere β is inverse Ackermann (very slow growing).\n\n**def erdos_1085_3d_open_question**: Is f_3(n) = O(n^{4/3} log log n)?\n\n**axiom erdos_1085_3d_open**: This remains OPEN.",
    "mathContext": "The 3D case has a similar gap to 2D but with different exponents. The CEGSW bound uses sophisticated computational geometry.",
    "significance": "key",
    "relatedConcepts": [
      "erdos-1960",
      "cegsw-1990",
      "inverse-ackermann"
    ]
  },
  {
    "id": "ann-e1085-d4plus",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 169,
      "endLine": 187
    },
    "type": "axiom",
    "title": "Dimension ≥ 4 (Essentially Solved)",
    "content": "**def lenzCoefficient d**: (p-1)/(2p) where p = ⌊d/2⌋\n\n**axiom lenz_lower_d4**: Lenz construction gives\n  f_d(n) ≥ (p-1)/(2p)·n² - O(1)\n\nPlace n/2 points on each of two orthogonal unit circles.\n\n**axiom erdos_stone_upper_d4**: Erdős-Stone gives\n  f_d(n) ≤ ((p-1)/(2p) + o(1))·n²\n\nFor d ≥ 4: f_d(n) ≈ (p-1)/(2p)·n²",
    "mathContext": "The Lenz construction is elegant: orthogonal circles in ℝ^d give near-optimal unit distance counts.",
    "significance": "key",
    "relatedConcepts": [
      "lenz-construction",
      "erdos-stone",
      "orthogonal-circles"
    ]
  },
  {
    "id": "ann-e1085-exact",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 195,
      "endLine": 213
    },
    "type": "axiom",
    "title": "Exact Results (d ≥ 4)",
    "content": "**axiom brass_1997_d4**: EXACT for d = 4\n  f_4(n) = ⌊n²/4⌋ + n - ⌊n/2⌋ - 1 for n ≥ 3\n\n**axiom swanepoel_2009_even**: EXACT for even d ≥ 6\n  f_d(n) = (p-1)/(2p)·n² + O(n)\n\n**axiom erdos_pach_1990_odd**: For odd d ≥ 5\n  f_d(n) = (p-1)/(2p)·n² ± O(n^{4/3})\n\nThe high-dimensional cases are completely resolved!",
    "mathContext": "Brass and Swanepoel gave exact closed-form expressions. The odd-dimensional case has a larger error term but is still tight.",
    "significance": "critical",
    "relatedConcepts": [
      "brass-1997",
      "swanepoel-2009",
      "erdos-pach-1990"
    ]
  },
  {
    "id": "ann-e1085-examples",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 219,
      "endLine": 230
    },
    "type": "axiom",
    "title": "Small Examples",
    "content": "**axiom example_d2_n3**: f_2(3) = 3\n  Equilateral triangle.\n\n**axiom example_d2_n4**: f_2(4) = 5\n  NOT the square (which gives 4)!\n\n**axiom example_d2_n5**: f_2(5) = 7\n\n**axiom example_d3_n4**: f_3(4) = 6\n  Regular tetrahedron with edge 1.",
    "mathContext": "The optimal 4-point configuration in 2D is surprising: it beats the square. Small cases often have non-obvious optima.",
    "significance": "supporting",
    "relatedConcepts": [
      "small-cases",
      "equilateral",
      "tetrahedron"
    ]
  },
  {
    "id": "ann-e1085-connections",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 241,
      "endLine": 249
    },
    "type": "axiom",
    "title": "Connections",
    "content": "**axiom crossing_number_connection**:\n  f_2(n)² ≤ O(n³)\n\nThe unit distance graph has crossing number related to f_2(n).\n\n**axiom incidence_bound**:\n  f_2(n) ≤ n²\n\nRelates to point-circle incidences where all circles have radius 1.",
    "mathContext": "The SST upper bound comes from crossing number arguments. Incidence geometry provides another perspective on the problem.",
    "significance": "supporting",
    "relatedConcepts": [
      "crossing-number",
      "incidence-geometry",
      "unit-circles"
    ]
  },
  {
    "id": "ann-e1085-verified",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 267,
      "endLine": 274
    },
    "type": "axiom",
    "title": "High Dimensions Solved",
    "content": "**axiom high_dim_solved**:\nFor d ≥ 4, ∃ C such that ∀ n ≥ 1:\n  (p-1)/(2p)·n² - C ≤ f_d(n) ≤ (p-1)/(2p)·n² + Cn²/10\n\n**Follows from**:\n1. Lower: Lenz construction (lenz_lower_d4)\n2. Upper: Erdős-Stone theorem (erdos_stone_upper_d4)\n\nThe high-dimensional case (d ≥ 4) is essentially solved, with f_d(n) ≈ (p-1)/(2p)·n² where p = ⌊d/2⌋.",
    "mathContext": "This axiom captures the resolution of the high-dimensional case by combining Lenz's construction with the Erdős-Stone theorem.",
    "significance": "critical",
    "relatedConcepts": [
      "high-dimensional",
      "lenz-construction",
      "erdos-stone"
    ]
  },
  {
    "id": "ann-e1085-summary",
    "proofId": "erdos-1085",
    "range": {
      "startLine": 251,
      "endLine": 265
    },
    "type": "concept",
    "title": "Summary and Status",
    "content": "**Erdős Problem #1085: PARTIALLY SOLVED**\n\n**OPEN (d = 2)**: Gap between n^{1+o(1)} and n^{4/3} since 1946!\n**OPEN (d = 3)**: Gap between n^{4/3} log log n and n^{3/2}\n**SOLVED (d = 4)**: Exact formula (Brass 1997)\n**SOLVED (d ≥ 6 even)**: Exact formulas (Swanepoel 2009)\n**SOLVED (d ≥ 5 odd)**: Tight to n^{4/3} (Erdős-Pach 1990)\n\n**Verified**: high_dim_solved theorem ✓\n\n**Main Open Question**: Is f_2(n) = n^{1+o(1)}?",
    "mathContext": "The low-dimensional cases (d=2,3) remain the frontier. The 80-year-old gap in d=2 is one of the most stubborn in combinatorics.",
    "significance": "critical",
    "relatedConcepts": [
      "problem-status",
      "partially-solved",
      "open-questions"
    ]
  }
]
