[
  {
    "id": "ann-336-header",
    "proofId": "erdos-336",
    "range": { "startLine": 1, "endLine": 26 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #336** asks for lim h(r)/r² where h(r) is the maximal exact order of a basis of order r. Current best bounds: 1/3 ≤ lim ≤ 1/2. Status: OPEN.",
    "mathContext": "A basis of order r represents all large integers as sums of ≤ r elements. Exact order k means exactly k elements needed.",
    "significance": "critical",
    "relatedConcepts": ["additive-bases", "exact-order", "representation-functions", "number-theory"]
  },
  {
    "id": "ann-336-isbasis",
    "proofId": "erdos-336",
    "range": { "startLine": 39, "endLine": 43 },
    "type": "definition",
    "title": "IsBasis",
    "content": "A set A ⊆ ℕ is a basis of order r if every sufficiently large integer n can be written as a sum of at most r elements from A. The definition uses Finset.sum to capture the representation.",
    "significance": "critical"
  },
  {
    "id": "ann-336-exactorder",
    "proofId": "erdos-336",
    "range": { "startLine": 45, "endLine": 49 },
    "type": "definition",
    "title": "HasExactOrder",
    "content": "A set A has exact order k if every sufficiently large integer can be written as a sum of exactly k elements from A (with repetition allowed). Uses Multiset to allow repeated elements.",
    "significance": "critical"
  },
  {
    "id": "ann-336-combined",
    "proofId": "erdos-336",
    "range": { "startLine": 51, "endLine": 53 },
    "type": "definition",
    "title": "HasOrderAndExactOrder",
    "content": "Combines both properties: A is a basis of order r AND has exact order k. Note that k can differ from r - this is the key phenomenon studied.",
    "significance": "key"
  },
  {
    "id": "ann-336-h",
    "proofId": "erdos-336",
    "range": { "startLine": 55, "endLine": 57 },
    "type": "definition",
    "title": "h(r)",
    "content": "h(r) = max{k : ∃ A with order r and exact order k}. This is the maximal exact order achievable by any basis of order r. Defined using sSup (supremum).",
    "significance": "critical"
  },
  {
    "id": "ann-336-limitexists",
    "proofId": "erdos-336",
    "range": { "startLine": 63, "endLine": 65 },
    "type": "definition",
    "title": "LimitExists",
    "content": "Formalizes the existence of lim_{r→∞} h(r)/r² using the ε-δ definition: for all ε > 0, there exists R such that for all r ≥ R, |h(r)/r² - L| < ε.",
    "significance": "key"
  },
  {
    "id": "ann-336-limitvalue",
    "proofId": "erdos-336",
    "range": { "startLine": 67, "endLine": 69 },
    "type": "definition",
    "title": "limitValue",
    "content": "The limit value L (if it exists), extracted using Classical.choose. Returns 0 if the limit doesn't exist.",
    "significance": "supporting"
  },
  {
    "id": "ann-336-eg-lower",
    "proofId": "erdos-336",
    "range": { "startLine": 75, "endLine": 77 },
    "type": "axiom",
    "title": "Erdős-Graham Lower (1980)",
    "content": "Original lower bound: lim h(r)/r² ≥ 1/4. This was the first quantitative bound on the limit.",
    "significance": "key"
  },
  {
    "id": "ann-336-eg-upper",
    "proofId": "erdos-336",
    "range": { "startLine": 79, "endLine": 81 },
    "type": "axiom",
    "title": "Erdős-Graham Upper (1980)",
    "content": "Original upper bound: lim h(r)/r² ≤ 5/4. Together with the lower bound, this established the quadratic growth of h(r).",
    "significance": "key"
  },
  {
    "id": "ann-336-grekos",
    "proofId": "erdos-336",
    "range": { "startLine": 83, "endLine": 85 },
    "type": "axiom",
    "title": "Grekos Lower (1988)",
    "content": "Improved lower bound: lim h(r)/r² ≥ 1/3. This is currently the best known lower bound.",
    "significance": "critical"
  },
  {
    "id": "ann-336-nash",
    "proofId": "erdos-336",
    "range": { "startLine": 87, "endLine": 89 },
    "type": "axiom",
    "title": "Nash Upper (1993)",
    "content": "Improved upper bound: lim h(r)/r² ≤ 1/2. This is currently the best known upper bound.",
    "significance": "critical"
  },
  {
    "id": "ann-336-current",
    "proofId": "erdos-336",
    "range": { "startLine": 91, "endLine": 95 },
    "type": "theorem",
    "title": "current_bounds",
    "content": "Combines Grekos and Nash: 1/3 ≤ lim h(r)/r² ≤ 1/2. This is the state of the art as of 2024.",
    "significance": "critical"
  },
  {
    "id": "ann-336-h2",
    "proofId": "erdos-336",
    "range": { "startLine": 101, "endLine": 102 },
    "type": "axiom",
    "title": "h(2) = 4",
    "content": "Erdős-Graham (1980) computed h(2) = 4. A basis of order 2 can achieve exact order 4 but no higher.",
    "significance": "key"
  },
  {
    "id": "ann-336-h3",
    "proofId": "erdos-336",
    "range": { "startLine": 104, "endLine": 105 },
    "type": "axiom",
    "title": "h(3) = 7",
    "content": "Nash (1993) proved h(3) = 7. A basis of order 3 can achieve exact order 7 but no higher.",
    "significance": "key"
  },
  {
    "id": "ann-336-h4",
    "proofId": "erdos-336",
    "range": { "startLine": 107, "endLine": 109 },
    "type": "axiom",
    "title": "h(4) bounds",
    "content": "Plagne (2004) showed 10 ≤ h(4) ≤ 11. The exact value of h(4) remains unknown.",
    "significance": "key"
  },
  {
    "id": "ann-336-ratio2",
    "proofId": "erdos-336",
    "range": { "startLine": 111, "endLine": 113 },
    "type": "theorem",
    "title": "h(2)/4 = 1",
    "content": "Verification: h(2)/2² = 4/4 = 1. This ratio is well above the predicted limit of ~1/3 to ~1/2.",
    "significance": "supporting"
  },
  {
    "id": "ann-336-ratio3",
    "proofId": "erdos-336",
    "range": { "startLine": 115, "endLine": 118 },
    "type": "theorem",
    "title": "h(3)/9 = 7/9",
    "content": "Verification: h(3)/3² = 7/9 ≈ 0.778. The ratio is decreasing toward the limit.",
    "significance": "supporting"
  },
  {
    "id": "ann-336-example",
    "proofId": "erdos-336",
    "range": { "startLine": 124, "endLine": 126 },
    "type": "definition",
    "title": "erdosGrahamExample",
    "content": "A = ∪_{k≥0}(2^{2k}, 2^{2k+1}]: the integers in (1,2], (4,8], (16,32], etc. This set demonstrates that order and exact order can differ.",
    "significance": "key"
  },
  {
    "id": "ann-336-order2",
    "proofId": "erdos-336",
    "range": { "startLine": 128, "endLine": 129 },
    "type": "axiom",
    "title": "example_order_2",
    "content": "The Erdős-Graham example has order 2: every large integer is a sum of at most 2 elements from A.",
    "significance": "key"
  },
  {
    "id": "ann-336-exact3",
    "proofId": "erdos-336",
    "range": { "startLine": 131, "endLine": 132 },
    "type": "axiom",
    "title": "example_exact_order_3",
    "content": "The same example has exact order 3: every large integer requires exactly 3 elements to represent.",
    "significance": "key"
  },
  {
    "id": "ann-336-differ",
    "proofId": "erdos-336",
    "range": { "startLine": 134, "endLine": 140 },
    "type": "theorem",
    "title": "order_exact_order_differ",
    "content": "Proves that order and exact order can differ: the Erdős-Graham example has order 2 but exact order 3 (2 ≠ 3).",
    "significance": "critical"
  },
  {
    "id": "ann-336-diffs",
    "proofId": "erdos-336",
    "range": { "startLine": 148, "endLine": 149 },
    "type": "definition",
    "title": "consecutiveDiffs",
    "content": "For A = {a₁ < a₂ < a₃ < ...}, the consecutive differences are a_{k+1} - a_k. Used in the characterization theorem.",
    "significance": "supporting"
  },
  {
    "id": "ann-336-char",
    "proofId": "erdos-336",
    "range": { "startLine": 151, "endLine": 157 },
    "type": "axiom",
    "title": "erdos_graham_characterization",
    "content": "A has an exact order iff the gcd of all consecutive differences equals 1. This characterizes when exact order exists.",
    "significance": "key"
  },
  {
    "id": "ann-336-quadratic",
    "proofId": "erdos-336",
    "range": { "startLine": 163, "endLine": 168 },
    "type": "theorem",
    "title": "quadratic_growth_intuition",
    "content": "Why quadratic? Order r allows up to r summands; exact order k requires exactly k. The 'gap' between achievable k and given r scales quadratically.",
    "significance": "supporting"
  },
  {
    "id": "ann-336-plagne",
    "proofId": "erdos-336",
    "range": { "startLine": 170, "endLine": 171 },
    "type": "axiom",
    "title": "plagne_refinement_2004",
    "content": "Plagne (2004) refined the bounds with better lower-order terms. The leading coefficient remains in [1/3, 1/2].",
    "significance": "supporting"
  },
  {
    "id": "ann-336-statement",
    "proofId": "erdos-336",
    "range": { "startLine": 177, "endLine": 195 },
    "type": "theorem",
    "title": "erdos_336_statement",
    "content": "Main theorem combining: (1) h(r) is finite for r ≥ 2, (2) Grekos lower bound 1/3, (3) Nash upper bound 1/2, (4) specific values h(2) = 4, h(3) = 7.",
    "significance": "critical"
  },
  {
    "id": "ann-336-open",
    "proofId": "erdos-336",
    "range": { "startLine": 197, "endLine": 198 },
    "type": "theorem",
    "title": "erdos_336_open",
    "content": "The exact limit value is UNKNOWN. The problem remains OPEN - finding lim h(r)/r² is unsolved.",
    "significance": "critical"
  },
  {
    "id": "ann-336-summary",
    "proofId": "erdos-336",
    "range": { "startLine": 200, "endLine": 206 },
    "type": "theorem",
    "title": "erdos_336_summary",
    "content": "Summary: Question is lim h(r)/r². Bounds are 1/3 ≤ lim ≤ 1/2. Known values: h(2)=4, h(3)=7, 10≤h(4)≤11. Status: OPEN.",
    "significance": "critical"
  }
]
