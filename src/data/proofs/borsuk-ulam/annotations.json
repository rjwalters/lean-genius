[
  {
    "id": "ann-intro",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 1, "endLine": 21 },
    "type": "concept",
    "title": "The Theorem That Connects Temperature to Topology",
    "content": "The Borsuk-Ulam Theorem states: for any continuous function f: S^n -> R^n, there exist antipodal points x and -x with f(x) = f(-x).\n\nThe intuition is captivating: at any moment, there are two points on opposite sides of Earth with exactly the same temperature AND pressure. You can continuously measure any n quantities on an n-sphere, and somewhere, antipodal points match.\n\nThis 1933 result by Karol Borsuk (answering Stanislaw Ulam's question) became a cornerstone of algebraic topology with surprising applications from graph theory to fair division.\n\nThis formalization presents the conceptual structure. The full proof requires covering space theory, which we axiomatize to focus on the logical flow.",
    "significance": "critical",
    "relatedConcepts": ["antipodal points", "continuous function", "algebraic topology"]
  },
  {
    "id": "ann-sphere",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 51, "endLine": 71 },
    "type": "definition",
    "title": "The n-Sphere and Antipodal Points",
    "content": "The **n-sphere** S^n is the set of unit vectors in R^(n+1):\n$$S^n = \\{x \\in \\mathbb{R}^{n+1} : |x| = 1\\}$$\n\nExamples:\n- S^0 = two points {-1, 1} (in R^1)\n- S^1 = circle (in R^2)\n- S^2 = ordinary sphere surface (in R^3)\n\nThe **antipodal map** sends x to -x. Every point has exactly one antipode, and they're diametrically opposite on the sphere.\n\nKey topological facts:\n- S^n is compact (closed and bounded)\n- S^n is connected for n >= 1\n- S^n is simply connected for n >= 2 (pi_1 = 0)\n\nThe theorem asks: can you paint the sphere with n colors (continuously) so no antipodal pair has the same color? Borsuk-Ulam says NO.",
    "mathContext": "$S^n = \\{x \\in \\mathbb{R}^{n+1} : |x| = 1\\}$, antipode: $x \\mapsto -x$",
    "significance": "key",
    "relatedConcepts": ["unit sphere", "antipodal map", "topological space"]
  },
  {
    "id": "ann-antipode-map",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 63, "endLine": 71 },
    "type": "definition",
    "title": "The Antipodal Map: Flipping the Sphere",
    "content": "The **antipodal map** A: S^n -> S^n sends each point to its diametrically opposite point: A(x) = -x.\n\nKey properties:\n- **Involution**: A(A(x)) = x (applying twice returns to original)\n- **No fixed points**: A(x) != x for all x (you can't be your own opposite)\n- **Isometry**: Preserves distances on the sphere\n- **Free Z_2 action**: The two-element group {1, A} acts freely on S^n\n\nThe quotient space S^n / Z_2 (identifying x with -x) is **real projective space** RP^n. This quotient is central to the proof:\n- RP^n has fundamental group Z_2\n- The quotient map p: S^n -> RP^n is a 2-sheeted covering\n- This covering space structure is what makes the theorem work",
    "significance": "key",
    "relatedConcepts": ["involution", "group action", "projective space"]
  },
  {
    "id": "ann-gadget",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 102, "endLine": 135 },
    "type": "concept",
    "title": "The Gadget Function: The Heart of the Proof",
    "content": "The **gadget function** is the proof's clever construction. Given f: S^n -> R^n, define:\n$$g(x) = f(x) - f(-x)$$\n\n**Crucial observation**: g is an **odd function**:\n$$g(-x) = f(-x) - f(x) = -(f(x) - f(-x)) = -g(x)$$\n\n**Strategy**:\n1. If f(x) = f(-x) for some x, we're done (found our antipodal pair)\n2. Otherwise, g(x) != 0 for all x\n3. We can normalize: h(x) = g(x)/|g(x)| maps S^n -> S^(n-1)\n4. h is still odd: h(-x) = g(-x)/|g(-x)| = -g(x)/|g(x)| = -h(x)\n5. But no odd map S^n -> S^(n-1) can exist!\n\nThe gadget function converts 'finding an antipodal pair' into 'showing no odd map exists'. This shift of perspective is the proof's key insight.",
    "mathContext": "$g(x) = f(x) - f(-x)$, $h(x) = g(x)/|g(x)|$ when $g(x) \\neq 0$",
    "significance": "critical",
    "prerequisites": ["ann-sphere"],
    "relatedConcepts": ["odd function", "normalization", "proof strategy"]
  },
  {
    "id": "ann-covering-space",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 137, "endLine": 173 },
    "type": "concept",
    "title": "Covering Spaces: The Topological Machinery",
    "content": "**Covering space theory** is the algebraic topology machinery that powers the proof.\n\n**Key ideas**:\n1. **Real Projective Space**: RP^n = S^n / Z_2 (identify antipodal points)\n2. **Covering Map**: p: S^n -> RP^n is a 2-sheeted covering\n3. **Fundamental Group**: pi_1(RP^n) = Z_2 for n >= 1\n\n**Why this matters**:\n- An odd map h: S^n -> S^(n-1) respects the antipodal action\n- So h induces a map h_bar: RP^n -> RP^(n-1)\n- On fundamental groups: h_bar*: Z_2 -> Z_2\n- The covering structure forces h_bar* to be injective\n- But S^n is simply connected (n >= 2), so h_bar* must be trivial\n- Injective AND trivial? Only if Z_2 = 0. Contradiction!\n\nFor n=1, a direct argument using the intermediate value theorem works.",
    "significance": "critical",
    "prerequisites": ["ann-sphere", "ann-gadget"],
    "relatedConcepts": ["covering map", "fundamental group", "projective space"]
  },
  {
    "id": "ann-fundamental-group",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 165, "endLine": 173 },
    "type": "definition",
    "title": "Fundamental Groups: Detecting Holes",
    "content": "The **fundamental group** pi_1(X) captures the 'holes' in a space by looking at loops.\n\n**Key values**:\n- pi_1(S^n) = 0 for n >= 2 (simply connected, no holes)\n- pi_1(S^1) = Z (loops can wind around the circle)\n- pi_1(RP^n) = Z_2 for n >= 1 (two-fold symmetry)\n\n**How it's used**:\nA continuous map f: X -> Y induces a homomorphism f*: pi_1(X) -> pi_1(Y). This is **functorial**: the map respects composition.\n\nIf S^n is simply connected but RP^n has pi_1 = Z_2, then the covering map p: S^n -> RP^n can't have a 'right inverse' that respects the group structure. This obstruction is what prevents odd maps.",
    "mathContext": "$\\pi_1(S^n) = 0$ for $n \\geq 2$, $\\pi_1(\\mathbb{R}P^n) = \\mathbb{Z}_2$",
    "significance": "key",
    "relatedConcepts": ["homotopy", "loops", "simply connected"]
  },
  {
    "id": "ann-no-odd-map",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 175, "endLine": 219 },
    "type": "theorem",
    "title": "The Impossibility of Antipode-Preserving Maps",
    "content": "**Theorem**: For n >= 1, there is no continuous antipode-preserving map h: S^n -> S^(n-1).\n\nAn antipode-preserving (odd) map satisfies h(-x) = -h(x).\n\n**Proof Sketch**:\n1. Such a map h would respect the Z_2 action on both spheres\n2. So h descends to a map h_bar: RP^n -> RP^(n-1)\n3. On fundamental groups: h_bar*: Z_2 -> Z_2\n4. The covering structure forces h_bar* to be injective\n5. Lift to the universal cover: we get a map S^n -> S^(n-1)\n6. But S^n is simply connected (n >= 2), so this lift is null-homotopic\n7. This forces h_bar* = 0, contradicting injectivity\n\n**The n=1 case** uses the intermediate value theorem directly:\n- An odd function g: S^1 -> R must have g(x) = 0 somewhere\n- So we can't normalize to get S^1 -> S^0 = {-1, 1}\n\nThis impossibility is what makes Borsuk-Ulam work!",
    "mathContext": "$\\nexists h: S^n \\to S^{n-1}$ continuous with $h(-x) = -h(x)$",
    "significance": "critical",
    "prerequisites": ["ann-covering-space", "ann-fundamental-group"],
    "relatedConcepts": ["odd map", "induced homomorphism", "covering space obstruction"]
  },
  {
    "id": "ann-main-theorem",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 237, "endLine": 255 },
    "type": "theorem",
    "title": "The Borsuk-Ulam Theorem",
    "content": "**Theorem**: For any continuous f: S^n -> R^n, there exists x in S^n with f(x) = f(-x).\n\n**Proof**:\n1. Suppose f(x) != f(-x) for all x (aiming for contradiction)\n2. Define the gadget g(x) = f(x) - f(-x). Then g(x) != 0 for all x.\n3. g is odd: g(-x) = -g(x)\n4. Normalize: h(x) = g(x)/|g(x)| gives a continuous map S^n -> S^(n-1)\n5. h is odd: h(-x) = -h(x)\n6. But no such odd map exists (the key lemma)\n7. Contradiction! So f must have f(x) = f(-x) for some x. QED\n\n**The beauty of this proof**:\n- Transforms a concrete question (antipodal pairs) into topology (non-existence of odd maps)\n- Uses covering spaces to detect obstructions\n- Is completely non-constructive: we know antipodal pairs exist but not where",
    "mathContext": "$\\forall f: S^n \\to \\mathbb{R}^n$ continuous, $\\exists x: f(x) = f(-x)$",
    "significance": "critical",
    "prerequisites": ["ann-gadget", "ann-no-odd-map"],
    "relatedConcepts": ["existence theorem", "proof by contradiction", "topological obstruction"]
  },
  {
    "id": "ann-weather",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 277, "endLine": 285 },
    "type": "insight",
    "title": "The Weather Theorem: Temperature Meets Topology",
    "content": "The n=2 case has a beautiful interpretation:\n\n**Claim**: At any moment, there exist two antipodal points on Earth with exactly the same temperature AND the same atmospheric pressure.\n\n**Proof**: Let f: S^2 -> R^2 where f(x) = (temperature at x, pressure at x). By Borsuk-Ulam, some point x has f(x) = f(-x), meaning the antipodal point -x has identical readings.\n\n**Why 'and' is crucial**:\n- Temperature alone: obvious (equator meets both readings somewhere)\n- Pressure alone: similar reasoning\n- Both simultaneously: not obvious at all! Requires Borsuk-Ulam\n\nThis makes the theorem tangible: abstract topology answers a concrete meteorological question. You can't continuously distribute temperature and pressure to avoid matching antipodal points.",
    "significance": "key",
    "relatedConcepts": ["meteorology", "real-world application", "2D sphere"]
  },
  {
    "id": "ann-dim-1",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 267, "endLine": 275 },
    "type": "insight",
    "title": "Dimension 1: The Intermediate Value Theorem",
    "content": "For n=1, Borsuk-Ulam says: every continuous f: S^1 -> R has f(x) = f(-x) for some x.\n\nThis can be proved directly without covering spaces!\n\n**Proof**: Parameterize the circle by angle theta in [0, 2pi). Define:\n$$g(\\theta) = f(\\theta) - f(\\theta + \\pi)$$\n\nNote: g(0) = f(0) - f(pi) and g(pi) = f(pi) - f(2pi) = f(pi) - f(0) = -g(0).\n\nSo g(0) and g(pi) have opposite signs (or one is zero). By the Intermediate Value Theorem, g(theta_0) = 0 for some theta_0.\n\nThis means f(theta_0) = f(theta_0 + pi), exactly the antipodal pair!\n\nThe 1D case is elementary calculus; the theorem's power emerges in higher dimensions where IVT doesn't apply.",
    "significance": "key",
    "relatedConcepts": ["intermediate value theorem", "1D topology", "elementary proof"]
  },
  {
    "id": "ann-ham-sandwich",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 287, "endLine": 311 },
    "type": "concept",
    "title": "The Ham Sandwich Theorem: Fairness in Geometry",
    "content": "**Ham Sandwich Theorem**: Given n measurable sets in R^n, there exists a hyperplane that simultaneously bisects all of them.\n\nName: In R^3, you can slice a ham sandwich (ham, cheese, bread) with one cut so each ingredient is exactly halved.\n\n**Proof using Borsuk-Ulam**:\n1. Each direction v in S^(n-1) defines a family of parallel hyperplanes\n2. For each set A_i, there's a unique hyperplane perpendicular to v that bisects A_i. Call its position f_i(v).\n3. Define F: S^(n-1) -> R^(n-1) by differences: F(v) = (f_1(v) - f_n(v), ..., f_(n-1)(v) - f_n(v))\n4. F is odd: F(-v) = -F(v) (flipping direction flips the hyperplane orientation)\n5. By Borsuk-Ulam, F(v_0) = F(-v_0) = -F(v_0) for some v_0\n6. So F(v_0) = 0, meaning all f_i(v_0) are equal\n7. That common hyperplane bisects all n sets!\n\nThis elegant application shows topology answering a geometry question.",
    "significance": "critical",
    "prerequisites": ["ann-main-theorem"],
    "relatedConcepts": ["fair division", "hyperplane", "measure theory"]
  },
  {
    "id": "ann-necklace",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 313, "endLine": 326 },
    "type": "concept",
    "title": "Necklace Splitting: Fair Division for Thieves",
    "content": "**Problem**: Two thieves steal a necklace with beads of k colors. Each color appears an even number of times. How can they divide it fairly?\n\n**Theorem**: The necklace can always be cut in at most k places so each thief gets exactly half of each color.\n\n**Connection to Borsuk-Ulam**:\n- Model the necklace as an interval [0, 1] with colored segments\n- A 'cut' is a point t in [0, 1]\n- The space of k cuts is [0,1]^k, topologically related to a sphere\n- The 'fairness deficit' for each color defines a function\n- Borsuk-Ulam (via the Ham Sandwich approach) guarantees a fair division\n\n**Generalization**: n thieves can share a necklace using at most (n-1)k cuts. This follows from higher-dimensional versions.\n\nTopology ensures fairness is always possible!",
    "significance": "key",
    "prerequisites": ["ann-ham-sandwich"],
    "relatedConcepts": ["fair division", "combinatorics", "discrete geometry"]
  },
  {
    "id": "ann-kneser",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 328, "endLine": 350 },
    "type": "concept",
    "title": "Kneser's Conjecture: Graph Coloring Meets Topology",
    "content": "**Kneser Graph K(n,k)**: Vertices are k-subsets of {1,...,n}. Two vertices are adjacent iff the subsets are disjoint.\n\n**Kneser's Conjecture (1955)**: chi(K(n,k)) = n - 2k + 2 (chromatic number)\n\n**Lovasz's Proof (1978)**: Uses Borsuk-Ulam!\n\n**Key idea**:\n1. Associate to any graph G a 'neighborhood complex' N(G)\n2. If N(G) is 'topologically connected enough', G needs many colors\n3. Precisely: if N(G) is (k-2)-connected, then chi(G) >= k\n4. For Kneser graphs, N(K(n,k)) relates to spheres\n5. Borsuk-Ulam implies the connectivity bound\n6. This gives chi(K(n,k)) >= n - 2k + 2\n7. An explicit coloring achieves equality\n\nThis breakthrough launched **topological combinatorics** - using topology to prove graph theory results. Lovasz showed how abstract topology answers concrete counting questions.",
    "significance": "critical",
    "prerequisites": ["ann-main-theorem"],
    "relatedConcepts": ["chromatic number", "graph theory", "topological combinatorics"]
  },
  {
    "id": "ann-brouwer-connection",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 352, "endLine": 380 },
    "type": "concept",
    "title": "Connection to Brouwer's Fixed Point Theorem",
    "content": "Borsuk-Ulam and Brouwer's Fixed Point Theorem are intimately related:\n\n**Claim**: Borsuk-Ulam implies Brouwer.\n\n**Proof sketch**: Suppose f: B^n -> B^n has no fixed point.\n1. For each x, draw a ray from f(x) through x to the boundary\n2. This defines r: B^n -> S^(n-1) (retraction)\n3. On the boundary, r is the identity\n4. The map g: S^(n-1) -> S^(n-2) defined by g(x) = (r(x) - r(-x))/|...| would be odd\n5. But no such odd map exists (Borsuk-Ulam)\n6. Contradiction, so f has a fixed point\n\n**Related results**:\n- **Sperner's Lemma**: Combinatorial cousin, implies both theorems\n- **Tucker's Lemma**: Discrete Borsuk-Ulam, uses antipodal labelings\n- **Lusternik-Schnirelmann**: If S^n is covered by n+1 closed sets, one contains antipodal points\n\nThese theorems form a web of interconnected topological truths.",
    "significance": "key",
    "prerequisites": ["ann-main-theorem"],
    "relatedConcepts": ["fixed point theorem", "Sperner's lemma", "Tucker's lemma"]
  },
  {
    "id": "ann-significance",
    "proofId": "borsuk-ulam",
    "range": { "startLine": 388, "endLine": 415 },
    "type": "insight",
    "title": "Why Borsuk-Ulam Matters",
    "content": "The Borsuk-Ulam Theorem stands as a jewel of 20th-century mathematics:\n\n**Intuitive Appeal**: 'Antipodal weather' makes topology tangible and accessible to non-experts.\n\n**Surprising Applications**:\n- Fair division (ham sandwich, necklace splitting)\n- Graph coloring (Kneser's conjecture)\n- Computational complexity (PPAD-hardness)\n- Economics (market equilibrium)\n\n**Proof Techniques**: Introduces covering spaces, fundamental groups, and degree theory - core algebraic topology tools.\n\n**Historical Impact**: Lovasz's proof of Kneser's conjecture (1978) created topological combinatorics.\n\n**Philosophical Depth**: Like Brouwer, it's non-constructive. We know antipodal pairs exist but can't generally find them. This reflects deep truths about existence vs. construction.\n\n**Unity of Mathematics**: A single theorem connects Polish topology (1933), combinatorics (1978), and computational complexity (2000s). Mathematics is wonderfully interconnected.",
    "significance": "key",
    "relatedConcepts": ["mathematical significance", "applications", "history of mathematics"]
  }
]
