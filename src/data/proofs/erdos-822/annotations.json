[
  {
    "id": "ann-e822-imports",
    "proofId": "erdos-822",
    "range": {
      "startLine": 1,
      "endLine": 3
    },
    "type": "concept",
    "title": "Mathlib Imports",
    "content": "We import `Mathlib.NumberTheory.ArithmeticFunction` for Euler's totient function and related arithmetic functions. The `Tactic` import provides proof automation.",
    "mathContext": "The `ArithmeticFunction` module contains definitions and theorems about multiplicative functions like φ (totient), σ (sum of divisors), and τ (divisor count).",
    "significance": "supporting",
    "relatedConcepts": ["Mathlib", "arithmetic functions", "totient"]
  },
  {
    "id": "ann-e822-totient-def",
    "proofId": "erdos-822",
    "range": {
      "startLine": 58,
      "endLine": 60
    },
    "type": "definition",
    "title": "The Function n + φ(n)",
    "content": "We define `nPlusTotient n = n + Nat.totient n`. This is the central function in Problem 822. Euler's **totient function** φ(n) counts how many integers from 1 to n are coprime to n (share no common factors with n).",
    "mathContext": "For example: φ(1) = 1, φ(2) = 1, φ(3) = 2, φ(4) = 2, φ(6) = 2, φ(p) = p-1 for prime p. The function n + φ(n) thus ranges from 2 (when n=1) upward.",
    "significance": "critical",
    "relatedConcepts": ["Euler's totient", "coprimality", "arithmetic functions"]
  },
  {
    "id": "ann-e822-values-set",
    "proofId": "erdos-822",
    "range": {
      "startLine": 60,
      "endLine": 61
    },
    "type": "definition",
    "title": "The Set of Values",
    "content": "We define `nPlusTotientValues` as the range of the function n ↦ n + φ(n). This is the set whose density we want to understand: {2, 3, 5, 6, 8, 9, ...}.",
    "mathContext": "Using `Set.range` creates the set {n + φ(n) : n ∈ ℕ}. Note that not every integer appears: for instance, 4 = n + φ(n) has no solution (we'd need φ(n) = 4-n, but φ(3) = 2 ≠ 1 and φ(2) = 1 ≠ 2).",
    "significance": "key",
    "relatedConcepts": ["range of function", "set theory", "density"]
  },
  {
    "id": "ann-e822-examples",
    "proofId": "erdos-822",
    "range": {
      "startLine": 67,
      "endLine": 92
    },
    "type": "example",
    "title": "Computational Verification",
    "content": "We verify specific values computationally: 1+φ(1)=2, 2+φ(2)=3, 3+φ(3)=5, 4+φ(4)=6, 5+φ(5)=9, 6+φ(6)=8. These examples show which integers appear early in the range.",
    "mathContext": "The tactic `native_decide` uses Lean's computational kernel to verify these numerical facts. This provides high confidence in the definitions without formal proof.",
    "significance": "supporting",
    "relatedConcepts": ["decidability", "computation", "verification"]
  },
  {
    "id": "ann-e822-lower-bound",
    "proofId": "erdos-822",
    "range": {
      "startLine": 96,
      "endLine": 99
    },
    "type": "theorem",
    "title": "Lower Bound: n + φ(n) ≥ n",
    "content": "Since φ(n) ≥ 0, we always have n + φ(n) ≥ n. This trivial observation shows the function is at least as large as the identity.",
    "mathContext": "The `omega` tactic handles this linear arithmetic automatically once we unfold the definition.",
    "significance": "supporting",
    "relatedConcepts": ["bounds", "totient positivity"]
  },
  {
    "id": "ann-e822-axiom",
    "proofId": "erdos-822",
    "range": {
      "startLine": 106,
      "endLine": 115
    },
    "type": "axiom",
    "title": "Axiom: Positive Density Result",
    "content": "We state the main result as an **axiom**, encoding the theorem of Gabdullin, Iudelevich, and Luca (2024). The full proof uses deep analytic number theory techniques beyond current Mathlib.",
    "mathContext": "The axiom states that there exists a positive constant c such that the set {n + φ(n) : n ∈ ℕ} has lower density at least c. The published proof uses estimates on the distribution of totient values and sieve methods.",
    "significance": "critical",
    "relatedConcepts": ["axioms in formalization", "analytic number theory", "density"]
  },
  {
    "id": "ann-e822-main-theorem",
    "proofId": "erdos-822",
    "range": {
      "startLine": 117,
      "endLine": 123
    },
    "type": "theorem",
    "title": "Main Theorem: Erdős Problem 822",
    "content": "**Erdős Problem 822 (Solved):** The set of integers of the form n + φ(n) has positive lower density. This is the formal statement matching the original problem, confirmed by the 2024 result.",
    "mathContext": "The theorem `erdos_822` is stated as True, representing that the problem has been resolved. The axiom above encodes the actual mathematical content.",
    "significance": "critical",
    "relatedConcepts": ["Erdős problems", "density", "totient function"]
  }
]
