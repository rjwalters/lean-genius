{
  "id": "erdos-171",
  "title": "Erdős Problem #171: Unit Distance Chromatic Number",
  "slug": "erdos-171",
  "description": "What is the chromatic number χ(ℝ²) of the unit distance graph? The Hadwiger-Nelson problem. Nelson (1950): χ ≥ 4. Isbell (1950): χ ≤ 7. de Grey (2018): χ ≥ 5. Current knowledge: 5 ≤ χ(ℝ²) ≤ 7.",
  "meta": {
    "author": "Nelson (1950), Isbell (1950), de Grey (2018)",
    "sourceUrl": "https://erdosproblems.com/171",
    "date": "2018",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos171Problem.lean",
    "tags": [
      "erdos",
      "combinatorial-geometry",
      "chromatic-number",
      "unit-distance",
      "hadwiger-nelson"
    ],
    "badge": "axiom",
    "sorries": 2,
    "erdosNumber": 171,
    "erdosUrl": "https://erdosproblems.com/171",
    "erdosProblemStatus": "solved",
    "dateAdded": "2026-01-17",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "SimpleGraph",
        "description": "Simple undirected graph structure",
        "module": "Mathlib.Combinatorics.SimpleGraph.Basic"
      },
      {
        "theorem": "EuclideanSpace",
        "description": "d-dimensional Euclidean space ℝ^d",
        "module": "Mathlib.Analysis.InnerProductSpace.EuclideanDist"
      },
      {
        "theorem": "dist",
        "description": "Distance function in metric spaces",
        "module": "Mathlib.Topology.MetricSpace.Basic"
      },
      {
        "theorem": "Fin",
        "description": "Finite ordinals for coloring",
        "module": "Mathlib.Data.Fin.Basic"
      }
    ],
    "originalContributions": [
      "Definition of UnitDistanceGraph as SimpleGraph on ℝ²",
      "Definition of IsProperColoring for unit distance graph",
      "Definition of chromaticNumberPlane via sInf",
      "Axiom moser_spindle (7-vertex 4-chromatic graph)",
      "Axiom de_grey_graph (<2000 vertex 5-chromatic graph)",
      "Axiom isbell_upper_bound (χ ≤ 7 via hexagonal tiling)",
      "Aristotle-verified: clique_number_3 (equilateral triangle)",
      "Aristotle-verified: no_4_clique (no tetrahedron in ℝ²)"
    ]
  },
  "overview": {
    "historicalContext": "The **Hadwiger-Nelson problem** asks for the chromatic number χ(ℝ²) of the unit distance graph: the minimum number of colors needed to color the plane so no two points at distance 1 share a color.\n\n**Historical Timeline**:\n- **1950**: Edward Nelson proved χ ≥ 4 using a 7-vertex graph (later called the Moser spindle)\n- **1950**: John Isbell proved χ ≤ 7 using a hexagonal tiling\n- **1950-2018**: No progress on the bounds for 68 years!\n- **2018**: Aubrey de Grey proved χ ≥ 5, finding a unit distance graph with ~1581 vertices that requires 5 colors\n\n**The de Grey Breakthrough**: After nearly 70 years with no improvement, de Grey used computer-aided construction to find a graph embedding where 4 colors are insufficient. This was later optimized to 553 vertices by Exoo and Ismailescu.\n\n**Current State**: 5 ≤ χ(ℝ²) ≤ 7. The exact value remains unknown.",
    "problemStatement": "**Erdős Problem #171**: What is the chromatic number $\\chi(\\mathbb{R}^2)$ of the unit distance graph?\n\n**Definition**: The **unit distance graph** $G$ has:\n- Vertices: All points in $\\mathbb{R}^2$\n- Edges: Connect points at Euclidean distance exactly 1\n\n**Question**: What is $\\chi(G)$, the minimum number of colors needed for a proper coloring (adjacent vertices have different colors)?\n\n**Known Bounds**:\n- **Lower**: $\\chi \\geq 5$ (de Grey 2018)\n- **Upper**: $\\chi \\leq 7$ (Isbell 1950)\n\n**Related Results**:\n- Clique number $\\omega = 3$ (equilateral triangle)\n- Fractional chromatic number $\\chi_f = 4$",
    "proofStrategy": "The formalization captures the structure of the problem and known results:\n\n1. **Core Definitions**:\n   - `UnitDistanceGraph`: SimpleGraph on EuclideanSpace ℝ (Fin 2)\n   - `IsProperColoring`: No adjacent vertices share colors\n   - `chromaticNumberPlane`: sInf of valid coloring counts\n\n2. **Lower Bounds**:\n   - `moser_spindle`: 7-vertex graph requiring 4 colors (axiom)\n   - `lower_bound_4`: χ ≥ 4 (from Moser spindle, sorry)\n   - `de_grey_graph`: <2000 vertex graph requiring 5 colors (axiom)\n   - `de_grey`: χ ≥ 5 (from de Grey graph, sorry)\n\n3. **Upper Bound**:\n   - `isbell_upper_bound`: χ ≤ 7 via hexagonal tiling (axiom)\n\n4. **Clique Results** (Aristotle verified):\n   - `clique_number_3`: Equilateral triangle is a 3-clique\n   - `no_4_clique`: No 4-clique exists in ℝ²",
    "keyInsights": [
      "**The 68-year gap**: From 1950 to 2018, the best known bounds were 4 ≤ χ ≤ 7. De Grey's improvement to χ ≥ 5 was a major breakthrough.",
      "**Why is this hard?**: The graph is uncountable and highly symmetric. Local constructions (like Moser spindle) give limited information about the global chromatic number.",
      "**Clique vs chromatic**: The clique number ω = 3 (equilateral triangle), but χ ≥ 5. This gap shows the problem isn't about dense local structure.",
      "**Fractional chromatic number**: χ_f = 4 exactly. That χ ≥ 5 > χ_f shows integrality is essential.",
      "**De Grey's approach**: Used algebraic coordinates and computer search to find a graph with specific properties that force 5 colors.",
      "**Remaining question**: Is χ = 5, 6, or 7? Most researchers conjecture χ ∈ {5, 6}, but this is open."
    ]
  },
  "sections": [
    {
      "id": "header",
      "title": "Problem Overview",
      "startLine": 48,
      "endLine": 67,
      "summary": "Problem statement, history, and current status."
    },
    {
      "id": "unit-graph",
      "title": "Unit Distance Graph",
      "startLine": 78,
      "endLine": 83,
      "summary": "Definition of UnitDistanceGraph as SimpleGraph on ℝ²."
    },
    {
      "id": "chromatic",
      "title": "Chromatic Number Definitions",
      "startLine": 87,
      "endLine": 95,
      "summary": "IsProperColoring and chromaticNumberPlane definitions."
    },
    {
      "id": "lower-bounds",
      "title": "Lower Bounds",
      "startLine": 97,
      "endLine": 119,
      "summary": "Moser spindle (χ ≥ 4) and de Grey (χ ≥ 5)."
    },
    {
      "id": "upper-bounds",
      "title": "Upper Bounds",
      "startLine": 121,
      "endLine": 126,
      "summary": "Isbell's hexagonal tiling (χ ≤ 7)."
    },
    {
      "id": "current",
      "title": "Current State",
      "startLine": 128,
      "endLine": 134,
      "summary": "Combined bounds: 5 ≤ χ(ℝ²) ≤ 7."
    },
    {
      "id": "clique",
      "title": "Clique Number",
      "startLine": 144,
      "endLine": 158,
      "summary": "Aristotle-verified: ω = 3 (equilateral triangle, no 4-clique)."
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 160,
      "endLine": 183,
      "summary": "Problem status and references."
    }
  ],
  "conclusion": {
    "summary": "We formalize Erdős Problem #171 on the chromatic number of the unit distance graph (Hadwiger-Nelson problem). The problem was 'solved' in 2018 when de Grey improved the lower bound from 4 to 5, breaking a 68-year stalemate. The current knowledge is 5 ≤ χ(ℝ²) ≤ 7. Aristotle verified the clique number results: an equilateral triangle gives ω = 3, and no 4-clique exists in ℝ².",
    "implications": "This problem sits at the intersection of combinatorics, geometry, and graph theory. The de Grey breakthrough showed that computer-aided mathematical discovery can solve long-standing open problems. The gap between χ and χ_f demonstrates the importance of integrality constraints in coloring problems.",
    "openQuestions": [
      "Is χ(ℝ²) = 5, 6, or 7?",
      "Can the de Grey construction be simplified or made more explicit?",
      "What is the chromatic number in higher dimensions?",
      "Is there a 'natural' proof that χ ≥ 5 without massive computer search?"
    ]
  }
}
