{
  "id": "erdos-830",
  "title": "Erdős Problem #830: Amicable Pairs",
  "slug": "erdos-830",
  "description": "Are there infinitely many amicable pairs? Two numbers are amicable if each is the sum of the other's proper divisors, like 220 and 284.",
  "meta": {
    "author": "Open Problem (Upper bounds by Erdős 1955, Pomerance 1981/2015)",
    "sourceUrl": "https://erdosproblems.com/830",
    "date": "",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos830Problem.lean",
    "tags": ["erdos", "number-theory", "divisors", "amicable-numbers", "open-problem"],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 830,
    "erdosUrl": "https://erdosproblems.com/830",
    "erdosProblemStatus": "open",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "ArithmeticFunction.sigma",
        "description": "Sum of divisors function σ_k(n)",
        "module": "Mathlib.NumberTheory.ArithmeticFunction"
      },
      {
        "theorem": "Filter.atTop",
        "description": "The filter of neighborhoods of +∞",
        "module": "Mathlib.Order.Filter.AtTopBot"
      },
      {
        "theorem": "Asymptotics.isLittleO",
        "description": "Little-o notation for asymptotic bounds",
        "module": "Mathlib.Analysis.Asymptotics.Asymptotics"
      }
    ],
    "originalContributions": [
      "Formal definition of amicable pairs using Mathlib's sigma function",
      "Machine-verified examples: (220,284), (1184,1210), (2620,2924)",
      "Formal statements of Erdős and Pomerance upper bounds",
      "Counting function A(x) formalization"
    ]
  },
  "overview": {
    "historicalContext": "Amicable numbers have fascinated mathematicians since antiquity. The pair (220, 284) was known to the Pythagoreans and appears in Arabic and medieval European mathematical texts. The definition is elegant: two numbers are amicable if each equals the sum of the proper divisors (all divisors except the number itself) of the other.\n\nFor 220: proper divisors are 1, 2, 4, 5, 10, 11, 20, 22, 44, 55, 110, which sum to 284.\nFor 284: proper divisors are 1, 2, 4, 71, 142, which sum to 220.\n\nWhile thousands of amicable pairs are now known (discovered computationally), whether infinitely many exist remains one of the oldest unsolved problems in number theory. Erdős established the first non-trivial upper bound A(x) = o(x) in 1955, and Carl Pomerance made major improvements in 1981 and 2015.",
    "problemStatement": "Two natural numbers $a$ and $b$ are **amicable** if $\\sigma(a) = \\sigma(b) = a + b$, where $\\sigma(n)$ is the sum of all divisors of $n$.\n\n**Open Questions**:\n1. Are there infinitely many amicable pairs?\n2. If $A(x)$ counts amicable pairs with $1 \\leq a \\leq b \\leq x$, is $A(x) > x^{1-o(1)}$?\n\n**Known Upper Bounds** (SOLVED):\n- Erdős (1955): $A(x) = o(x)$\n- Pomerance (1981): $A(x) \\leq x \\cdot \\exp(-(\\log x)^{1/3})$\n- Pomerance (2015): $A(x) \\leq x \\cdot \\exp(-(\\frac{1}{2}+o(1))\\sqrt{\\log x \\cdot \\log\\log x})$",
    "proofStrategy": "Since the main questions are open, we cannot prove them. Our formalization:\n\n1. **Defines amicable pairs** using Mathlib's `ArithmeticFunction.sigma` for the sum of divisors\n2. **Verifies concrete examples** (220,284), (1184,1210), (2620,2924) using `native_decide`\n3. **Defines the counting function** A(x) formally\n4. **States the open conjectures** as axioms\n5. **Records proven upper bounds** (Erdős 1955, Pomerance 1981, 2015) as axioms pending full formalization",
    "keyInsights": [
      "**Sum of Divisors**: σ(n) = Σ_{d|n} d. For amicable (a,b): σ(a) = σ(b) = a+b, which means the 'excess' of each (σ(n)-n) equals the other number.",
      "**Ancient History**: The (220, 284) pair was known to Pythagoras (~500 BCE). The next pair (1184, 1210) wasn't found until 1866, by a 16-year-old Nicolo Paganini.",
      "**Density Bounds**: Pomerance's bounds show amicable pairs are extremely rare—A(x) grows slower than x/exp(√(log x · log log x)).",
      "**Computational Search**: Over 1.2 billion amicable pairs are known, but this doesn't prove infinitude—the pattern could theoretically stop."
    ]
  },
  "sections": [
    {
      "id": "divisor-function",
      "title": "Sum of Divisors Function",
      "startLine": 26,
      "endLine": 43,
      "summary": "Defines σ(n) and the IsAmicable predicate"
    },
    {
      "id": "classic-example",
      "title": "Classic Example: 220 and 284",
      "startLine": 45,
      "endLine": 60,
      "summary": "Machine-verified proof that (220, 284) is amicable"
    },
    {
      "id": "counting-function",
      "title": "The Counting Function A(x)",
      "startLine": 62,
      "endLine": 72,
      "summary": "Defines A(x) counting amicable pairs up to x"
    },
    {
      "id": "open-questions",
      "title": "Open Questions",
      "startLine": 74,
      "endLine": 100,
      "summary": "States the two main open conjectures as axioms"
    },
    {
      "id": "upper-bounds",
      "title": "Proven Upper Bounds",
      "startLine": 102,
      "endLine": 128,
      "summary": "Erdős 1955 and Pomerance 1981/2015 bounds"
    },
    {
      "id": "more-examples",
      "title": "Additional Amicable Pairs",
      "startLine": 130,
      "endLine": 156,
      "summary": "Verified examples (1184,1210) and (2620,2924)"
    }
  ],
  "conclusion": {
    "summary": "This formalization captures Erdős Problem #830, one of the oldest unsolved problems in number theory: are there infinitely many amicable pairs? We define amicable pairs formally, verify several concrete examples, and state both the open conjectures and the proven upper bounds on the counting function A(x).",
    "implications": "Resolving this problem would have significant implications for understanding the structure of the divisor function. A proof of infinitude might reveal new patterns in how divisors interact across numbers.",
    "openQuestions": [
      "Are there infinitely many amicable pairs?",
      "Can the Pomerance upper bound be improved further?",
      "Are there amicable pairs where both numbers are odd?",
      "What is the true growth rate of A(x)?"
    ]
  }
}
