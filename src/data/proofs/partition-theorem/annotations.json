[
  {
    "id": "ann-intro",
    "proofId": "partition-theorem",
    "range": {"startLine": 4, "endLine": 86},
    "type": "concept",
    "title": "Partition Theorem: Wiedijk #45",
    "content": "**Euler's Partition Identity**:\n\nThe number of partitions of n into **distinct parts** equals the number of partitions into **odd parts**.\n\n$$|\\{\\text{distinct partitions}\\}| = |\\{\\text{odd partitions}\\}|$$\n\n**Example (n = 5)**:\n- **Distinct**: {5}, {4+1}, {3+2} = 3\n- **Odd**: {5}, {3+1+1}, {1+1+1+1+1} = 3\n\n**Historical**: Euler (1748), proved via generating functions.",
    "significance": "critical",
    "relatedConcepts": ["integer partitions", "generating functions", "combinatorics"]
  },
  {
    "id": "ann-partitions",
    "proofId": "partition-theorem",
    "range": {"startLine": 92, "endLine": 106},
    "type": "definition",
    "title": "Integer Partitions",
    "content": "**Integer Partition**:\n\nA partition of n is a way to write n as a sum of positive integers, where order doesn't matter.\n\n$$n = a_1 + a_2 + \\cdots + a_k, \\quad a_1 \\geq a_2 \\geq \\cdots \\geq a_k > 0$$\n\n**Representation**: Multiset of positive integers (parts) summing to n.\n\n**Example**: Partitions of 4: {4}, {3,1}, {2,2}, {2,1,1}, {1,1,1,1}\n\nMathlib: `Nat.Partition n`",
    "mathContext": "n = Σ parts",
    "significance": "major",
    "relatedConcepts": ["multiset", "sum", "positive integers"]
  },
  {
    "id": "ann-distinct",
    "proofId": "partition-theorem",
    "range": {"startLine": 107, "endLine": 119},
    "type": "definition",
    "title": "Distinct Partitions",
    "content": "**Distinct Partitions**:\n\nA partition where **no part repeats** (each part appears at most once).\n\n**Formal**: parts.Nodup (parts form a set, not multiset)\n\n**Example (n = 6)**:\n- Distinct: {6}, {5+1}, {4+2}, {3+2+1} (4 partitions)\n- Not distinct: {3+3}, {2+2+2} (parts repeat)\n\nMathlib: `Nat.Partition.distincts n`",
    "mathContext": "parts all different",
    "significance": "major",
    "relatedConcepts": ["no repetition", "set", "Nodup"]
  },
  {
    "id": "ann-odd",
    "proofId": "partition-theorem",
    "range": {"startLine": 120, "endLine": 132},
    "type": "definition",
    "title": "Odd Partitions",
    "content": "**Odd Partitions**:\n\nA partition where **every part is odd** (1, 3, 5, 7, ...).\n\n**Formal**: All parts satisfy `¬Even i`\n\n**Example (n = 6)**:\n- Odd: {5+1}, {3+3}, {3+1+1+1}, {1+1+1+1+1+1} (4 partitions)\n- Not odd: {6}, {4+2} (even parts)\n\nMathlib: `Nat.Partition.odds n`",
    "mathContext": "all parts ≡ 1 (mod 2)",
    "significance": "major",
    "relatedConcepts": ["odd numbers", "parity", "Even predicate"]
  },
  {
    "id": "ann-theorem",
    "proofId": "partition-theorem",
    "range": {"startLine": 135, "endLine": 152},
    "type": "theorem",
    "title": "The Partition Theorem",
    "content": "**Theorem (Wiedijk #45)**:\n\n$$\\text{card}(\\text{distincts } n) = \\text{card}(\\text{odds } n)$$\n\n**Proof Approach**: Generating functions show:\n$$\\prod_{k=1}^{\\infty}(1+x^k) = \\prod_{k=0}^{\\infty}\\frac{1}{1-x^{2k+1}}$$\n\n**Key Step**:\n$$1 + x^k = \\frac{1-x^{2k}}{1-x^k}$$\n\nCancellation leaves only odd factors in denominator.\n\nMathlib: `Theorems100.partition_theorem`",
    "mathContext": "|distinct| = |odd|",
    "significance": "critical",
    "relatedConcepts": ["generating functions", "infinite products", "equality"]
  },
  {
    "id": "ann-examples",
    "proofId": "partition-theorem",
    "range": {"startLine": 154, "endLine": 196},
    "type": "note",
    "title": "Verified Examples",
    "content": "**Partition Counts**:\n\n| n | Count | Distinct | Odd |\n|---|-------|----------|-----|\n| 0 | 1 | {} | {} |\n| 1 | 1 | {1} | {1} |\n| 2 | 1 | {2} | {1+1} |\n| 3 | 2 | {3},{2+1} | {3},{1+1+1} |\n| 4 | 2 | {4},{3+1} | {3+1},{1⁴} |\n| 5 | 3 | {5},{4+1},{3+2} | {5},{3+1+1},{1⁵} |\n| 8 | 6 | 6 partitions each |\n\nAll verified with `native_decide` in Lean!",
    "significance": "minor",
    "relatedConcepts": ["verification", "native_decide", "small cases"]
  },
  {
    "id": "ann-generating",
    "proofId": "partition-theorem",
    "range": {"startLine": 198, "endLine": 222},
    "type": "theorem",
    "title": "Generating Function Proof",
    "content": "**Generating Functions**:\n\n**Distinct parts** (each part 0 or 1 time):\n$$\\prod_{k=1}^{\\infty}(1+x^k)$$\n\n**Odd parts** (each odd part any number of times):\n$$\\prod_{k=0}^{\\infty}\\frac{1}{1-x^{2k+1}}$$\n\n**Why they're equal**:\n$$\\prod(1+x^k) = \\prod\\frac{1-x^{2k}}{1-x^k} = \\frac{\\text{even factors}}{\\text{all factors}} = \\frac{1}{\\text{odd factors}}$$\n\nThe coefficient of $x^n$ in both equals the partition count!",
    "mathContext": "∏(1+xᵏ) = ∏1/(1-x^{2k+1})",
    "significance": "critical",
    "relatedConcepts": ["formal power series", "infinite product", "coefficient extraction"]
  },
  {
    "id": "ann-glaisher",
    "proofId": "partition-theorem",
    "range": {"startLine": 224, "endLine": 250},
    "type": "theorem",
    "title": "Glaisher's Bijection",
    "content": "**Glaisher Correspondence** (bijective proof):\n\n**Distinct → Odd**:\nFor each part d, write $d = 2^a \\cdot b$ (b odd).\nReplace d with $2^a$ copies of b.\n\n**Example**: {6, 5, 3} → \n- 6 = 2¹×3 → {3,3}\n- 5 = 2⁰×5 → {5}\n- 3 = 2⁰×3 → {3}\n- Result: {5, 3, 3, 3}\n\n**Odd → Distinct**: Reverse using binary representation.\n\nThis combinatorial proof avoids generating functions entirely!",
    "mathContext": "d = 2ᵃ·b ↔ 2ᵃ copies of b",
    "significance": "major",
    "relatedConcepts": ["bijection", "binary representation", "combinatorial proof"]
  },
  {
    "id": "ann-pentagonal",
    "proofId": "partition-theorem",
    "range": {"startLine": 252, "endLine": 264},
    "type": "concept",
    "title": "Pentagonal Number Connection",
    "content": "**Euler's Pentagonal Number Theorem**:\n\n$$\\prod_{k=1}^{\\infty}(1-x^k) = \\sum_{n=-\\infty}^{\\infty}(-1)^n x^{n(3n-1)/2}$$\n\n**Pentagonal numbers**: 0, 1, 2, 5, 7, 12, 15, ...\n(formula $n(3n-1)/2$ for generalized values)\n\n**Recurrence for p(n)**:\n$$p(n) = p(n-1) + p(n-2) - p(n-5) - p(n-7) + \\cdots$$\n\nSigns alternate in pairs: ++--++--...",
    "mathContext": "p(n) recurrence via pentagonals",
    "significance": "minor",
    "relatedConcepts": ["pentagonal numbers", "recurrence", "partition function"]
  },
  {
    "id": "ann-asymptotics",
    "proofId": "partition-theorem",
    "range": {"startLine": 266, "endLine": 275},
    "type": "note",
    "title": "Asymptotic Growth",
    "content": "**OEIS A000009** (distinct/odd partition counts):\n\n1, 1, 1, 2, 2, 3, 4, 5, 6, 8, 10, 12, 15, 18, 22, 27, ...\n\n**Asymptotic formula**:\n$$Q(n) \\sim \\frac{\\exp(\\pi\\sqrt{n/3})}{4 \\cdot 3^{1/4} \\cdot n^{3/4}}$$\n\n**Growth**: Exponential in $\\sqrt{n}$, similar to the full partition function p(n).\n\nCompare to Hardy-Ramanujan asymptotic for p(n).",
    "significance": "minor",
    "relatedConcepts": ["OEIS", "asymptotics", "Hardy-Ramanujan"]
  }
]
