[
  {
    "id": "ann-e111-header",
    "proofId": "erdos-111",
    "range": { "startLine": 1, "endLine": 24 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #111: Edge Deletion to Bipartiteness**\n\nFor a graph G, define h_G(n) as the maximum number of edges that must be deleted from any n-vertex subgraph to make it bipartite.\n\n**The Question:** Does h_G(n)/n → ∞ for every graph with chromatic number ℵ₁?\n\n**Status:** OPEN\n\n**Key References:**\n- Erdős-Hajnal-Szemerédi (1982): \"On almost bipartite large chromatic graphs\"\n- Erdős (1981): \"On the combinatorial problems which I would most like to see solved\"",
    "mathContext": "This problem connects graph coloring (chromatic number) with graph structure (bipartiteness). The chromatic number ℵ₁ is the first uncountable cardinal.",
    "significance": "critical",
    "relatedConcepts": ["Chromatic number", "Bipartite graphs", "Infinite combinatorics", "Cardinal arithmetic"]
  },
  {
    "id": "ann-e111-bipartite",
    "proofId": "erdos-111",
    "range": { "startLine": 45, "endLine": 55 },
    "type": "definition",
    "title": "Bipartite Graphs",
    "content": "**IsBipartite:**\n\nA graph G is bipartite if its vertices can be partitioned into two disjoint sets A and B such that every edge connects a vertex in A to a vertex in B.\n\n**Definition:**\n```lean\ndef IsBipartite {V : Type*} (G : SimpleGraph V) : Prop :=\n  ∃ A B : Set V, A ∪ B = Set.univ ∧ A ∩ B = ∅ ∧\n    ∀ v w, G.Adj v w → (v ∈ A ∧ w ∈ B) ∨ (v ∈ B ∧ w ∈ A)\n```\n\nEquivalently, a graph is bipartite iff it contains no odd cycles.",
    "mathContext": "Bipartite graphs are 2-colorable. They appear throughout combinatorics, from matching theory to network flow.",
    "significance": "critical",
    "relatedConcepts": ["Graph coloring", "Odd cycles", "König's theorem"]
  },
  {
    "id": "ann-e111-edge-deletion",
    "proofId": "erdos-111",
    "range": { "startLine": 68, "endLine": 91 },
    "type": "axiom",
    "title": "Edge Deletion Functions",
    "content": "**edgesToRemoveForBipartite and edgeDeletionFunction h_G:**\n\nFor a graph G and natural number n, h_G(n) is the maximum number of edges that must be deleted from any n-vertex induced subgraph of G to make it bipartite.\n\n**Intuition:**\n- h_G(n) measures how \"far from bipartite\" the densest n-vertex subgraphs are\n- For bipartite G: h_G(n) = 0\n- For complete K_n: h_G(n) ≈ n²/4 (remove a max-cut)\n\n**Axioms (complexity requires axiomatization):**\n```lean\naxiom edgesToRemoveForBipartite {V : Type*} [Fintype V] (G : SimpleGraph V) : ℕ\naxiom edgeDeletionFunction {V : Type*} (G : SimpleGraph V) (n : ℕ) : ℕ\n```",
    "mathContext": "These functions capture the worst-case edge deletion cost over all n-vertex subgraphs. They are the central objects in Erdős Problem #111.",
    "significance": "critical",
    "relatedConcepts": ["Subgraph", "Max-cut", "Edge deletion"]
  },
  {
    "id": "ann-e111-coloring",
    "proofId": "erdos-111",
    "range": { "startLine": 99, "endLine": 112 },
    "type": "definition",
    "title": "Graph Coloring",
    "content": "**IsProperColoring and IsKColorable:**\n\nA proper coloring assigns colors to vertices such that adjacent vertices have different colors.\n\n**Definitions:**\n```lean\ndef IsProperColoring {V C : Type*} (G : SimpleGraph V) (f : V → C) : Prop :=\n  ∀ v w, G.Adj v w → f v ≠ f w\n\ndef IsKColorable {V : Type*} (G : SimpleGraph V) (k : ℕ) : Prop :=\n  ∃ f : V → Fin k, IsProperColoring G f\n```\n\nThe chromatic number χ(G) is the minimum k for which G is k-colorable.",
    "mathContext": "Graph coloring is a fundamental problem in combinatorics with applications to scheduling, register allocation, and map coloring.",
    "significance": "key",
    "relatedConcepts": ["Chromatic number", "Four color theorem", "NP-completeness"]
  },
  {
    "id": "ann-e111-chromatic-number",
    "proofId": "erdos-111",
    "range": { "startLine": 114, "endLine": 124 },
    "type": "axiom",
    "title": "Chromatic Number",
    "content": "**chromaticNumber (axiomatized):**\n\nThe minimum number of colors needed for a proper coloring.\n\n**Axioms:**\n```lean\naxiom chromaticNumber {V : Type*} [Fintype V] (G : SimpleGraph V) : ℕ\naxiom chromaticNumber_exists {V : Type*} [Fintype V] (G : SimpleGraph V) :\n    IsKColorable G (chromaticNumber G)\n```\n\nAxiomatized to avoid decidability issues with IsKColorable.",
    "mathContext": "Every finite graph is k-colorable for some k ≤ |V|. The chromatic number is NP-hard to compute.",
    "significance": "key",
    "relatedConcepts": ["Graph coloring", "Greedy algorithm", "NP-completeness"]
  },
  {
    "id": "ann-e111-cardinal-chromatic",
    "proofId": "erdos-111",
    "range": { "startLine": 131, "endLine": 145 },
    "type": "axiom",
    "title": "Cardinal Chromatic Number",
    "content": "**cardinalChromaticNumber and hasAleph1ChromaticNumber:**\n\nFor infinite graphs, the chromatic number is a cardinal number.\n\n**Axiom and Definition:**\n```lean\naxiom cardinalChromaticNumber (V : Type*) (G : SimpleGraph V) : Cardinal.{0}\n\ndef hasAleph1ChromaticNumber {V : Type*} (G : SimpleGraph V) : Prop :=\n  cardinalChromaticNumber V G = Cardinal.aleph 1\n```\n\nℵ₁ (aleph-one) is the first uncountable cardinal - larger than ℵ₀ = |ℕ|.",
    "mathContext": "Graphs with uncountable chromatic number cannot be properly colored with countably many colors, leading to rich structural properties.",
    "significance": "critical",
    "relatedConcepts": ["Cardinal numbers", "ℵ₁", "Uncountable sets", "Set theory"]
  },
  {
    "id": "ann-e111-odd-cycles",
    "proofId": "erdos-111",
    "range": { "startLine": 152, "endLine": 168 },
    "type": "axiom",
    "title": "Odd Cycles and Bipartiteness",
    "content": "**hasOddCycle and bipartite_iff_no_odd_cycle:**\n\nA fundamental theorem in graph theory: a graph is bipartite if and only if it contains no odd cycle.\n\n**Odd Cycle Definition:**\n```lean\ndef hasOddCycle {V : Type*} (G : SimpleGraph V) : Prop :=\n  ∃ (n : ℕ) (hn : n ≥ 1) (c : Fin (2*n + 1) → V),\n    (∀ i, G.Adj (c i) (c ⟨(i.val + 1) % (2*n + 1), ...⟩)) ∧ ...\n```\n\n**Axiom:**\n```lean\naxiom bipartite_iff_no_odd_cycle {V : Type*} (G : SimpleGraph V) :\n    IsBipartite G ↔ ¬hasOddCycle G\n```\n\nThis is why edge deletion matters: removing edges can eliminate odd cycles.",
    "mathContext": "This characterization is the basis for bipartiteness testing via BFS/DFS in linear time.",
    "significance": "key",
    "relatedConcepts": ["Cycle detection", "BFS", "Graph traversal"]
  },
  {
    "id": "ann-e111-vertex-disjoint",
    "proofId": "erdos-111",
    "range": { "startLine": 175, "endLine": 198 },
    "type": "axiom",
    "title": "Vertex-Disjoint Odd Cycles",
    "content": "**hasVertexDisjointOddCycles and ehs_lower_bound:**\n\nGraphs with χ(G) = ℵ₁ contain uncountably many vertex-disjoint odd cycles.\n\n**EHS Lower Bound (1982):**\nEvery graph with chromatic number ℵ₁ contains ℵ₁ many vertex-disjoint odd cycles of some fixed odd length 2r+1.\n\n**Axiom:**\n```lean\naxiom ehs_lower_bound {V : Type*} (G : SimpleGraph V)\n    (hχ : hasAleph1ChromaticNumber G) :\n    ∃ r : ℕ, hasVertexDisjointOddCycles G (Cardinal.aleph 1)\n```\n\nThis implies h_G(n) ≫ n: each odd cycle contributes at least 1 edge to delete.",
    "mathContext": "The proof uses compactness and the fact that odd cycles are obstructions to bipartiteness.",
    "significance": "critical",
    "relatedConcepts": ["Compactness", "Ramsey theory", "Graph packing"]
  },
  {
    "id": "ann-e111-h-linear",
    "proofId": "erdos-111",
    "range": { "startLine": 200, "endLine": 207 },
    "type": "axiom",
    "title": "Linear Lower Bound",
    "content": "**h_at_least_linear:**\n\nFor graphs with χ(G) = ℵ₁, the edge deletion function h_G(n) grows at least linearly.\n\n**Axiom:**\n```lean\naxiom h_at_least_linear {V : Type*} (G : SimpleGraph V)\n    (hχ : hasAleph1ChromaticNumber G) :\n    ∀ c : ℕ, ∃ N : ℕ, ∀ n ≥ N, edgeDeletionFunction G n ≥ c * n\n```\n\nThis follows from the vertex-disjoint cycles: n/(2r+1) cycles means at least n/(2r+1) edges to delete.",
    "significance": "key"
  },
  {
    "id": "ann-e111-upper-bound",
    "proofId": "erdos-111",
    "range": { "startLine": 215, "endLine": 226 },
    "type": "axiom",
    "title": "EHS Upper Bound Construction",
    "content": "**ehs_upper_bound:**\n\nErdős-Hajnal-Szemerédi (1982) constructed a graph with χ = ℵ₁ but h_G(n) = O(n^(3/2)).\n\n**Axiom:**\n```lean\naxiom ehs_upper_bound :\n    ∃ (V : Type*) (G : SimpleGraph V),\n      hasAleph1ChromaticNumber G ∧\n      ∃ C : ℕ, ∀ n : ℕ, edgeDeletionFunction G n ≤ C * n * Nat.sqrt n\n```\n\nThis shows the linear lower bound is not tight - there exist graphs with subquadratic h_G(n).",
    "mathContext": "The construction uses shift graphs and probabilistic methods. It represents the current best upper bound.",
    "significance": "critical",
    "relatedConcepts": ["Shift graphs", "Probabilistic method", "Graph constructions"]
  },
  {
    "id": "ann-e111-erdos-conjecture",
    "proofId": "erdos-111",
    "range": { "startLine": 233, "endLine": 246 },
    "type": "definition",
    "title": "Erdős's Conjecture",
    "content": "**erdosConjecture111:**\n\nErdős (1981) conjectured that for every ε > 0, there exists a graph G with χ(G) = ℵ₁ such that h_G(n) = O(n^(1+ε)).\n\n**Definition:**\n```lean\ndef erdosConjecture111 : Prop :=\n  ∀ ε : ℝ, ε > 0 →\n    ∃ (V : Type*) (G : SimpleGraph V),\n      hasAleph1ChromaticNumber G ∧\n      ∃ C : ℝ, C > 0 ∧ ∀ n : ℕ, (edgeDeletionFunction G n : ℝ) ≤ C * (n : ℝ) ^ (1 + ε)\n```\n\nIf true, this would show the growth rate can be arbitrarily close to linear.",
    "mathContext": "This conjecture would significantly improve the n^(3/2) upper bound and narrow the gap with the linear lower bound.",
    "significance": "key",
    "relatedConcepts": ["Extremal graph theory", "Growth rates", "Open problems"]
  },
  {
    "id": "ann-e111-main-question",
    "proofId": "erdos-111",
    "range": { "startLine": 253, "endLine": 271 },
    "type": "concept",
    "title": "The Main Open Question",
    "content": "**erdos111_question:**\n\nThe central question of Erdős Problem #111:\n\n**Does h_G(n)/n → ∞ for every graph G with chromatic number ℵ₁?**\n\n**Definition:**\n```lean\ndef erdos111_question : Prop :=\n  ∀ (V : Type*) (G : SimpleGraph V),\n    hasAleph1ChromaticNumber G →\n    ∀ M : ℕ, ∃ N : ℕ, ∀ n ≥ N, edgeDeletionFunction G n > M * n\n```\n\n**Known:** h_G(n) ≫ n (at least some positive constant)\n**Unknown:** Does the ratio grow without bound?\n\nThe problem cannot be resolved by finite computation.",
    "significance": "critical",
    "relatedConcepts": ["Limit behavior", "Growth rates", "Open problems"]
  },
  {
    "id": "ann-e111-connection-74",
    "proofId": "erdos-111",
    "range": { "startLine": 278, "endLine": 286 },
    "type": "axiom",
    "title": "Connection to Problem #74",
    "content": "**connection_to_74:**\n\nErdős Problem #74 asks related questions about edge-chromatic number and bipartite subgraphs.\n\nThe problems are closely connected through the study of graphs with large chromatic number.\n\n**Axiom:**\n```lean\naxiom connection_to_74 :\n    ∃ relationship : Prop, relationship\n```\n\nBoth problems explore how chromatic properties interact with graph structure.",
    "significance": "supporting",
    "relatedConcepts": ["Problem #74", "Edge-chromatic number", "Related problems"]
  },
  {
    "id": "ann-e111-finite-graphs",
    "proofId": "erdos-111",
    "range": { "startLine": 288, "endLine": 299 },
    "type": "theorem",
    "title": "Finite Graph Behavior",
    "content": "**finite_complete_graph_bound:**\n\nFor finite graphs, h_G is well-understood:\n- Bipartite graphs: h_G(n) = 0\n- Odd cycles C_{2k+1}: h_G(n) = O(n)\n- Complete graphs K_n: h_G(n) = Θ(n²)\n\nThe interesting behavior emerges for infinite graphs with uncountable chromatic number.\n\n**Theorem:**\n```lean\ntheorem finite_complete_graph_bound (n : ℕ) (hn : n ≥ 3) :\n    True := by trivial  -- Placeholder\n```",
    "significance": "supporting",
    "relatedConcepts": ["Complete graphs", "Max-cut", "Finite combinatorics"]
  },
  {
    "id": "ann-e111-summary",
    "proofId": "erdos-111",
    "range": { "startLine": 313, "endLine": 335 },
    "type": "theorem",
    "title": "Summary Theorem",
    "content": "**erdos_111_summary:**\n\nCombines all known results about Erdős Problem #111:\n\n1. **Lower bound:** For all χ = ℵ₁ graphs, h_G(n) ≥ cn for some c > 0\n2. **Upper bound:** There exists a χ = ℵ₁ graph with h_G(n) ≤ Cn^(3/2)\n\n**Theorem:**\n```lean\ntheorem erdos_111_summary :\n    (∀ (V : Type*) (G : SimpleGraph V), hasAleph1ChromaticNumber G →\n      ∃ c : ℕ, c > 0 ∧ ∃ N : ℕ, ∀ n ≥ N, edgeDeletionFunction G n ≥ c * n) ∧\n    (∃ (V : Type*) (G : SimpleGraph V), hasAleph1ChromaticNumber G ∧\n      ∃ C : ℕ, ∀ n : ℕ, edgeDeletionFunction G n ≤ C * n * Nat.sqrt n)\n```\n\nThe gap between linear and n^(3/2) remains to be closed.",
    "significance": "key"
  }
]
