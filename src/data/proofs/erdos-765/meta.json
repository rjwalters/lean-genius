{
  "id": "erdos-765",
  "title": "Erdős Problem #765: Asymptotic Formula for ex(n; C₄)",
  "slug": "erdos-765",
  "description": "Determine an asymptotic formula for ex(n; C₄), the maximum number of edges in an n-vertex graph with no 4-cycle. Answer: ex(n; C₄) ~ (1/2)n^{3/2}.",
  "meta": {
    "author": "Erdős-Klein (1938), Reiman (1958), Erdős-Rényi-Brown, Füredi (1983)",
    "sourceUrl": "https://erdosproblems.com/765",
    "date": "1938-1983",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos765Problem.lean",
    "tags": [
      "erdos",
      "graph-theory",
      "extremal-graph-theory",
      "turan-numbers",
      "projective-planes",
      "solved"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 765,
    "erdosUrl": "https://erdosproblems.com/765",
    "erdosProblemStatus": "solved",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "SimpleGraph.Basic",
        "description": "Simple graph definitions and adjacency",
        "module": "Mathlib.Combinatorics.SimpleGraph.Basic"
      },
      {
        "theorem": "SimpleGraph.Clique",
        "description": "Clique and cycle detection in graphs",
        "module": "Mathlib.Combinatorics.SimpleGraph.Clique"
      },
      {
        "theorem": "Real.Basic",
        "description": "Real number operations",
        "module": "Mathlib.Data.Real.Basic"
      },
      {
        "theorem": "Real.rpow",
        "description": "Real power function for asymptotic analysis",
        "module": "Mathlib.Analysis.SpecialFunctions.Pow.Real"
      }
    ],
    "originalContributions": [
      "hasFourCycle: formal definition of 4-cycle in a graph",
      "isFourCycleFree: C₄-free graph predicate",
      "ex_C4: extremal number definition for C₄",
      "projectivePlaneVertices: formula q² + q + 1 for projective plane size",
      "asymptotic_ratio: ratio ex(n;C₄)/n^{3/2}",
      "erdos_klein_upper axiom: O(n^{3/2}) upper bound",
      "reiman_bounds axiom: refined constant bounds",
      "projective_plane_construction axiom: lower bound via PG(2,q)",
      "asymptotic_formula axiom: limit equals 1/2",
      "furedi_exact axiom: exact values for q > 13",
      "erdos_refined_upper axiom: refined upper bound with lower order terms",
      "ma_yang_disproof axiom: disproof of Erdős's stronger conjecture",
      "is_B2_sequence: connection to Sidon sets",
      "erdos_765 theorem: main asymptotic result",
      "Proved examples: fano_plane_example, pg23_example, pg24_example, pg25_example"
    ]
  },
  "overview": {
    "historicalContext": "**The Pre-Turán Era (1936-1938)**\n\nErdős first encountered this problem in 1936 while studying B₂ sequences (Sidon sets) in additive number theory - Problem #425 in his collection. He proved ex(n; C₄) = O(n^{3/2}) but did not immediately recognize its graph-theoretic significance. He later wrote with characteristic self-deprecation: 'Being struck by a curious blindness and lack of imagination, I did not at that time extend the problem from C₄ to other graphs and thus missed founding an interesting and fruitful new branch of graph theory.' Turán's systematic study of extremal numbers began in 1941, five years later.\n\n**The Race for the Exact Constant (1958-1983)**\n\nReiman (1958) proved that the limit L = lim ex(n;C₄)/n^{3/2} exists and satisfies 1/(2√2) ≤ L ≤ 1/2. The lower bound uses the Erdős-Rényi-Brown construction: the incidence graph of the projective plane PG(2,q) is C₄-free with (1/2)q(q+1)² edges. For n = q² + q + 1, this achieves ratio approaching 1/2. Füredi (1983) completed the picture by proving equality for q > 13.\n\n**Recent Developments: The Ma-Yang Breakthrough (2023)**\n\nErdős conjectured ex(n;C₄) = (1/2)n^{3/2} + (1/4)n + O(√n) but cautioned he had 'limited evidence.' Ma and Yang (2023) spectacularly disproved this by showing the coefficient 1/4 can be improved to 1/4 - c for some c > 0, for infinitely many n. The exact lower-order terms remain an active research area.",
    "problemStatement": "**Problem**: Give an asymptotic formula for ex(n; C₄), where ex(n; C₄) denotes the maximum number of edges in an n-vertex graph containing no 4-cycle (quadrilateral).\n\n**Answer**: ex(n; C₄) ~ (1/2)n^{3/2}\n\nMore precisely:\n- lim_{n→∞} ex(n;C₄)/n^{3/2} = 1/2\n- For n = q² + q + 1 (q prime power > 13): ex(n;C₄) = (1/2)q(q+1)² exactly\n- Erdős's refined conjecture ex(n;C₄) = (1/2)n^{3/2} + (1/4)n + O(√n) was DISPROVED by Ma-Yang (2023)",
    "proofStrategy": "The formalization establishes the asymptotic formula through several components:\n\n1. **Basic Definitions**: Define 4-cycles, C₄-free graphs, and the extremal function ex(n;C₄)\n\n2. **Upper Bounds**: Axiomatize Erdős-Klein's O(n^{3/2}) and Reiman's lim sup ≤ 1/2\n\n3. **Lower Bounds**: The projective plane construction PG(2,q) achieves (1/2)q(q+1)² edges\n\n4. **Asymptotic Limit**: Combine upper and lower bounds to establish lim = 1/2\n\n5. **Historical Context**: Include Füredi's exact result, Erdős's refined conjecture, and Ma-Yang's disproof",
    "keyInsights": [
      "**Projective Planes**: The extremal graphs achieving ex(n;C₄) are incidence graphs of projective planes PG(2,q), connecting graph theory to finite geometry",
      "**Zarankiewicz Problem**: ex(n;C₄) is equivalent to the Zarankiewicz problem z(n,n;2,2) about 0-1 matrices",
      "**B₂ Sequences**: The C₄-free condition relates to Sidon sets in additive combinatorics - this was Erdős's original motivation",
      "**Ma-Yang Disproof (2023)**: Erdős conjectured the coefficient of n in the error term was exactly 1/4, but this was recently disproved",
      "**Pre-Turán History**: This problem predates Turán's famous theorem by 5 years, making it one of the earliest extremal graph theory results"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "startLine": 29,
      "endLine": 56,
      "summary": "Defines 4-cycles, C₄-free graphs, and edge counting for simple graphs.",
      "description": "A 4-cycle consists of four distinct vertices v₁,v₂,v₃,v₄ forming a cycle. A graph is C₄-free if it contains no such cycle."
    },
    {
      "id": "extremal-function",
      "title": "Extremal Function ex(n; C₄)",
      "startLine": 58,
      "endLine": 77,
      "summary": "Defines the extremal number as the maximum edges in an n-vertex C₄-free graph.",
      "description": "The extremal function ex(n;C₄) is the central object of study. Its existence is guaranteed by finiteness of the graph space."
    },
    {
      "id": "historical-bounds",
      "title": "Historical Bounds",
      "startLine": 79,
      "endLine": 118,
      "summary": "Axiomatizes Erdős-Klein, Reiman, and Erdős-Rényi-Brown results establishing n^{3/2} growth.",
      "description": "The upper bound O(n^{3/2}) was first proved by Erdős-Klein (1938). Reiman (1958) refined the constant. The projective plane construction gives matching lower bounds."
    },
    {
      "id": "asymptotic-formula",
      "title": "The Asymptotic Formula",
      "startLine": 120,
      "endLine": 150,
      "summary": "States and proves the main result: ex(n;C₄) ~ (1/2)n^{3/2}.",
      "description": "The asymptotic ratio r(n) = ex(n;C₄)/n^{3/2} converges to 1/2. This is the main theorem answering Erdős Problem #765."
    },
    {
      "id": "furedi-exact",
      "title": "Füredi's Exact Result",
      "startLine": 152,
      "endLine": 166,
      "summary": "For large prime powers q, gives exact values of ex(n;C₄) for n = q² + q + 1.",
      "description": "Füredi (1983) proved that for q > 13, the projective plane construction is exactly optimal: ex(n;C₄) = (1/2)q(q+1)²."
    },
    {
      "id": "erdos-conjecture",
      "title": "Erdős's Refined Conjecture",
      "startLine": 168,
      "endLine": 196,
      "summary": "States Erdős's conjecture about lower-order terms and its disproof by Ma-Yang (2023).",
      "description": "Erdős conjectured ex(n;C₄) = (1/2)n^{3/2} + (1/4)n + O(√n), but Ma-Yang proved this is false for a positive density of n."
    },
    {
      "id": "number-theory",
      "title": "Connection to Number Theory",
      "startLine": 198,
      "endLine": 224,
      "summary": "Describes the historical connection to B₂ sequences and Sidon sets.",
      "description": "Erdős discovered the n^{3/2} bound while studying B₂ sequences, predating Turán's work by 5 years."
    },
    {
      "id": "examples",
      "title": "Examples",
      "startLine": 226,
      "endLine": 274,
      "summary": "Concrete examples: bipartite graphs, Fano plane PG(2,2), PG(2,3), PG(2,4), PG(2,5).",
      "description": "Multiple projective plane examples prove projectivePlaneVertices formula for q = 2, 3, 4, 5 giving n = 7, 13, 21, 31."
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 276,
      "endLine": 296,
      "summary": "Consolidates the main results and their implications.",
      "description": "Problem #765 is SOLVED: ex(n;C₄) ~ (1/2)n^{3/2}, with exact values known for infinitely many n."
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #765 asks for an asymptotic formula for ex(n;C₄), the maximum edges in a C₄-free graph on n vertices. The answer is ex(n;C₄) ~ (1/2)n^{3/2}, established through the combined work of Erdős-Klein (1938), Reiman (1958), Erdős-Rényi, Brown, and Füredi (1983). The extremal graphs are related to projective planes.",
    "implications": "This result has profound implications for extremal graph theory and connects to:\n\n1. **Finite Geometry**: Projective planes provide extremal constructions\n2. **Additive Combinatorics**: B₂ sequences and Sidon sets\n3. **Zarankiewicz Problem**: 0-1 matrix formulation\n4. **Turán Theory**: One of the foundational results predating Turán's theorem",
    "openQuestions": [
      "What is the exact coefficient of n in ex(n;C₄) = (1/2)n^{3/2} + cn + o(n)?",
      "Can the Ma-Yang bound be further improved?",
      "What is ex(n;C₄) for general n, not just projective plane sizes?",
      "Connections to other forbidden cycle problems ex(n;C_{2k})"
    ]
  }
}
