[
  {
    "id": "ann-e23-header",
    "proofId": "erdos-23",
    "range": {
      "startLine": 1,
      "endLine": 29
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #23**: Can every triangle-free graph on 5n vertices be made bipartite by deleting at most n² edges?\n\n**Status**: OPEN\n\n**Key facts**:\n- The blow-up of C₅ shows n² is necessary (tight if true)\n- Best known bound: 1.064n² (Balogh-Clemen-Lidický 2021)\n- Falsifiable: could be disproved by finite counterexample",
    "mathContext": "Triangle-free means no K₃. Bipartite means 2-colorable (no odd cycles). The question: how many edges must we delete to eliminate all odd cycles of length ≥ 5?",
    "significance": "critical",
    "relatedConcepts": [
      "triangle-free",
      "bipartite",
      "edge-deletion"
    ]
  },
  {
    "id": "ann-e23-background",
    "proofId": "erdos-23",
    "range": {
      "startLine": 38,
      "endLine": 50
    },
    "type": "concept",
    "title": "Background: Local vs Global",
    "content": "**Triangle-free** is a LOCAL property - no 3-cycles anywhere.\n**Bipartite** is a GLOBAL property - no odd cycles at all.\n\nTriangle-free graphs may still have odd cycles of length 5, 7, 9, ...\n\nThe conjecture quantifies how 'close' triangle-free is to bipartite in terms of edge deletions.",
    "mathContext": "A graph is bipartite iff it has no odd cycles iff it's 2-colorable. Triangle-freeness only forbids the shortest odd cycle.",
    "significance": "key",
    "relatedConcepts": [
      "odd-cycle",
      "2-coloring",
      "local-vs-global"
    ]
  },
  {
    "id": "ann-e23-graphdef",
    "proofId": "erdos-23",
    "range": {
      "startLine": 58,
      "endLine": 62
    },
    "type": "definition",
    "title": "Graph Structure",
    "content": "**Graph V** is a simple undirected graph:\n- `adj : V → V → Prop` - adjacency predicate\n- `symm` - undirected (x ~ y implies y ~ x)\n- `loopless` - no self-loops",
    "mathContext": "Standard simple graph definition. Edges are unordered pairs of distinct vertices.",
    "significance": "supporting",
    "relatedConcepts": [
      "simple-graph",
      "symmetric-relation",
      "irreflexive"
    ]
  },
  {
    "id": "ann-e23-bipartite",
    "proofId": "erdos-23",
    "range": {
      "startLine": 67,
      "endLine": 77
    },
    "type": "definition",
    "title": "Bipartiteness and Triangle-Freeness",
    "content": "**IsBipartite G**: Vertices can be 2-colored with no monochromatic edges.\n\n**ContainsTriangle G**: Three mutually adjacent vertices exist.\n\n**IsTriangleFree G**: No K₃ subgraph (negation of ContainsTriangle).",
    "mathContext": "IsBipartite uses Fin 2 = {0, 1} for colors. Triangle-freeness is weaker than bipartiteness: C₅ is triangle-free but not bipartite.",
    "significance": "critical",
    "relatedConcepts": [
      "2-coloring",
      "K3",
      "forbidden-subgraph"
    ]
  },
  {
    "id": "ann-e23-deletion",
    "proofId": "erdos-23",
    "range": {
      "startLine": 91,
      "endLine": 102
    },
    "type": "axiom",
    "title": "Bipartite Edge Deletion Number",
    "content": "**bipartiteEdgeDeletion G** = minimum edges to delete to make G bipartite.\n\nThis is the central quantity in the problem.\n\n**Key property**: G is bipartite iff deletion number = 0.",
    "mathContext": "Also known as the odd cycle edge transversal number. Computing this is NP-hard in general, so we axiomatize it.",
    "significance": "critical",
    "relatedConcepts": [
      "edge-transversal",
      "odd-cycle-cover",
      "np-hard"
    ]
  },
  {
    "id": "ann-e23-c5",
    "proofId": "erdos-23",
    "range": {
      "startLine": 110,
      "endLine": 115
    },
    "type": "definition",
    "title": "The 5-Cycle C₅",
    "content": "**C5** is the 5-cycle graph on Fin 5:\n\n0 - 1 - 2 - 3 - 4 - 0\n\nAdjacency: i ~ j iff (i+1) mod 5 = j or (j+1) mod 5 = i.\n\nC₅ is the smallest odd cycle that's triangle-free.",
    "mathContext": "C₅ is triangle-free (no K₃) but not bipartite (it's an odd cycle). It's the key building block for the extremal example.",
    "significance": "critical",
    "relatedConcepts": [
      "cycle-graph",
      "modular-arithmetic",
      "Fin5"
    ]
  },
  {
    "id": "ann-e23-blowup",
    "proofId": "erdos-23",
    "range": {
      "startLine": 117,
      "endLine": 126
    },
    "type": "definition",
    "title": "Blow-Up Construction",
    "content": "**C5BlowUp n** replaces each vertex of C₅ with n independent vertices.\n\n**c5BlowUpGraph n**: Vertices (i, k) where i ∈ Fin 5, k ∈ Fin n.\nAdjacent iff the C₅ parts are adjacent: (i, k) ~ (j, ℓ) iff i ~ j in C₅.\n\nThis creates a complete bipartite graph between each pair of adjacent parts.",
    "mathContext": "The blow-up has 5n vertices, 2n² edges, and is the extremal example for the conjecture. Each of the 5 pairs of adjacent parts contributes n² edges.",
    "significance": "critical",
    "relatedConcepts": [
      "blow-up",
      "complete-bipartite",
      "extremal-example"
    ]
  },
  {
    "id": "ann-e23-vertices",
    "proofId": "erdos-23",
    "range": {
      "startLine": 128,
      "endLine": 131
    },
    "type": "theorem",
    "title": "Blow-Up Has 5n Vertices",
    "content": "**theorem c5_blowup_vertices**: Fintype.card (Fin 5 × Fin n) = 5 * n\n\n**Proof**: Direct from Fintype.card_prod - product cardinality is the product of cardinalities.",
    "mathContext": "|Fin 5| × |Fin n| = 5 × n. This confirms the blow-up matches the problem's 5n vertex count.",
    "significance": "supporting",
    "relatedConcepts": [
      "cardinality",
      "product-type",
      "simp"
    ]
  },
  {
    "id": "ann-e23-c5-tf",
    "proofId": "erdos-23",
    "range": {
      "startLine": 138,
      "endLine": 149
    },
    "type": "theorem",
    "title": "C₅ is Triangle-Free (Verified)",
    "content": "**theorem c5_triangle_free : IsTriangleFree C5**\n\n**Proof**: By exhaustive case analysis on Fin 5.\n\nIn C₅, adjacent vertices have consecutive indices. For a triangle, we'd need i, j, k with all three pairs adjacent - impossible since you can't have three consecutive pairs in a 5-cycle.\n\nUses `fin_cases` to check all 5³ = 125 cases automatically.",
    "mathContext": "The proof demonstrates that no three vertices in C₅ form a clique. This is the base case for the blow-up's triangle-freeness.",
    "significance": "key",
    "relatedConcepts": [
      "fin_cases",
      "exhaustive-search",
      "verified-proof"
    ]
  },
  {
    "id": "ann-e23-blowup-tf",
    "proofId": "erdos-23",
    "range": {
      "startLine": 151,
      "endLine": 162
    },
    "type": "theorem",
    "title": "Blow-Up is Triangle-Free (Verified)",
    "content": "**theorem c5_blowup_triangle_free**: IsTriangleFree (c5BlowUpGraph n)\n\n**Proof**: A triangle in the blow-up would project to a triangle in C₅.\n\nIf (i, a), (j, b), (k, c) form a triangle, then i, j, k must be mutually adjacent in C₅. But c5_triangle_free says C₅ has no triangles. Contradiction.",
    "mathContext": "The blow-up preserves triangle-freeness because adjacency only depends on the C₅ indices, not the within-part indices.",
    "significance": "key",
    "relatedConcepts": [
      "projection",
      "hereditary-property",
      "verified-proof"
    ]
  },
  {
    "id": "ann-e23-blowup-deletion",
    "proofId": "erdos-23",
    "range": {
      "startLine": 164,
      "endLine": 167
    },
    "type": "axiom",
    "title": "Blow-Up Requires n² Deletions",
    "content": "**axiom c5_blowup_deletion**: bipartiteEdgeDeletion (c5BlowUpGraph n) = n²\n\nThe blow-up of C₅ requires EXACTLY n² edge deletions to become bipartite.\n\n**Why n²**: The blow-up contains the 5-cycle structure. Any 2-coloring must 'break' one edge of each C₅ copy, and there are n² copies.",
    "mathContext": "This shows n² is NECESSARY for triangle-free graphs on 5n vertices. The conjecture claims n² is also SUFFICIENT.",
    "significance": "critical",
    "relatedConcepts": [
      "tight-bound",
      "lower-bound",
      "extremal-example"
    ]
  },
  {
    "id": "ann-e23-conjecture",
    "proofId": "erdos-23",
    "range": {
      "startLine": 173,
      "endLine": 182
    },
    "type": "definition",
    "title": "The Main Conjecture",
    "content": "**ErdosConjecture23**: For all triangle-free graphs G on 5n vertices:\n\nbipartiteEdgeDeletion(G) ≤ n²\n\n**Status**: OPEN\n\nIf true, combined with c5_blowup_deletion, the bound n² is tight.",
    "mathContext": "The conjecture states that the blow-up of C₅ is extremal - no triangle-free graph on 5n vertices requires more than n² deletions.",
    "significance": "critical",
    "relatedConcepts": [
      "open-conjecture",
      "extremal-bound",
      "tight"
    ]
  },
  {
    "id": "ann-e23-bcl",
    "proofId": "erdos-23",
    "range": {
      "startLine": 188,
      "endLine": 196
    },
    "type": "axiom",
    "title": "Best Known Bound (2021)",
    "content": "**Balogh-Clemen-Lidický (2021)**: bipartiteEdgeDeletion(G) ≤ 1.064n²\n\nThis is the best current upper bound, achieved using flag algebra computations.\n\n**The gap**: Conjecture says n², best known is 1.064n². Closing this gap is the main open problem.",
    "mathContext": "1.064 ≈ 1 + 0.064, so there's about 6.4% room for improvement. Earlier bounds were weaker (e.g., 1.5n²).",
    "significance": "key",
    "relatedConcepts": [
      "flag-algebras",
      "upper-bound",
      "state-of-art"
    ]
  },
  {
    "id": "ann-e23-generalized",
    "proofId": "erdos-23",
    "range": {
      "startLine": 210,
      "endLine": 225
    },
    "type": "definition",
    "title": "Generalized Conjecture",
    "content": "**GeneralizedConjecture k**: For graphs on (2k+1)n vertices with odd girth ≥ 2k+1:\n\nbipartiteEdgeDeletion(G) ≤ n²\n\n**The original is k = 2**: 5 = 2(2)+1, odd girth ≥ 5 means triangle-free.\n\n**General pattern**: The blow-up of C_{2k+1} is the conjectured extremal example.",
    "mathContext": "Odd girth is the length of the shortest odd cycle. For k = 2, odd girth ≥ 5 means no 3-cycles (triangle-free).",
    "significance": "key",
    "relatedConcepts": [
      "odd-girth",
      "generalization",
      "extremal-family"
    ]
  },
  {
    "id": "ann-e23-mantel",
    "proofId": "erdos-23",
    "range": {
      "startLine": 251,
      "endLine": 256
    },
    "type": "axiom",
    "title": "Mantel's Theorem",
    "content": "**Mantel's theorem** (1907): Triangle-free graphs on n vertices have at most n²/4 edges.\n\nThis is the oldest result in extremal graph theory. The complete bipartite graph K_{n/2, n/2} achieves this bound.",
    "mathContext": "For 5n vertices: at most (5n)²/4 = 25n²/4 edges. With 2n² edges in the blow-up, we're well under this bound.",
    "significance": "supporting",
    "relatedConcepts": [
      "mantel-theorem",
      "turan-theory",
      "extremal-number"
    ]
  },
  {
    "id": "ann-e23-difficulty",
    "proofId": "erdos-23",
    "range": {
      "startLine": 262,
      "endLine": 271
    },
    "type": "theorem",
    "title": "Why the Problem is Hard",
    "content": "**The core difficulty**: Local constraint (triangle-free) doesn't fully control global structure (bipartiteness).\n\nTriangle-freeness says: no 3-cycles.\nBipartiteness says: no odd cycles at all.\n\nThe gap is odd cycles of length 5, 7, 9, ... and understanding how they distribute in triangle-free graphs.",
    "mathContext": "Triangle-free graphs can have many long odd cycles. The question is whether these cycles can be 'covered' by n² edges.",
    "significance": "supporting",
    "relatedConcepts": [
      "local-global",
      "odd-cycles",
      "structure"
    ]
  },
  {
    "id": "ann-e23-approaches",
    "proofId": "erdos-23",
    "range": {
      "startLine": 277,
      "endLine": 287
    },
    "type": "axiom",
    "title": "Research Approaches",
    "content": "**Three main approaches**:\n\n1. **Regularity Lemma**: Partition graph into pseudorandom pieces, analyze structure\n2. **Flag Algebras**: Razborov's method for optimization over graph densities (current best bound)\n3. **Probabilistic Method**: Random deletion analysis",
    "mathContext": "Flag algebras achieved 1.064n² by optimizing over valid graph configurations. The method is computational but produces rigorous proofs.",
    "significance": "supporting",
    "relatedConcepts": [
      "regularity-lemma",
      "flag-algebras",
      "probabilistic-method"
    ]
  },
  {
    "id": "ann-e23-summary",
    "proofId": "erdos-23",
    "range": {
      "startLine": 306,
      "endLine": 339
    },
    "type": "concept",
    "title": "Summary and Status",
    "content": "**Erdős Problem #23: OPEN**\n\n**Conjecture**: Triangle-free graphs on 5n vertices → bipartite with ≤ n² deletions\n\n**Lower bound**: Blow-up of C₅ requires exactly n² (verified: c5_blowup_deletion)\n**Upper bound**: 1.064n² (Balogh-Clemen-Lidický 2021)\n\n**Verified theorems**:\n- c5_triangle_free: C₅ has no triangles\n- c5_blowup_triangle_free: Blow-up is triangle-free\n- c5_blowup_vertices: Blow-up has 5n vertices",
    "mathContext": "The gap between n² and 1.064n² remains the central open problem. The conjecture is falsifiable - a counterexample would disprove it.",
    "significance": "critical",
    "relatedConcepts": [
      "problem-status",
      "open-problem",
      "gap"
    ]
  }
]
