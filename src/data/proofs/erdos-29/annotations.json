[
  {
    "id": "ann-e29-header",
    "proofId": "erdos-29",
    "range": {
      "startLine": 47,
      "endLine": 72
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #29**: Is there an EXPLICIT construction of a set A ⊆ ℕ such that A + A = ℕ but r_A(n) = o(n^ε) for every ε > 0?\n\n**Status**: SOLVED ($100 prize)\n**Solver**: Jain-Pham-Sawhney-Zakharov (2024)\n\n**Key terminology**:\n- **Additive basis**: A + A = ℕ (every natural is a sum of two elements)\n- **Economical**: Representation count grows slower than any polynomial\n- **Explicit**: Constructive algorithm, not just existence proof",
    "mathContext": "The problem originated in 1932 when Sidon asked Erdős. Erdős proved existence probabilistically, but the explicit construction took 90+ years!",
    "significance": "critical",
    "relatedConcepts": [
      "additive-basis",
      "economical",
      "explicit-construction"
    ]
  },
  {
    "id": "ann-e29-sumset",
    "proofId": "erdos-29",
    "range": {
      "startLine": 83,
      "endLine": 89
    },
    "type": "definition",
    "title": "Sumset and Doubling",
    "content": "**Sumset A B** = {a + b : a ∈ A, b ∈ B}\n\n```lean\ndef Sumset (A B : Set ℕ) : Set ℕ := { n | ∃ a ∈ A, ∃ b ∈ B, n = a + b }\nnotation:65 A \" +ₛ \" B => Sumset A B\ndef Doubling (A : Set ℕ) : Set ℕ := A +ₛ A\n```\n\nDoubling A = A + A is the key object for additive bases.",
    "mathContext": "Sumsets are fundamental in additive combinatorics. The notation +ₛ distinguishes set addition from element addition.",
    "significance": "critical",
    "relatedConcepts": [
      "sumset",
      "additive-combinatorics",
      "notation"
    ]
  },
  {
    "id": "ann-e29-representation",
    "proofId": "erdos-29",
    "range": {
      "startLine": 91,
      "endLine": 97
    },
    "type": "definition",
    "title": "Representation Function",
    "content": "**representationCount A n** = #{(a,b) ∈ A² : a + b = n}\n\nThis counts how many ways n can be written as a sum of two elements from A.\n\n**orderedRepCount** counts pairs with a ≤ b (avoiding double-counting).\n\nThe economical condition bounds this representation function.",
    "mathContext": "For ℕ itself, representationCount(n) = n + 1 (pairs (0,n), (1,n-1), ..., (n,0)). This is not economical!",
    "significance": "critical",
    "relatedConcepts": [
      "representation-function",
      "counting",
      "ncard"
    ]
  },
  {
    "id": "ann-e29-basis",
    "proofId": "erdos-29",
    "range": {
      "startLine": 99,
      "endLine": 117
    },
    "type": "theorem",
    "title": "Additive Basis Definition",
    "content": "**IsAdditiveBasis A**: Doubling A = Set.univ (A + A = ℕ)\n\n**CoversAll A**: Every n ∈ ℕ is in A + A\n\n**theorem additive_basis_iff**: IsAdditiveBasis A ↔ CoversAll A ✓\n\nTwo equivalent formulations of 'A is an additive basis of order 2'.",
    "mathContext": "Order 2 means sums of TWO elements. Higher orders (A + A + A, etc.) are studied separately. The Goldbach conjecture is about primes being a basis of order 2 for evens.",
    "significance": "key",
    "relatedConcepts": [
      "additive-basis",
      "order-2",
      "verified"
    ]
  },
  {
    "id": "ann-e29-economical",
    "proofId": "erdos-29",
    "range": {
      "startLine": 118,
      "endLine": 141
    },
    "type": "theorem",
    "title": "The Economical Condition (Verified)",
    "content": "**IsEconomical A**: For all ε > 0, r_A(n)/n^ε → 0 as n → ∞\n\n**IsEconomical' A**: For all ε > 0, C > 0, ∃ N₀: r_A(n) < C·n^ε for n ≥ N₀\n\n**theorem economical_equiv : IsEconomical A ↔ IsEconomical' A** ✓\n\nBoth formulations capture 'r_A(n) = o(n^ε) for all ε > 0'.",
    "mathContext": "This is subpolynomial growth - slower than any positive power of n. Much weaker than polynomial bounds but still very restrictive.",
    "significance": "critical",
    "relatedConcepts": [
      "little-o",
      "tendsto",
      "verified"
    ]
  },
  {
    "id": "ann-e29-statement",
    "proofId": "erdos-29",
    "range": {
      "startLine": 145,
      "endLine": 158
    },
    "type": "definition",
    "title": "The Problem Statement",
    "content": "**Erdos29Statement**: ∃ A : Set ℕ, IsAdditiveBasis A ∧ IsEconomical A\n\n**axiom erdos_probabilistic_existence**: This statement is true!\n\nErdős proved existence non-constructively using the probabilistic method:\n- Include n in A with probability n^(-1/2 + o(1))\n- With positive probability, the random set works",
    "mathContext": "Probabilistic existence proofs are powerful but don't tell you HOW to find the set. You know it exists but can't compute it.",
    "significance": "key",
    "relatedConcepts": [
      "probabilistic-method",
      "existence",
      "non-constructive"
    ]
  },
  {
    "id": "ann-e29-jpsz",
    "proofId": "erdos-29",
    "range": {
      "startLine": 160,
      "endLine": 184
    },
    "type": "theorem",
    "title": "The JPSZ Explicit Construction (2024)",
    "content": "**axiom JPSZ_set : Set ℕ** - The explicit construction\n**axiom JPSZ_is_basis : IsAdditiveBasis JPSZ_set** ✓\n**axiom JPSZ_is_economical : IsEconomical JPSZ_set** ✓\n\n**theorem erdos_29_solved : Erdos29Statement** ✓\n\nJain, Pham, Sawhney, Zakharov (2024) gave the first explicit economical basis after 90+ years!",
    "mathContext": "The JPSZ construction uses sophisticated combinatorial techniques from their arXiv:2405.08650 paper. The set is computable.",
    "significance": "critical",
    "relatedConcepts": [
      "explicit-construction",
      "jpsz-2024",
      "resolution"
    ]
  },
  {
    "id": "ann-e29-jpsz-properties",
    "proofId": "erdos-29",
    "range": {
      "startLine": 185,
      "endLine": 204
    },
    "type": "axiom",
    "title": "Properties of JPSZ Set",
    "content": "**HasDensityZero A**: |A ∩ [1,N]|/N → 0 as N → ∞\n\n**axiom JPSZ_density_zero**: The JPSZ set has density 0\n\n**axiom JPSZ_representation_bound**:\nr_A(n) ≤ exp(C√(log n)) for some constant C > 0\n\nThis bound is much stronger than just o(n^ε) - it's subpolynomial!",
    "mathContext": "exp(√(log n)) grows slower than any polynomial: for any ε > 0, exp(√(log n)) = o(n^ε). This is the key technical achievement.",
    "significance": "key",
    "relatedConcepts": [
      "density-zero",
      "subpolynomial",
      "representation-bound"
    ]
  },
  {
    "id": "ann-e29-univ",
    "proofId": "erdos-29",
    "range": {
      "startLine": 205,
      "endLine": 231
    },
    "type": "theorem",
    "title": "ℕ is a Basis but Not Economical (Verified)",
    "content": "**theorem univ_is_basis : IsAdditiveBasis Set.univ** ✓\n\nProof: n = 0 + n for all n ∈ ℕ.\n\n**theorem univ_not_economical : ¬IsEconomical Set.univ** ✓\n\nProof: r_ℕ(n) = n + 1, which is NOT o(n^ε) for ε < 1.\nThe ratio (n+1)/n^(1/2) → ∞, not 0!",
    "mathContext": "This shows 'economical' is a non-trivial constraint. The trivial basis ℕ fails spectacularly - linear representation count.",
    "significance": "key",
    "relatedConcepts": [
      "trivial-basis",
      "counterexample",
      "verified"
    ]
  },
  {
    "id": "ann-e29-squares",
    "proofId": "erdos-29",
    "range": {
      "startLine": 232,
      "endLine": 244
    },
    "type": "theorem",
    "title": "Squares Are Not a Basis (Verified)",
    "content": "**theorem squares_not_basis : ¬IsAdditiveBasis {n : ℕ | ∃ k, n = k²}** ✓\n\n**Proof**: 3 cannot be written as a sum of two squares!\n- Squares ≤ 3 are: 0, 1\n- Possible sums: 0+0=0, 0+1=1, 1+1=2\n- No combination gives 3\n\nUses `interval_cases` for exhaustive case analysis.",
    "mathContext": "This is different from Lagrange's four-square theorem (every n is sum of FOUR squares). Two squares don't suffice.",
    "significance": "supporting",
    "relatedConcepts": [
      "sum-of-squares",
      "counterexample",
      "interval_cases"
    ]
  },
  {
    "id": "ann-e29-sidon",
    "proofId": "erdos-29",
    "range": {
      "startLine": 246,
      "endLine": 323
    },
    "type": "theorem",
    "title": "Sidon Sets Cannot Be Bases (Verified)",
    "content": "**IsSidon A**: orderedRepCount A n ≤ 1 for all n\n(Each sum has at most one representation)\n\n**theorem sidon_not_basis (hS : IsSidon A) : ¬IsAdditiveBasis A** ✓\n\n**Proof** (by contradiction): If A is both Sidon and a basis:\n1. 0, 1 ∈ A (to represent 0, 1)\n2. 2 ∉ A (else orderedRepCount 2 ≥ 2 via (0,2) and (1,1))\n3. 3 ∈ A (to represent 3 without 2)\n4. Similarly derive 4 ∉ A, 5 ∈ A, 6 ∉ A\n5. But 6 = 1+5 = 3+3, giving two representations → contradiction!",
    "mathContext": "Sidon sets (also called B₂ sequences) have |A ∩ [1,N]| ≤ √N + O(1). They're too thin to be bases - fundamentally different constraint.",
    "significance": "critical",
    "relatedConcepts": [
      "sidon-set",
      "B2-sequence",
      "verified"
    ]
  },
  {
    "id": "ann-e29-explicit-class",
    "proofId": "erdos-29",
    "range": {
      "startLine": 329,
      "endLine": 356
    },
    "type": "definition",
    "title": "Explicit Sets",
    "content": "**class ExplicitSet (A : Set ℕ)**: A set is explicit if membership is decidable.\n\n```lean\nclass ExplicitSet (A : Set ℕ) where\n  membership_decidable : DecidablePred (· ∈ A)\n```\n\n**axiom JPSZ_explicit : ExplicitSet JPSZ_set**\n\nThis formalizes the key distinction:\n- Erdős: ∃ A (non-constructive)\n- JPSZ: Here is A explicitly (constructive, computable)",
    "mathContext": "Decidable membership means there's an algorithm to check n ∈ A. This is what makes the construction 'explicit' rather than just existential.",
    "significance": "key",
    "relatedConcepts": [
      "decidable",
      "computable",
      "constructive"
    ]
  },
  {
    "id": "ann-e29-lower-bound",
    "proofId": "erdos-29",
    "range": {
      "startLine": 358,
      "endLine": 422
    },
    "type": "theorem",
    "title": "Size Lower Bounds",
    "content": "**theorem basis_size_lower_bound** (claimed): |A ∩ [1,N]| ≥ √N for any basis A\n\n**But Aristotle found a counterexample!**\n- A = {0, 1} ∪ {n | n ≥ 3} is a basis\n- |A ∩ [1,2]| = 1 < √2 ≈ 1.41\n\n**axiom JPSZ_size_optimal**:\n|JPSZ_set ∩ [1,N]| ≤ C · √N · √(log N)\n\nThe JPSZ construction is essentially optimal in size.",
    "mathContext": "The naive lower bound √N fails for small N. A more careful statement would need 'for large N' or weaker coefficients.",
    "significance": "supporting",
    "relatedConcepts": [
      "size-bounds",
      "counterexample",
      "optimal"
    ]
  },
  {
    "id": "ann-e29-jpsz-middle",
    "proofId": "erdos-29",
    "range": {
      "startLine": 324,
      "endLine": 328
    },
    "type": "concept",
    "title": "The Middle Ground",
    "content": "**The JPSZ construction is a 'Goldilocks' set**:\n\n| Set Type | Basis? | Economical? |\n|----------|--------|-------------|\n| ℕ (too thick) | Yes | No (r(n) = n+1) |\n| Sidon (too thin) | No | Yes (r(n) ≤ 2) |\n| **JPSZ** | **Yes** | **Yes** |\n\nNot too thick, not too thin - just right!",
    "mathContext": "Finding this middle ground took 90 years. The key insight is balancing coverage (basis) with sparsity (economical).",
    "significance": "key",
    "relatedConcepts": [
      "balance",
      "goldilocks",
      "optimal-construction"
    ]
  },
  {
    "id": "ann-e29-summary",
    "proofId": "erdos-29",
    "range": {
      "startLine": 423,
      "endLine": 452
    },
    "type": "concept",
    "title": "Summary and Status",
    "content": "**Erdős Problem #29: SOLVED** ($100 prize)\n\n**Timeline**:\n- 1932: Sidon asks Erdős\n- ~1950s: Erdős proves existence (probabilistic)\n- **2024: JPSZ give explicit construction**\n\n**JPSZ Set Properties**:\n- Explicit and computable ✓\n- A + A = ℕ (additive basis) ✓\n- r_A(n) ≤ exp(C√(log n)) (economical) ✓\n- |A ∩ [1,N]| ≈ √N · √(log N) (optimal size) ✓\n\n**Verified theorems**: economical_equiv, univ_not_economical, squares_not_basis, sidon_not_basis",
    "mathContext": "90+ years from question to complete constructive answer. A landmark result in additive combinatorics.",
    "significance": "critical",
    "relatedConcepts": [
      "problem-status",
      "solved",
      "timeline"
    ]
  }
]
