[
  {
    "id": "ann-e699-header",
    "proofId": "erdos-699",
    "range": { "startLine": 1, "endLine": 24 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #699** asks about prime divisors shared by two binomial coefficients. Given 1 ≤ i < j ≤ n/2, does there exist a prime p ≥ i that divides gcd(C(n,i), C(n,j))?\n\nThis extends the Sylvester-Schur theorem from single binomial coefficients to their GCDs.",
    "mathContext": "The problem is classified as **OPEN** and **falsifiable** — a single counterexample (n, i, j) would disprove it. The Erdős-Szekeres strengthening asks if p > i (strict) holds except for finitely many cases.",
    "significance": "critical",
    "relatedConcepts": ["binomial-coefficients", "gcd", "prime-divisors", "open-problem"]
  },
  {
    "id": "ann-e699-imports",
    "proofId": "erdos-699",
    "range": { "startLine": 26, "endLine": 30 },
    "type": "concept",
    "title": "Imports and Setup",
    "content": "We import **Mathlib** for binomial coefficients (`Nat.choose`), GCD (`Nat.gcd`), and primality (`Nat.Prime`). The `open Nat` command brings these into scope.",
    "mathContext": "Key dependencies: Nat.choose for C(n,k), Nat.gcd for greatest common divisor, and Nat.Prime for the primality predicate.",
    "significance": "supporting",
    "relatedConcepts": ["mathlib", "imports", "binomial"]
  },
  {
    "id": "ann-e699-sylvester-schur",
    "proofId": "erdos-699",
    "range": { "startLine": 32, "endLine": 48 },
    "type": "axiom",
    "title": "Sylvester-Schur Theorem",
    "content": "**sylvester_schur** axiomatizes a classical result: for 1 ≤ i ≤ n/2, there exists a prime p > i dividing C(n,i).\n\nThis theorem says that binomial coefficients always have 'large' prime factors — primes greater than the smaller index.",
    "mathContext": "Proved independently by Sylvester (1892) and Schur (1929). The proof analyzes the product n(n-1)...(n-i+1)/i! and shows it must have a prime factor > i.\n\nThis is the foundation for Problem #699: if single coefficients have large primes, do GCDs also?",
    "significance": "critical",
    "relatedConcepts": ["sylvester-schur", "prime-factors", "binomial-coefficients"]
  },
  {
    "id": "ann-e699-definitions",
    "proofId": "erdos-699",
    "range": { "startLine": 50, "endLine": 66 },
    "type": "definition",
    "title": "Common Large Prime Definitions",
    "content": "**HasCommonLargePrime n i j** means: there exists a prime p ≥ i that divides gcd(C(n,i), C(n,j)).\n\n**HasCommonStrictlyLargePrime n i j** uses p > i (strict inequality).\n\nThe main conjecture uses the weak form (p ≥ i). The Erdős-Szekeres strengthening uses the strict form.",
    "mathContext": "The distinction matters: for (28, 5, 14), the GCD = 1080 = 2³·3³·5 has max prime 5 = i. This satisfies p ≥ i but NOT p > i.",
    "significance": "critical",
    "relatedConcepts": ["predicate", "gcd", "prime-divisibility"]
  },
  {
    "id": "ann-e699-statement",
    "proofId": "erdos-699",
    "range": { "startLine": 68, "endLine": 78 },
    "type": "definition",
    "title": "The Open Problem Statement",
    "content": "**erdos_699_statement** is the formal conjecture:\n\n∀ n i j, 1 ≤ i → i < j → j ≤ n/2 → HasCommonLargePrime n i j\n\nThis asks: for all valid triples, does a common large prime exist in the GCD?",
    "mathContext": "The condition j ≤ n/2 comes from symmetry of binomial coefficients: C(n,k) = C(n, n-k). We only need to consider k ≤ n/2.",
    "significance": "critical",
    "relatedConcepts": ["open-problem", "universal-quantification", "erdos"]
  },
  {
    "id": "ann-e699-erdos-szekeres",
    "proofId": "erdos-699",
    "range": { "startLine": 80, "endLine": 99 },
    "type": "definition",
    "title": "Erdős-Szekeres Strengthening",
    "content": "**erdos_szekeres_conjecture** is the stronger claim:\n\nExcept for finitely many exceptional triples E, the strict condition p > i holds.\n\nKnown exceptions:\n• i = 2 with certain powers of 2\n• Several cases when i = 3\n• One case for i ≥ 4: (28, 5, 14)",
    "mathContext": "The triple (28, 5, 14) is the only known exception with i ≥ 4. Its GCD = 1080 = 2³·3³·5 has maximum prime factor exactly 5 = i.",
    "significance": "key",
    "relatedConcepts": ["strengthening", "finite-exceptions", "erdos-szekeres"]
  },
  {
    "id": "ann-e699-example-small",
    "proofId": "erdos-699",
    "range": { "startLine": 101, "endLine": 125 },
    "type": "theorem",
    "title": "Verified Example: n=6, i=2, j=3",
    "content": "We verify **gcd(C(6,2), C(6,3)) = gcd(15, 20) = 5**.\n\nSince 5 ≥ 2 is prime and 5 | gcd, the conjecture holds for this triple.\n\nNote: 5 > 2, so the strict version also holds here.",
    "mathContext": "Computation: C(6,2) = 15 = 3·5, C(6,3) = 20 = 2²·5. GCD = 5.\n\nThe shared factor 5 satisfies both p ≥ i and p > i (since 5 > 2).",
    "significance": "supporting",
    "relatedConcepts": ["verification", "native_decide", "gcd-computation"]
  },
  {
    "id": "ann-e699-example-medium",
    "proofId": "erdos-699",
    "range": { "startLine": 127, "endLine": 146 },
    "type": "theorem",
    "title": "Verified Example: n=10, i=2, j=5",
    "content": "We verify **gcd(C(10,2), C(10,5)) = gcd(45, 252) = 9 = 3²**.\n\nThe prime factor 3 ≥ 2 divides the GCD, confirming the conjecture for this triple.\n\nSince 3 > 2, the strict version also holds.",
    "mathContext": "Computation: C(10,2) = 45 = 3²·5, C(10,5) = 252 = 2²·3²·7. GCD = 9 = 3².\n\nInterestingly, 45 has the large prime 5, and 252 has 7, but they share only 3.",
    "significance": "supporting",
    "relatedConcepts": ["verification", "different-large-primes"]
  },
  {
    "id": "ann-e699-counterexample-setup",
    "proofId": "erdos-699",
    "range": { "startLine": 148, "endLine": 167 },
    "type": "theorem",
    "title": "The Critical Counterexample: Setup",
    "content": "We compute the key values for (n, i, j) = (28, 5, 14):\n\n• C(28, 5) = 98280\n• C(28, 14) = 40116600\n• gcd = 1080 = 2³ · 3³ · 5",
    "mathContext": "This GCD has only three prime factors: 2, 3, and 5. The largest is 5, which equals i.\n\nThis means there is NO prime p > 5 = i in the GCD — a counterexample to the strict form!",
    "significance": "critical",
    "relatedConcepts": ["counterexample", "factorization", "critical-case"]
  },
  {
    "id": "ann-e699-max-prime",
    "proofId": "erdos-699",
    "range": { "startLine": 169, "endLine": 180 },
    "type": "theorem",
    "title": "Maximum Prime of 1080",
    "content": "**max_prime_1080_is_5** states: any prime dividing 1080 is ≤ 5.\n\nSince 1080 = 2³ × 3³ × 5, the only prime factors are 2, 3, and 5.\n\n(This is stated with a sorry for the factorization check.)",
    "mathContext": "This lemma is the key to proving (28, 5, 14) is a counterexample. If any prime p | 1080, then p ∈ {2, 3, 5}, so p ≤ 5.",
    "significance": "key",
    "relatedConcepts": ["prime-factorization", "bound", "1080"]
  },
  {
    "id": "ann-e699-weak-satisfied",
    "proofId": "erdos-699",
    "range": { "startLine": 182, "endLine": 190 },
    "type": "theorem",
    "title": "Weak Version Satisfied",
    "content": "**example_28_5_14_weak** shows HasCommonLargePrime 28 5 14:\n\nThe prime 5 ≥ 5 divides gcd(C(28,5), C(28,14)) = 1080.\n\nSo the weak conjecture (p ≥ i) holds for this triple.",
    "mathContext": "The witness prime p = 5 satisfies: 5 is prime, 5 ≥ 5 = i, and 5 | 1080.",
    "significance": "key",
    "relatedConcepts": ["weak-version", "satisfied", "witness"]
  },
  {
    "id": "ann-e699-strong-failed",
    "proofId": "erdos-699",
    "range": { "startLine": 192, "endLine": 204 },
    "type": "theorem",
    "title": "Strong Version Failed",
    "content": "**counterexample_28_5_14_strong** proves ¬HasCommonStrictlyLargePrime 28 5 14:\n\nSuppose prime p > 5 divides gcd = 1080. By max_prime_1080_is_5, p ≤ 5. Contradiction!\n\nSo (28, 5, 14) is a counterexample to the strict form.",
    "mathContext": "The proof by contradiction: assume p > 5 and p | 1080. Since 1080 = 2³·3³·5, any prime divisor p ∈ {2, 3, 5}, so p ≤ 5 < 5+1. This contradicts p > 5.",
    "significance": "critical",
    "relatedConcepts": ["counterexample", "strict-version", "proof-by-contradiction"]
  },
  {
    "id": "ann-e699-why-hard",
    "proofId": "erdos-699",
    "range": { "startLine": 206, "endLine": 210 },
    "type": "concept",
    "title": "Why Sylvester-Schur Doesn't Directly Help",
    "content": "Sylvester-Schur gives: ∃ p > i with p | C(n,i), and ∃ q > j with q | C(n,j).\n\nBut p and q might be different primes! The GCD only contains *common* divisors.\n\nFor (28, 5, 14): C(28,5) and C(28,14) each have large prime factors, but they share only {2, 3, 5}.",
    "mathContext": "This illustrates a key insight: knowing each object has a certain property doesn't mean their combination shares it. The 'large primes' of different coefficients can cancel in the GCD.",
    "significance": "key",
    "relatedConcepts": ["intersection", "gcd-structure", "insight"]
  }
]
