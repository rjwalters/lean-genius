{
  "id": "erdos-1105",
  "title": "Erdős Problem #1105: Anti-Ramsey Numbers for Cycles and Paths",
  "slug": "erdos-1105",
  "description": "Determine exact formulas for the anti-Ramsey numbers AR(n, C_k) and AR(n, P_k), where AR(n,G) is the maximum number of colors in a rainbow-G-free edge-coloring of K_n.",
  "meta": {
    "author": "Erdős",
    "sourceUrl": "https://erdosproblems.com/1105",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos1105Problem.lean",
    "tags": [
      "erdos",
      "graph-theory",
      "ramsey-theory",
      "anti-ramsey",
      "combinatorics",
      "coloring",
      "open"
    ],
    "badge": "axiom",
    "sorries": 1,
    "erdosNumber": 1105,
    "erdosUrl": "https://erdosproblems.com/1105",
    "erdosProblemStatus": "open",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Finset",
        "description": "Finite sets for vertex and edge collections",
        "module": "Mathlib.Data.Finset.Basic"
      },
      {
        "theorem": "Nat.choose",
        "description": "Binomial coefficients for edge counts",
        "module": "Mathlib.Data.Nat.Choose.Basic"
      },
      {
        "theorem": "sSup",
        "description": "Supremum for defining anti-Ramsey numbers",
        "module": "Mathlib.Order.ConditionallyCompleteLattice.Basic"
      }
    ],
    "originalContributions": [
      "SimpleGraph definition: adjacency relation on Fin n",
      "CompleteGraph definition: K_n on n vertices",
      "PathGraph definition: P_k as linear path",
      "CycleGraph definition: C_k as cycle",
      "GraphEmbedding structure: injective vertex map preserving edges",
      "IsRainbow definition: all edge colors distinct",
      "AvoidsRainbow definition: no rainbow subgraph",
      "antiRamsey definition: max colors in rainbow-free coloring",
      "arCycle, arPath specializations",
      "cycleCoeff definition: (k-2)/2 + 1/(k-1)",
      "CycleConjecture definition: asymptotic formula",
      "pathL, pathEpsilon, pathFormula definitions",
      "PathConjecture definition: exact formula",
      "ar_triangle axiom: AR(n, C_3) = n - 1",
      "simonovits_sos_path axiom: holds for n >= ck^2",
      "yuan_path_announced axiom",
      "turan definition: extremal graph theory connection"
    ]
  },
  "overview": {
    "historicalContext": "Erdős, Simonovits, and Sós introduced anti-Ramsey theory in their 1975 paper, asking for the maximum number of colors in an edge-coloring of K_n that avoids a rainbow (all-distinct-colors) copy of a given graph G.\n\nThe problem connects Ramsey theory (which minimizes colors to force monochromatic subgraphs) with extremal graph theory. While classical Ramsey theory asks 'how many colors before monochromatic H?', anti-Ramsey asks 'how many colors while avoiding rainbow H?'\n\nThe case AR(n, C_3) = n - 1 was proven in the original paper. The general cycle formula remains open, while the path formula has seen recent progress with Yuan's 2021 announcement.",
    "problemStatement": "**Problem Statement (OPEN)**\n\n**For cycles (C_k):** Is it true that\n$$\\mathrm{AR}(n, C_k) = \\left(\\frac{k-2}{2} + \\frac{1}{k-1}\\right)n + O(1)?$$\n\n**For paths (P_k):** If n ≥ k ≥ 5, is\n$$\\mathrm{AR}(n, P_k) = \\max\\left(\\binom{k-2}{2}+1, \\binom{\\ell-1}{2}+(\\ell-1)(n-\\ell+1)+\\epsilon\\right)$$\nwhere ℓ = ⌊(k-1)/2⌋, ε = 1 for odd k, ε = 2 for even k?\n\n**Definitions:**\n- AR(n,G) = max colors in a rainbow-G-free edge-coloring of K_n\n- Rainbow copy: all edges have distinct colors",
    "proofStrategy": "**Formalization Approach**\n\n1. **Graph Basics:** Define SimpleGraph as adjacency relation on Fin n, with CompleteGraph K_n\n\n2. **Paths and Cycles:** PathGraph P_k and CycleGraph C_k as specific structures\n\n3. **Embeddings:** GraphEmbedding structure for copies of H in K_n\n\n4. **Rainbow:** IsRainbow and AvoidsRainbow predicates\n\n5. **Anti-Ramsey:** antiRamsey n k H as supremum over valid colorings\n\n6. **Conjectures:** CycleConjecture (asymptotic) and PathConjecture (exact)",
    "keyInsights": [
      "**Anti-Ramsey vs Ramsey:** Opposite extremal questions - Ramsey minimizes colors to force monochromatic, anti-Ramsey maximizes to avoid rainbow",
      "**Cycle Formula:** Linear in n with coefficient (k-2)/2 + 1/(k-1), known exactly for k=3",
      "**Path Formula:** Explicit with two cases depending on n and k, involving binomial terms",
      "**Turán Connection:** AR(n,H) ≥ ex(n,H) + 1 links to extremal graph theory",
      "**Recent Progress:** Yuan (2021) announced full path formula proof for n ≥ k ≥ 5"
    ]
  },
  "sections": [
    {
      "id": "graph-basics",
      "title": "Graph Basics",
      "summary": "SimpleGraph, EdgeSet, CompleteGraph, numEdgesKn, EdgeColoring, numColors",
      "startLine": 34,
      "endLine": 59
    },
    {
      "id": "paths-cycles",
      "title": "Paths and Cycles",
      "summary": "PathGraph, CycleGraph, numEdgesPath, numEdgesCycle",
      "startLine": 61,
      "endLine": 79
    },
    {
      "id": "rainbow",
      "title": "Rainbow Subgraphs",
      "summary": "GraphEmbedding, embeddedEdges, IsRainbow, AvoidsRainbow",
      "startLine": 81,
      "endLine": 109
    },
    {
      "id": "anti-ramsey",
      "title": "Anti-Ramsey Numbers",
      "summary": "antiRamsey, arCycle, arPath definitions",
      "startLine": 111,
      "endLine": 126
    },
    {
      "id": "cycle-conjecture",
      "title": "The Cycle Conjecture",
      "summary": "cycleCoeff, CycleConjecture, ar_triangle",
      "startLine": 128,
      "endLine": 147
    },
    {
      "id": "path-conjecture",
      "title": "The Path Conjecture",
      "summary": "pathL, pathEpsilon, pathFormula, PathConjecture, simonovits_sos_path, yuan_path_announced",
      "startLine": 149,
      "endLine": 182
    },
    {
      "id": "bounds",
      "title": "Lower and Upper Bounds",
      "summary": "ar_lower_bound, ar_upper_bound, ar_mono_n",
      "startLine": 184,
      "endLine": 201
    },
    {
      "id": "turan",
      "title": "Connection to Turán Numbers",
      "summary": "turan definition, ar_turan_lower",
      "startLine": 203,
      "endLine": 219
    },
    {
      "id": "special-cases",
      "title": "Special Cases",
      "summary": "ar_triangle, ar_path_3, ar_k3",
      "startLine": 221,
      "endLine": 234
    },
    {
      "id": "status",
      "title": "Problem Status",
      "summary": "erdos_1105_status, erdos_1105_cycle_statement, erdos_1105_path_statement",
      "startLine": 236,
      "endLine": 273
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #1105 asks for exact formulas for anti-Ramsey numbers AR(n, C_k) and AR(n, P_k). The cycle formula is conjectured to be linear in n with a specific coefficient depending on k. The path formula is an explicit maximum of two terms.",
    "implications": "Understanding anti-Ramsey numbers illuminates the structure of rainbow-free colorings and connects Ramsey theory with extremal graph theory. The Turán connection shows AR(n,H) bounds are related to H-free graphs.",
    "openQuestions": [
      "Is AR(n, C_k) = ((k-2)/2 + 1/(k-1))n + O(1) for all k ≥ 3?",
      "Is the path formula exact for all n ≥ k ≥ 5?",
      "What are the exact O(1) constants in the cycle formula?",
      "How does AR(n, G) behave for general graphs G?",
      "What is the relationship between AR(n, G) and chromatic properties?"
    ]
  }
}
