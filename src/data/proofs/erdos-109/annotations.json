[
  {
    "id": "ann-e109-header",
    "proofId": "erdos-109",
    "range": {
      "startLine": 1,
      "endLine": 23
    },
    "type": "concept",
    "title": "Problem Statement and History",
    "content": "The **Erdős Sumset Conjecture** asks whether sets of positive density contain infinite sumsets B + C. This was a major open problem connecting density to additive structure.",
    "mathContext": "The problem was posed by Erdős and solved by Moreira, Richter, and Robertson in 2019, published in the Annals of Mathematics. Related to Problem #656.",
    "significance": "supporting",
    "relatedConcepts": [
      "Erdős",
      "sumsets",
      "density"
    ]
  },
  {
    "id": "ann-e109-counting-fn",
    "proofId": "erdos-109",
    "range": {
      "startLine": 33,
      "endLine": 35
    },
    "type": "definition",
    "title": "Counting Function",
    "content": "The **counting function** countingFn(A, N) counts how many elements of A lie in {1,...,N}. This is the fundamental building block for defining density.",
    "mathContext": "Defined as `Set.ncard (A ∩ Set.Icc 1 N)` — the cardinality of the intersection of A with the interval [1, N].",
    "significance": "key",
    "relatedConcepts": [
      "cardinality",
      "density",
      "intervals"
    ]
  },
  {
    "id": "ann-e109-upper-density",
    "proofId": "erdos-109",
    "range": {
      "startLine": 37,
      "endLine": 43
    },
    "type": "definition",
    "title": "Upper and Lower Density",
    "content": "**Upper density** uses limsup: it captures the 'best case' proportion of A in {1,...,N} as N grows. **Lower density** uses liminf. A set has 'asymptotic density' if these are equal.",
    "mathContext": "Upper density = limsup_{N→∞} |A ∩ {1,...,N}|/N. For the even numbers, both densities equal 1/2. For {1, 10, 100, 1000, ...}, upper density is 0.",
    "significance": "critical",
    "relatedConcepts": [
      "limsup",
      "liminf",
      "asymptotic density"
    ]
  },
  {
    "id": "ann-e109-density-ordering",
    "proofId": "erdos-109",
    "range": {
      "startLine": 53,
      "endLine": 93
    },
    "type": "theorem",
    "title": "Lower Density ≤ Upper Density",
    "content": "A **fully verified theorem**: lower density is always at most upper density. This follows from the general fact that liminf ≤ limsup for bounded sequences.",
    "mathContext": "The proof shows the density sequence is bounded in [0, 1], then applies the general filter inequality. This is non-trivial Lean code working with Filter.liminf_le_limsup.",
    "significance": "key",
    "relatedConcepts": [
      "liminf ≤ limsup",
      "bounded sequences",
      "filters"
    ]
  },
  {
    "id": "ann-e109-sumset",
    "proofId": "erdos-109",
    "range": {
      "startLine": 97,
      "endLine": 116
    },
    "type": "definition",
    "title": "Sumset Definition",
    "content": "The **sumset** B + C (written B +ₛ C) contains all sums b + c with b ∈ B and c ∈ C. We prove basic properties: zero membership when both contain zero, and commutativity.",
    "mathContext": "Formally: `Sumset B C = { n | ∃ b ∈ B, ∃ c ∈ C, n = b + c }`. The custom notation +ₛ distinguishes from Mathlib's pointwise addition.",
    "significance": "key",
    "relatedConcepts": [
      "sumsets",
      "additive combinatorics",
      "pointwise operations"
    ]
  },
  {
    "id": "ann-e109-conjecture",
    "proofId": "erdos-109",
    "range": {
      "startLine": 120,
      "endLine": 131
    },
    "type": "definition",
    "title": "The Erdős Sumset Conjecture",
    "content": "**ErdosSumsetConjecture**: For all A ⊆ ℕ with positive upper density, there exist infinite sets B and C such that B + C ⊆ A. This is the formal statement of Erdős's question.",
    "mathContext": "The conjecture connects two seemingly different concepts: asymptotic density (an analytic notion) and sumset structure (an algebraic notion).",
    "significance": "critical",
    "relatedConcepts": [
      "Erdős conjecture",
      "density",
      "infinite sumsets"
    ]
  },
  {
    "id": "ann-e109-axiom",
    "proofId": "erdos-109",
    "range": {
      "startLine": 133,
      "endLine": 143
    },
    "type": "axiom",
    "title": "Moreira-Richter-Robertson Theorem",
    "content": "**The main result**: The Erdős Sumset Conjecture is TRUE. This is axiomatized because the proof uses deep ergodic theory: Furstenberg correspondence, IP-sets, and polynomial recurrence.",
    "mathContext": "Published in Ann. of Math. (2) 189(2):605-652, 2019. The 47-page proof uses measure-preserving systems and sophisticated dynamical arguments.",
    "significance": "critical",
    "relatedConcepts": [
      "ergodic theory",
      "Furstenberg correspondence",
      "IP-sets"
    ]
  },
  {
    "id": "ann-e109-infinite-consequence",
    "proofId": "erdos-109",
    "range": {
      "startLine": 147,
      "endLine": 182
    },
    "type": "theorem",
    "title": "Consequences: Infinite Sumsets Force Infinity",
    "content": "**Key consequence**: If A contains an infinite sumset B + C, then A is infinite. Combined with the main theorem: sets of positive density are infinite (a non-trivial fact!).",
    "mathContext": "The proof shows B + C is infinite when B and C are (via the injection c ↦ b + c for fixed b), then A ⊇ B + C implies A infinite.",
    "significance": "key",
    "relatedConcepts": [
      "infinite sets",
      "injection",
      "corollaries"
    ]
  },
  {
    "id": "ann-e109-naturals-density",
    "proofId": "erdos-109",
    "range": {
      "startLine": 211,
      "endLine": 246
    },
    "type": "theorem",
    "title": "Verified: ℕ Has Full Density",
    "content": "**Concrete verification**: The natural numbers have density 1 (the full set). This requires proving that |{1,...,N}|/N → 1, which we do using Filter.le_limsup_of_frequently_le.",
    "mathContext": "The proof computes |Icc 1 N| = N using ncard and Nat.card_Icc, then shows the ratio equals 1 for all N ≥ 1.",
    "significance": "supporting",
    "relatedConcepts": [
      "density 1",
      "verification",
      "limsup"
    ]
  },
  {
    "id": "ann-e109-even-example",
    "proofId": "erdos-109",
    "range": {
      "startLine": 248,
      "endLine": 283
    },
    "type": "theorem",
    "title": "Even Numbers Example",
    "content": "**Concrete example**: The even numbers have positive density (1/2) and satisfy the conjecture with B = C = evens. We prove evenNumbers_infinite and even + even ⊆ even.",
    "mathContext": "The sum of two even numbers is even: if b = 2k and c = 2j, then b + c = 2(k+j). This gives a complete worked example of the conjecture.",
    "significance": "key",
    "relatedConcepts": [
      "even numbers",
      "examples",
      "verification"
    ]
  }
]
