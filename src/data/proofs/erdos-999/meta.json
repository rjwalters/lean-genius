{
  "id": "erdos-999",
  "title": "Erdős Problem #999: The Duffin-Schaeffer Conjecture",
  "slug": "erdos-999",
  "description": "For any f: ℕ → ℕ, almost all α have infinitely many coprime approximations |α - p/q| < f(q)/q iff ∑ φ(q)·f(q)/q = ∞. SOLVED by Koukoulopoulos-Maynard (2020) after 79 years!",
  "meta": {
    "author": "Duffin-Schaeffer (1941), Erdős (partial), Koukoulopoulos-Maynard (2020)",
    "sourceUrl": "https://erdosproblems.com/999",
    "date": "2020",
    "status": "formalized",
    "proofRepoPath": "Proofs/Erdos999Problem.lean",
    "tags": [
      "erdos",
      "diophantine-approximation",
      "metric-number-theory",
      "measure-theory",
      "eulers-totient",
      "solved"
    ],
    "badge": "mathlib",
    "sorries": 2,
    "erdosNumber": 999,
    "erdosUrl": "https://erdosproblems.com/999",
    "erdosProblemStatus": "solved"
  },
  "overview": {
    "historicalContext": "The Duffin-Schaeffer conjecture (1941) was one of the most famous open problems in metric number theory for nearly 80 years. It generalizes Khintchine's theorem (1924) to non-monotone approximation functions. Erdős proved the special case where f(q)·q is bounded. The easy direction (approximability implies divergence) follows from Borel-Cantelli. The hard direction was finally proved by Dimitris Koukoulopoulos and James Maynard in 2020, published in the Annals of Mathematics.",
    "problemStatement": "For any function f: ℕ → ℕ, the following are equivalent: (1) For almost all α ∈ [0,1], there exist infinitely many coprime pairs (p,q) with |α - p/q| < f(q)/q; (2) The series ∑_{q≥1} φ(q)·f(q)/q diverges. Here φ is Euler's totient function.",
    "proofStrategy": "The formalization defines approximability, the Duffin-Schaeffer sum, and the divergence/convergence conditions. It axiomatizes Koukoulopoulos-Maynard 2020 as the main theorem, includes Erdős's partial result for bounded f·q, states the zero-one law, and connects to Khintchine's theorem for monotone functions. The proof uses sophisticated graph-theoretic arguments on the GCD graph.",
    "keyInsights": [
      "The coprimality condition (p,q)=1 is essential - without it, the equivalence fails",
      "The φ(q) factor counts reduced fractions with denominator q",
      "Easy direction: Borel-Cantelli shows approximability implies divergence",
      "Hard direction: Required 79 years and graph-theoretic innovations",
      "Zero-one law: Either almost all or almost no reals are infinitely approximable",
      "Generalizes Khintchine (1924) to non-monotone approximation functions"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "startLine": 45,
      "endLine": 62,
      "summary": "Euler's totient, approximability, and infinite approximability."
    },
    {
      "id": "divergence-condition",
      "title": "The Divergence Condition",
      "startLine": 64,
      "endLine": 78,
      "summary": "The Duffin-Schaeffer sum and divergence/convergence."
    },
    {
      "id": "measure-theory",
      "title": "Measure-Theoretic Formulation",
      "startLine": 80,
      "endLine": 94,
      "summary": "Almost all, almost none, and the measure-theoretic setup."
    },
    {
      "id": "main-conjecture",
      "title": "The Duffin-Schaeffer Conjecture",
      "startLine": 96,
      "endLine": 110,
      "summary": "The conjecture statement and both directions."
    },
    {
      "id": "erdos-partial",
      "title": "Erdős's Partial Result",
      "startLine": 112,
      "endLine": 122,
      "summary": "Erdős proved the case when f(q)·q is bounded."
    },
    {
      "id": "koukoulopoulos-maynard",
      "title": "Koukoulopoulos-Maynard Theorem (2020)",
      "startLine": 124,
      "endLine": 137,
      "summary": "The full conjecture proved after 79 years."
    },
    {
      "id": "consequences",
      "title": "Consequences and Special Cases",
      "startLine": 139,
      "endLine": 164,
      "summary": "Zero-one law, convergence case, continued fractions."
    },
    {
      "id": "khintchine",
      "title": "Khintchine's Theorem",
      "startLine": 166,
      "endLine": 181,
      "summary": "The 1924 result for monotone functions."
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 237,
      "endLine": 265,
      "summary": "Complete summary and main theorem statements."
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #999 (the Duffin-Schaeffer conjecture) is SOLVED. Koukoulopoulos and Maynard (2020) proved that for any f: ℕ → ℕ, almost all reals have infinitely many coprime rational approximations with error < f(q)/q if and only if ∑ φ(q)·f(q)/q = ∞. This landmark result in metric number theory took 79 years to prove.",
    "implications": "This result settles a fundamental question in Diophantine approximation: exactly when can 'typical' real numbers be well-approximated by rationals? It provides a complete characterization via a simple divergence condition, extending Khintchine's classical theorem.",
    "openQuestions": [
      "Effective versions: explicit bounds on the exceptional set",
      "Higher-dimensional analogues (simultaneous approximation)",
      "Quantitative forms of the theorem",
      "Connections to other problems in metric number theory"
    ]
  }
}
