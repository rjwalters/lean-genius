{
  "id": "erdos-107",
  "title": "Erdős Problem #107: The Happy Ending Problem",
  "slug": "erdos-107",
  "description": "Let f(n) be minimal such that any f(n) points in ℝ², no three collinear, contain n points forming a convex n-gon. The conjecture f(n) = 2^{n-2} + 1 remains OPEN.",
  "meta": {
    "author": "Erdős-Szekeres",
    "sourceUrl": "https://erdosproblems.com/107",
    "date": "1935",
    "status": "formalized",
    "proofRepoPath": "Proofs/Erdos107Problem.lean",
    "tags": [
      "erdos",
      "combinatorial-geometry",
      "ramsey-theory",
      "convex-geometry"
    ],
    "badge": "formalized",
    "sorries": 5,
    "erdosNumber": 107,
    "erdosUrl": "https://erdosproblems.com/107",
    "erdosProblemStatus": "open",
    "erdosPrizeValue": "$500"
  },
  "overview": {
    "historicalContext": "The 'Happy Ending Problem' was so named because Szekeres and Klein, who worked on it together, ended up getting married. Klein observed f(4)=5 in 1931. Erdős and Szekeres established foundational bounds in 1935 and 1960. The conjecture that f(n) = 2^{n-2}+1 remains one of the most famous open problems in combinatorial geometry.",
    "problemStatement": "Let f(n) be minimal such that any f(n) points in ℝ², no three on a line, contain n points which form the vertices of a convex n-gon. Prove that f(n) = 2^{n-2} + 1.",
    "proofStrategy": "The formalization defines convex n-gons via the convex hull property (each point is a vertex of the hull), states the known bounds as axioms (Erdős-Szekeres lower/upper, Suk 2017, HMPT 2020), and expresses the main conjecture as a Prop without asserting its truth value since it remains open.",
    "keyInsights": [
      "Erdős-Szekeres (1960) proved the lower bound 2^{n-2}+1 ≤ f(n) via explicit construction",
      "Erdős-Szekeres (1935) proved upper bound f(n) ≤ C(2n-4,n-2)+1 using Ramsey theory",
      "Suk (2017) breakthrough: f(n) ≤ 2^{(1+o(1))n}",
      "HMPT (2020) current best: f(n) ≤ 2^{n+O(√(n log n))}",
      "Gap between 2^{n-2}+1 and 2^{n+O(√(n log n))} remains open"
    ]
  },
  "sections": [
    {
      "id": "definitions",
      "title": "Core Definitions",
      "description": "Definitions for general position, convex n-gons, and the function f(n)",
      "lineStart": 30,
      "lineEnd": 57
    },
    {
      "id": "small-cases",
      "title": "Small Cases",
      "description": "Known values f(3)=3, f(4)=5, f(5)=9",
      "lineStart": 58,
      "lineEnd": 85
    },
    {
      "id": "main-bounds",
      "title": "Main Bounds",
      "description": "Erdős-Szekeres, Suk, and HMPT bounds on f(n)",
      "lineStart": 86,
      "lineEnd": 125
    },
    {
      "id": "conjecture",
      "title": "Main Conjecture (OPEN)",
      "description": "The Happy Ending conjecture: f(n) = 2^{n-2}+1",
      "lineStart": 126,
      "lineEnd": 153
    }
  ],
  "conclusion": {
    "summary": "We formalize Erdős Problem #107 (Happy Ending Problem) with core definitions for convex n-gons in general position, state the known bounds as axioms, and express the main conjecture f(n) = 2^{n-2}+1 as a Prop. The conjecture remains open with a $500 prize.",
    "implications": "Resolution would settle one of the most famous problems in combinatorial geometry and complete our understanding of convex polygon containment in point sets.",
    "openQuestions": [
      "Is f(n) = 2^{n-2}+1 for all n ≥ 3?",
      "Can the HMPT upper bound be improved to match the lower bound?",
      "What is f(6)? (Currently unknown)"
    ]
  }
}
