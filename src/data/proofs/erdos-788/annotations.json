[
  {
    "id": "erdos-788-header",
    "proofId": "erdos-788",
    "type": "context",
    "range": { "startLine": 1, "endLine": 33 },
    "title": "Problem Overview",
    "content": "Erdős Problem #788 asks to estimate f(n), the maximum guaranteed |C|+|B| when B ⊂ (2n,4n) and C ⊂ (n,2n) is sum-free w.r.t. B. Choi conjectured f(n) ≤ n^{1/2+o(1)}. Known: n^{1/2} ≪ f(n) ≪ (n log n)^{2/3}. OPEN.",
    "mathContext": "f(n) = max{k : ∀ B ⊆ (2n,4n), ∃ C ⊆ (n,2n), isSumFreeWithResp C B ∧ |C|+|B| ≥ k}. Min-max formulation: adversary picks B, we respond with C.",
    "significance": "essential",
    "relatedConcepts": ["sum-free sets", "Sidon sets", "additive combinatorics", "probabilistic method"]
  },
  {
    "id": "erdos-788-intervals",
    "proofId": "erdos-788",
    "type": "definition",
    "range": { "startLine": 45, "endLine": 66 },
    "title": "Interval Definitions",
    "content": "openInterval a b = (a,b) ∩ ℕ. lowerInterval n = (n, 2n) ∩ ℕ. upperInterval n = (2n, 4n) ∩ ℕ. Key insight: elements c₁, c₂ ∈ (n, 2n) have sum c₁ + c₂ ∈ (2n, 4n), making these intervals the natural setting.",
    "mathContext": "openInterval a b = Finset.range(b).filter(a < · ∧ · < b). lowerInterval n = openInterval n (2n). upperInterval n = openInterval (2n) (4n).",
    "significance": "essential",
    "relatedConcepts": ["Finset.filter", "interval arithmetic", "sum ranges"]
  },
  {
    "id": "erdos-788-sumfree",
    "proofId": "erdos-788",
    "type": "definition",
    "range": { "startLine": 68, "endLine": 88 },
    "title": "Pairwise Sums and Sum-Free Property",
    "content": "pairwiseSums C = {c₁+c₂ : c₁ ≠ c₂ ∈ C}. isSumFreeWithResp C B: no two distinct elements of C sum into B. Equivalently, pairwiseSums(C) and B are disjoint. This generalizes classical sum-free sets.",
    "mathContext": "isSumFreeWithResp C B ≡ ∀ c₁ ∈ C, ∀ c₂ ∈ C, c₁ ≠ c₂ → c₁ + c₂ ∉ B. sumFree_iff_disjoint: isSumFreeWithResp C B ↔ Disjoint (pairwiseSums C) B.",
    "significance": "essential",
    "relatedConcepts": ["Finset.product", "disjoint sets", "sum-free generalization"]
  },
  {
    "id": "erdos-788-function-f",
    "proofId": "erdos-788",
    "type": "definition",
    "range": { "startLine": 90, "endLine": 121 },
    "title": "The Function f(n)",
    "content": "f(n) is defined via Nat.find as the maximum k such that for all B ⊆ upperInterval(n), there exists C ⊆ lowerInterval(n) with C sum-free w.r.t. B and |C|+|B| ≥ k. This is the central object of study.",
    "mathContext": "f(n) = Nat.find(∃ k, ∀ B ⊆ upperInterval n, ∃ C ⊆ lowerInterval n, isSumFreeWithResp C B ∧ C.card + B.card ≥ k).",
    "significance": "essential",
    "relatedConcepts": ["Nat.find", "min-max optimization", "combinatorial function"]
  },
  {
    "id": "erdos-788-choi",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 123, "endLine": 139 },
    "title": "Choi's Results (1971)",
    "content": "Choi proved f(n) ≪ n^{3/4} and conjectured f(n) ≤ n^{1/2+o(1)}, meaning for any ε > 0, eventually f(n) ≤ n^{1/2+ε}. The conjecture remains open after 50+ years.",
    "mathContext": "choi_upper_bound: ∃ C > 0, ∀ n ≥ 1, f(n) ≤ C·n^{3/4}. choiConjecture: ∀ ε > 0, ∃ n₀, ∀ n ≥ n₀, f(n) ≤ n^{1/2+ε}.",
    "significance": "essential",
    "relatedConcepts": ["asymptotic notation", "upper bounds", "open conjecture"]
  },
  {
    "id": "erdos-788-adenwalla",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 141, "endLine": 175 },
    "title": "Adenwalla's Lower Bound via Sidon Sets",
    "content": "f(n) ≫ n^{1/2} via Sidon set construction. A Sidon set has all pairwise sums distinct; Sidon sets of size ~√n exist in intervals of length n. Taking C as a Sidon set gives control over which sums land in (2n,4n).",
    "mathContext": "adenwalla_lower_bound: ∃ c > 0, ∀ n ≥ 1, f(n) ≥ c·n^{1/2}. isSidonSet S: all pairwise sums distinct. sidon_sets_exist: ∃ S ⊆ lowerInterval(n), |S| ≥ c·√n.",
    "significance": "essential",
    "relatedConcepts": ["Sidon sets", "B₂ sequences", "constructive lower bounds"]
  },
  {
    "id": "erdos-788-hunter",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 177, "endLine": 193 },
    "title": "Hunter's Improved Upper Bound",
    "content": "f(n) ≪ n^{2/3+o(1)}, improving Choi's 3/4 exponent to 2/3. Uses counting arguments on the structure of sum-free sets.",
    "mathContext": "hunter_bound: ∀ ε > 0, ∃ n₀, ∃ C > 0, ∀ n ≥ n₀, f(n) ≤ C·n^{2/3+ε}.",
    "significance": "supporting",
    "relatedConcepts": ["counting arguments", "improved upper bounds"]
  },
  {
    "id": "erdos-788-bss",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 195, "endLine": 221 },
    "title": "Baltz-Schoen-Srivastav Bound (2000)",
    "content": "Best known upper bound: f(n) ≪ (n log n)^{2/3}. Uses probabilistic construction of strongly sum-free sets (avoiding both sums and differences). State of the art since 2000.",
    "mathContext": "bss_bound: ∃ C > 0, ∀ n ≥ 2, f(n) ≤ C·(n·log(n))^{2/3}. isStronglySumFree S: avoids a+b=c and a-b=c for all a,b,c ∈ S.",
    "significance": "essential",
    "relatedConcepts": ["probabilistic method", "strongly sum-free sets", "state of the art"]
  },
  {
    "id": "erdos-788-gap",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 222, "endLine": 245 },
    "title": "The Gap: Current Bounds",
    "content": "current_bounds theorem combines: lower f(n) ≫ n^{1/2} (Adenwalla) and upper f(n) ≪ (n log n)^{2/3} (BSS 2000). The gap between exponents 1/2 and 2/3 remains after decades.",
    "mathContext": "current_bounds: (∃ c > 0, ∀ n ≥ 1, f(n) ≥ c·n^{1/2}) ∧ (∃ C > 0, ∀ n ≥ 2, f(n) ≤ C·(n·log n)^{2/3}). Proof: ⟨adenwalla_lower_bound, bss_bound⟩.",
    "significance": "essential",
    "relatedConcepts": ["bounds gap", "open problem", "exponent determination"]
  },
  {
    "id": "erdos-788-interval-proof",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 273, "endLine": 311 },
    "title": "Interval Constraints (PROVED)",
    "content": "interval_sum_range is proved: for c₁, c₂ ∈ (n, 2n) with c₁ ≠ c₂, their sum is either in (2n, 4n), ≤ 2n, or ≥ 4n. Uses by_cases on membership, simp, push_neg, and omega.",
    "mathContext": "interval_sum_range: ∀ n ≥ 1, ∀ c₁ c₂ ∈ lowerInterval n, c₁ ≠ c₂ → c₁+c₂ ∈ upperInterval n ∨ c₁+c₂ ≤ 2n ∨ c₁+c₂ ≥ 4n. Proof: by_cases, simp, omega.",
    "significance": "supporting",
    "relatedConcepts": ["interval arithmetic", "omega tactic", "proved theorem"]
  },
  {
    "id": "erdos-788-summary",
    "proofId": "erdos-788",
    "type": "result",
    "range": { "startLine": 331, "endLine": 374 },
    "title": "Summary and Known Results",
    "content": "erdos_788_summary combines all known bounds. Historical timeline: Choi (1971) → Adenwalla → Hunter → BSS (2000). Status: OPEN. Choi's conjecture f(n) ≤ n^{1/2+o(1)} unresolved.",
    "mathContext": "erdos_788_summary: (lower bound) ∧ (upper bound) ∧ True. Proof: ⟨adenwalla_lower_bound, bss_bound, trivial⟩.",
    "significance": "essential",
    "relatedConcepts": ["known results", "open problem", "historical development"]
  }
]
