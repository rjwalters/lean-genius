[
  {
    "id": "ann-e788-header",
    "proofId": "erdos-788",
    "range": { "startLine": 1, "endLine": 33 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #788: Sum-Free Subsets in Intervals**\n\n**Question:** Estimate f(n) where f(n) is maximal such that for all B ⊂ (2n,4n), there exists C ⊂ (n,2n) sum-free w.r.t. B with |C| + |B| ≥ f(n).\n\n**Conjecture (Choi):** f(n) ≤ n^{1/2+o(1)}\n\n**Known Bounds:**\n- Lower: f(n) ≫ n^{1/2} (Adenwalla)\n- Upper: f(n) ≪ (n log n)^{2/3} (BSS 2000)\n\n**STATUS: OPEN** - The gap between exponents 1/2 and 2/3 remains.",
    "mathContext": "This is a problem about finding sets C in (n, 2n) such that no two distinct elements sum to something in a forbidden set B ⊂ (2n, 4n). The function f(n) captures the guaranteed combined size |C| + |B| in a min-max game.",
    "significance": "critical",
    "relatedConcepts": ["Sum-free sets", "Sidon sets", "Additive combinatorics", "Probabilistic method"]
  },
  {
    "id": "ann-e788-intervals",
    "proofId": "erdos-788",
    "range": { "startLine": 49, "endLine": 66 },
    "type": "definition",
    "title": "Interval Definitions",
    "content": "**openInterval, lowerInterval, upperInterval:**\n\n- `openInterval a b`: Natural numbers strictly between a and b, i.e., (a, b) ∩ ℕ\n- `lowerInterval n`: The set (n, 2n) ∩ ℕ\n- `upperInterval n`: The set (2n, 4n) ∩ ℕ\n\n**Key Insight:** Elements c₁, c₂ ∈ (n, 2n) have sum c₁ + c₂ ∈ (2n, 4n), making these intervals the natural setting for the problem.",
    "mathContext": "The interval structure is fundamental: sums from the lower interval land in the upper interval.",
    "significance": "key",
    "relatedConcepts": ["Finite sets", "Interval arithmetic"]
  },
  {
    "id": "ann-e788-pairwise-sums",
    "proofId": "erdos-788",
    "range": { "startLine": 68, "endLine": 89 },
    "type": "definition",
    "title": "Pairwise Sums and Sum-Free Property",
    "content": "**pairwiseSums and isSumFreeWithResp:**\n\n- `pairwiseSums C`: All sums c₁ + c₂ where c₁ ≠ c₂ both in C\n- `isSumFreeWithResp C B`: C is sum-free w.r.t. B iff no two distinct elements of C sum to an element in B\n\n**Key Difference from Classical Sum-Free:** In a classical sum-free set, we forbid sums landing in the set itself. Here, we only forbid sums landing in the prescribed forbidden set B.\n\n**Equivalent characterization:** C is sum-free w.r.t. B iff pairwiseSums(C) and B are disjoint.",
    "mathContext": "The sum-free-with-respect-to property generalizes classical sum-free sets by specifying which sums to avoid.",
    "significance": "critical",
    "relatedConcepts": ["Sum-free sets", "Disjoint sets", "Pairwise sums"]
  },
  {
    "id": "ann-e788-function-f",
    "proofId": "erdos-788",
    "range": { "startLine": 104, "endLine": 122 },
    "type": "definition",
    "title": "The Function f(n)",
    "content": "**f(n) - The Main Object of Study:**\n\nf(n) is the maximum k such that: for all B ⊆ (2n, 4n), there exists C ⊆ (n, 2n) with C sum-free w.r.t. B and |C| + |B| ≥ k.\n\n**Intuition:** Think of a two-player game:\n1. Adversary picks forbidden set B ⊂ (2n, 4n)\n2. We respond with C ⊂ (n, 2n) avoiding all sums into B\n3. f(n) is our guaranteed combined size no matter what the adversary does\n\nThe problem asks: How does f(n) grow with n?",
    "mathContext": "The function f(n) is defined via a min-max formulation, capturing the worst-case guarantee over all choices of B.",
    "significance": "critical",
    "relatedConcepts": ["Combinatorial game theory", "Min-max optimization"]
  },
  {
    "id": "ann-e788-choi",
    "proofId": "erdos-788",
    "range": { "startLine": 123, "endLine": 140 },
    "type": "theorem",
    "title": "Choi's Results (1971)",
    "content": "**choi_upper_bound and choiConjecture:**\n\n**Proved:** f(n) ≪ n^{3/4}, i.e., f(n) ≤ C · n^{3/4} for some constant C > 0.\n\n**Conjecture:** f(n) ≤ n^{1/2+o(1)}, meaning for any ε > 0, eventually f(n) ≤ n^{1/2+ε}.\n\nChoi's conjecture suggests the lower bound is essentially tight, but this remains **OPEN** after 50+ years.",
    "mathContext": "The o(1) notation means a function tending to 0 as n → ∞, so n^{1/2+o(1)} grows slightly faster than √n.",
    "significance": "key",
    "relatedConcepts": ["Asymptotic notation", "Upper bounds"]
  },
  {
    "id": "ann-e788-adenwalla",
    "proofId": "erdos-788",
    "range": { "startLine": 145, "endLine": 176 },
    "type": "theorem",
    "title": "Adenwalla's Lower Bound via Sidon Sets",
    "content": "**adenwalla_lower_bound and isSidonSet:**\n\n**Proved:** f(n) ≫ n^{1/2}, i.e., f(n) ≥ c · √n for some constant c > 0.\n\n**Sidon Set Construction:** A Sidon set has all pairwise sums distinct. If S is a Sidon set in (n, 2n) with |S| ~ √n:\n- S has only O(n) distinct pairwise sums\n- The interval (2n, 4n) has ~2n elements\n- So many elements of (2n, 4n) are \"free\" (not hit by sums)\n\n**Result:** Taking C = S and B = (elements not hit by sums from S) gives |C| + |B| ≳ √n.",
    "mathContext": "Sidon sets are also called B₂ sequences. They have O(√N) elements in [1,N] and appear in many areas of combinatorics.",
    "significance": "critical",
    "relatedConcepts": ["Sidon sets", "B₂ sequences", "Construction methods"]
  },
  {
    "id": "ann-e788-hunter",
    "proofId": "erdos-788",
    "range": { "startLine": 177, "endLine": 194 },
    "type": "theorem",
    "title": "Hunter's Improved Upper Bound",
    "content": "**hunter_bound:**\n\nf(n) ≪ n^{2/3+o(1)}, improving Choi's n^{3/4} bound.\n\n**Approach:** Uses a counting argument on the structure of sum-free sets, analyzing how sums from C can cover (or not cover) the interval (2n, 4n).\n\nThis was a significant improvement, lowering the exponent from 3/4 to 2/3 + o(1).",
    "mathContext": "The improvement from 3/4 to 2/3 represents real progress in understanding the structure of sum-free configurations.",
    "significance": "key",
    "relatedConcepts": ["Counting arguments", "Upper bounds"]
  },
  {
    "id": "ann-e788-bss",
    "proofId": "erdos-788",
    "range": { "startLine": 199, "endLine": 221 },
    "type": "theorem",
    "title": "Baltz-Schoen-Srivastav Bound (2000)",
    "content": "**bss_bound and isStronglySumFree:**\n\n**Best Known Upper Bound:** f(n) ≪ (n log n)^{2/3}\n\n**Method:** Uses the probabilistic method to construct strongly sum-free sets. A strongly sum-free set avoids both sums AND differences.\n\n**Key idea:** Probabilistically construct a large Sidon set, then use its structure to bound how sum-free sets can behave in intervals.\n\nThis is the current state-of-the-art, published in 2000.",
    "mathContext": "The probabilistic method, pioneered by Erdős himself, shows objects exist by proving random constructions work with positive probability.",
    "significance": "critical",
    "relatedConcepts": ["Probabilistic method", "Strongly sum-free sets", "Random constructions"]
  },
  {
    "id": "ann-e788-gap",
    "proofId": "erdos-788",
    "range": { "startLine": 226, "endLine": 246 },
    "type": "theorem",
    "title": "The Gap: What We Know",
    "content": "**current_bounds and the_gap:**\n\n**Current State:**\n- Lower bound: f(n) ≫ n^{1/2} (Adenwalla)\n- Upper bound: f(n) ≪ (n log n)^{2/3} (BSS 2000)\n\n**The Gap:** The exponent is somewhere between 1/2 and 2/3 (plus logs). Choi conjectured it should be 1/2 + o(1).\n\n**Status after 50+ years:** Still OPEN. Neither the lower bound has been improved beyond √n, nor has the upper bound been pushed below (n log n)^{2/3}.",
    "mathContext": "In asymptotic terms, √n ≈ n^{0.5} vs (n log n)^{2/3} ≈ n^{0.67}. The true behavior is unknown.",
    "significance": "critical",
    "relatedConcepts": ["Open problems", "Bounds gap"]
  },
  {
    "id": "ann-e788-sumfree",
    "proofId": "erdos-788",
    "range": { "startLine": 251, "endLine": 272 },
    "type": "definition",
    "title": "Classical Sum-Free Sets",
    "content": "**isSumFree:**\n\nA set S is (classically) sum-free if a + b ∉ S for all a, b ∈ S.\n\n**Connection:** Problem 788 generalizes this: instead of forbidding sums landing in S itself, we forbid sums landing in a prescribed external set B.\n\n**Density questions:** In {1, ..., n}, the maximum sum-free set has density about 1/2 (take odd numbers, or the upper half). The structure of sum-free sets is well-studied.",
    "mathContext": "Sum-free sets have been extensively studied since Schur (1916) and connect to Ramsey theory.",
    "significance": "supporting",
    "relatedConcepts": ["Sum-free sets", "Schur's theorem", "Ramsey theory"]
  },
  {
    "id": "ann-e788-interval-constraints",
    "proofId": "erdos-788",
    "range": { "startLine": 277, "endLine": 312 },
    "type": "theorem",
    "title": "Interval Constraints and Sum Ranges",
    "content": "**interval_sum_range and sums_in_upper_interval:**\n\nFor c₁, c₂ ∈ (n, 2n) with c₁ ≠ c₂:\n- We have n < c₁, c₂ < 2n\n- So 2n < c₁ + c₂ < 4n\n- Hence c₁ + c₂ ∈ (2n, 4n) = upperInterval\n\n**Why these intervals?** Elements of (n, 2n) sum EXACTLY to (2n, 4n). This makes the problem about \"blocking\" sums in one interval while finding large sets in another - a natural combinatorial setup.",
    "mathContext": "The interval choice (n,2n) and (2n,4n) is not arbitrary but reflects the doubling that occurs when adding two elements.",
    "significance": "key",
    "relatedConcepts": ["Interval arithmetic", "Sum ranges"]
  },
  {
    "id": "ann-e788-summary",
    "proofId": "erdos-788",
    "range": { "startLine": 335, "endLine": 375 },
    "type": "theorem",
    "title": "Summary: OPEN Problem",
    "content": "**erdos_788, erdos_788_summary, historical_note:**\n\n**STATUS: OPEN**\n\n**Question:** Estimate f(n).\n**Conjecture (Choi):** f(n) ≤ n^{1/2+o(1)}\n\n**Known Bounds:**\n- Lower: n^{1/2} (Adenwalla, via Sidon sets)\n- Upper: (n log n)^{2/3} (BSS 2000, probabilistic method)\n\n**Timeline:**\n- 1971: Choi proves f(n) ≪ n^{3/4}, conjectures f(n) ≤ n^{1/2+o(1)}\n- Later: Adenwalla proves f(n) ≫ n^{1/2}\n- Later: Hunter improves to f(n) ≪ n^{2/3+o(1)}\n- 2000: BSS achieve f(n) ≪ (n log n)^{2/3}\n\nThe gap between 1/2 and 2/3 remains after decades of work.",
    "mathContext": "This is one of many Erdős problems in additive combinatorics that remain open, showcasing the depth of questions about sum structures.",
    "significance": "critical",
    "relatedConcepts": ["Open problems", "Erdős problems", "Additive combinatorics"]
  }
]
