{
  "id": "erdos-481",
  "title": "Erdős Problem #481: Affine Sequence Iteration and Eventual Repetition",
  "slug": "erdos-481",
  "description": "For affine maps T with Σ(1/aᵢ) > 1, iterating from A₁=(1) must eventually produce repeated elements. Proved by Klarner (1982) using free semigroup theory.",
  "meta": {
    "author": "Paul Erdős, Ronald Graham",
    "sourceUrl": "https://erdosproblems.com/481",
    "date": "1982",
    "status": "pending",
    "proofRepoPath": "Proofs/Erdos481Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "semigroup-theory",
      "affine-maps",
      "iteration"
    ],
    "badge": "mathlib",
    "sorries": 1,
    "erdosNumber": 481,
    "erdosUrl": "https://erdosproblems.com/481",
    "erdosProblemStatus": "solved"
  },
  "overview": {
    "historicalContext": "This problem appears in Erdős and Graham's book (1980, p.96). They remarked that 'it is surprising that [this problem] offers difficulty.' Klarner provided the first proof in 1982 by connecting the problem to free semigroups of affine maps. The condition Σ(1/aᵢ) > 1 determines whether the semigroup is free - and non-freeness implies eventual collisions.",
    "problemStatement": "Let a₁,...,aᵣ,b₁,...,bᵣ ∈ ℕ such that Σᵢ(1/aᵢ) > 1. For a sequence A = (x₁,...,xₙ), define T(A) = (aᵢxⱼ + bᵢ) for all i,j. Prove that if A₁ = (1) and Aₖ₊₁ = T(Aₖ), then some Aₖ must have repeated elements.",
    "proofStrategy": "The formalization defines affine transformations, the density condition Σ(1/aᵢ) > 1, and the iteration process. The key result (Klarner 1982) is axiomatized: the density condition forces collisions because it corresponds to the affine semigroup being non-free.",
    "keyInsights": [
      "The density condition Σ(1/aᵢ) > 1 is crucial and tight",
      "Relates to free semigroups: non-free ⟹ relations ⟹ collisions",
      "Sequence length grows as rᵏ⁻¹ (exponential)",
      "Value range grows, but slower than length when density > 1",
      "Boundary case: Σ(1/aᵢ) = 1 is the threshold",
      "Original extra condition on minimum was redundant (Alweiss)"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "startLine": 31,
      "endLine": 63,
      "summary": "Affine transformation, parameters, density condition, T operator"
    },
    {
      "id": "iteration-process",
      "title": "The Iteration Process",
      "startLine": 65,
      "endLine": 96,
      "summary": "Initial sequence, iteration, repeat detection"
    },
    {
      "id": "main-theorem",
      "title": "The Main Theorem",
      "startLine": 98,
      "endLine": 118,
      "summary": "Erdős-Graham conjecture and Klarner's proof"
    },
    {
      "id": "why-condition-matters",
      "title": "Why the Condition Matters",
      "startLine": 120,
      "endLine": 151,
      "summary": "Growth analysis and density intuition"
    },
    {
      "id": "klarner-approach",
      "title": "Klarner's Approach",
      "startLine": 153,
      "endLine": 181,
      "summary": "Free semigroup perspective and generalizations"
    },
    {
      "id": "special-cases",
      "title": "Special Cases",
      "startLine": 183,
      "endLine": 206,
      "summary": "Examples at, below, and above the threshold"
    },
    {
      "id": "historical-notes",
      "title": "Historical Notes",
      "startLine": 208,
      "endLine": 232,
      "summary": "Erdős-Graham remark and independent discoveries"
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 234,
      "endLine": 274,
      "summary": "Complete resolution and main theorem"
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #481 is SOLVED. The conjecture that Σ(1/aᵢ) > 1 forces eventual repetition in affine sequence iteration is TRUE (Klarner 1982). The proof connects to algebraic semigroup theory: the density condition characterizes when the affine semigroup is non-free, and non-freeness implies relations that manifest as collisions.",
    "implications": "This result bridges number theory and algebra. The density condition Σ(1/aᵢ) > 1 appears in various contexts related to covering and self-affine structures. The semigroup perspective has been extended by Kolpakov-Talambutsa (2022) to more general affine maps.",
    "openQuestions": [
      "Optimal bounds on when the first collision occurs",
      "Extensions to non-integer affine maps",
      "Connection to self-similar sets and fractals",
      "Higher-dimensional analogues"
    ]
  }
}
