[
  {
    "id": "ann-481-1",
    "proofId": "erdos-481",
    "range": {
      "startLine": 1,
      "endLine": 22
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "Erdős Problem #481: For affine maps with Σ(1/aᵢ) > 1, iterating T(A) = (aᵢxⱼ + bᵢ) from A₁=(1) must eventually produce repeated elements. Solved by Klarner (1982) using semigroup theory.",
    "significance": "critical"
  },
  {
    "id": "ann-481-2",
    "proofId": "erdos-481",
    "range": {
      "startLine": 35,
      "endLine": 39
    },
    "type": "definition",
    "title": "Affine Transformation",
    "content": "The map x ↦ ax + b for natural numbers a, b. These are the building blocks - each (aᵢ, bᵢ) pair defines one transformation applied to each sequence element.",
    "significance": "critical"
  },
  {
    "id": "ann-481-3",
    "proofId": "erdos-481",
    "range": {
      "startLine": 41,
      "endLine": 49
    },
    "type": "definition",
    "title": "Affine Parameters",
    "content": "The AffineParams structure bundles r transformations with their (aᵢ, bᵢ) pairs. The constraint aᵢ > 0 ensures the transformations are non-degenerate.",
    "significance": "critical"
  },
  {
    "id": "ann-481-4",
    "proofId": "erdos-481",
    "range": {
      "startLine": 51,
      "endLine": 56
    },
    "type": "definition",
    "title": "The Density Condition",
    "content": "Σ(1/aᵢ) > 1 is the crucial condition. It measures the 'coverage density' of the transformations. When > 1, there's enough overlap to force collisions.",
    "significance": "critical"
  },
  {
    "id": "ann-481-5",
    "proofId": "erdos-481",
    "range": {
      "startLine": 58,
      "endLine": 63
    },
    "type": "definition",
    "title": "The T Operator",
    "content": "T(A) applies each transformation to each element: T(A) = (aᵢxⱼ + bᵢ). If A has n elements, T(A) has rn elements. The sequence grows exponentially.",
    "significance": "critical"
  },
  {
    "id": "ann-481-6",
    "proofId": "erdos-481",
    "range": {
      "startLine": 69,
      "endLine": 73
    },
    "type": "definition",
    "title": "Initial Sequence",
    "content": "A₁ = (1), the singleton list containing just 1. This is the seed from which all subsequent sequences are generated by applying T.",
    "significance": "key"
  },
  {
    "id": "ann-481-7",
    "proofId": "erdos-481",
    "range": {
      "startLine": 75,
      "endLine": 82
    },
    "type": "definition",
    "title": "Iterate T",
    "content": "iterateT defines Aₖ = T^{k-1}(A₁). The sequence grows as: A₁ has 1 element, A₂ has r, A₃ has r², etc. Length grows exponentially as r^{k-1}.",
    "significance": "critical"
  },
  {
    "id": "ann-481-8",
    "proofId": "erdos-481",
    "range": {
      "startLine": 84,
      "endLine": 89
    },
    "type": "definition",
    "title": "Has Repeats",
    "content": "hasRepeats(seq) is true when some value appears at least twice in the sequence. This is what the theorem asserts must eventually happen.",
    "significance": "critical"
  },
  {
    "id": "ann-481-9",
    "proofId": "erdos-481",
    "range": {
      "startLine": 102,
      "endLine": 109
    },
    "type": "theorem",
    "title": "Erdős-Graham Conjecture",
    "content": "If Σ(1/aᵢ) > 1, then some iterate Aₖ must have repeated elements. This is the main conjecture, proved by Klarner (1982).",
    "significance": "critical"
  },
  {
    "id": "ann-481-10",
    "proofId": "erdos-481",
    "range": {
      "startLine": 111,
      "endLine": 118
    },
    "type": "theorem",
    "title": "Klarner's Theorem",
    "content": "klarner_theorem formalizes that the Erdős-Graham conjecture is true. The proof uses free semigroup theory - the density condition implies non-freeness.",
    "significance": "critical"
  },
  {
    "id": "ann-481-11",
    "proofId": "erdos-481",
    "range": {
      "startLine": 138,
      "endLine": 144
    },
    "type": "concept",
    "title": "Density Intuition",
    "content": "Think of [0, N] being covered by intervals of length N/aᵢ. If Σ(1/aᵢ) > 1, the total coverage exceeds N. By pigeonhole, some point is covered twice - a collision.",
    "significance": "critical"
  },
  {
    "id": "ann-481-12",
    "proofId": "erdos-481",
    "range": {
      "startLine": 146,
      "endLine": 151
    },
    "type": "concept",
    "title": "Counterexample Without Condition",
    "content": "If Σ(1/aᵢ) ≤ 1, the conjecture can fail. The transformations are 'sparse' enough that their images don't overlap, avoiding forced collisions.",
    "significance": "key"
  },
  {
    "id": "ann-481-13",
    "proofId": "erdos-481",
    "range": {
      "startLine": 157,
      "endLine": 165
    },
    "type": "concept",
    "title": "Free Semigroup Connection",
    "content": "The key insight: the problem relates to whether the semigroup generated by x ↦ aᵢx + bᵢ is free. Σ(1/aᵢ) > 1 implies NON-free, and non-freeness means relations (collisions).",
    "significance": "critical"
  },
  {
    "id": "ann-481-14",
    "proofId": "erdos-481",
    "range": {
      "startLine": 167,
      "endLine": 174
    },
    "type": "theorem",
    "title": "Klarner's Freeness Condition",
    "content": "Klarner proved: the affine semigroup is free iff Σ(1/aᵢ) ≤ 1 (with technical conditions). The Erdős conjecture follows directly from non-freeness implying relations.",
    "significance": "critical"
  },
  {
    "id": "ann-481-15",
    "proofId": "erdos-481",
    "range": {
      "startLine": 187,
      "endLine": 192
    },
    "type": "concept",
    "title": "Boundary Case",
    "content": "Example: r = 2, a₁ = a₂ = 2 gives Σ(1/aᵢ) = 1/2 + 1/2 = 1 exactly. This is the threshold - the conjecture applies for > 1, not ≥ 1.",
    "significance": "key"
  },
  {
    "id": "ann-481-16",
    "proofId": "erdos-481",
    "range": {
      "startLine": 212,
      "endLine": 217
    },
    "type": "concept",
    "title": "Erdős-Graham Remark",
    "content": "Erdős and Graham wrote 'it is surprising that [this problem] offers difficulty.' The simple statement hides subtle connections to algebraic semigroup theory.",
    "significance": "supporting"
  },
  {
    "id": "ann-481-17",
    "proofId": "erdos-481",
    "range": {
      "startLine": 219,
      "endLine": 225
    },
    "type": "concept",
    "title": "Minimum Element Observation",
    "content": "The original problem had an extra condition on the minimum element of Aₖ. Ryan Alweiss noted this is trivially satisfied: min(Aₖ) grows by at least 1 at each step since all aᵢ, bᵢ ≥ 1.",
    "significance": "supporting"
  },
  {
    "id": "ann-481-18",
    "proofId": "erdos-481",
    "range": {
      "startLine": 255,
      "endLine": 266
    },
    "type": "theorem",
    "title": "Main Status Theorem",
    "content": "erdos_481_status captures the complete result: for any affine parameters satisfying Σ(1/aᵢ) > 1, there exists k > 0 such that iterateT(k) has repeated elements.",
    "significance": "critical"
  }
]
