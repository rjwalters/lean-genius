[
  {
    "id": "ann-e791-header",
    "proofId": "erdos-791",
    "range": { "startLine": 1, "endLine": 31 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdos Problem #791: Finite Additive 2-Bases**\n\nLet g(n) be the minimal size of a set A subset of {0,...,n} such that every element can be written as a sum of two elements of A.\n\n**The Question:** Is g(n) ~ 2*sqrt(n)?\n\n**The Answer:** NO. Mrose (1979) disproved this.\n\n**Current Bounds:**\n- Lower: g(n)^2 >= 2.181n (Yu, 2015)\n- Upper: g(n)^2 <= 3.458n (Kohonen, 2017)\n\nThis is far from the conjectured g(n)^2 ~ 4n.",
    "mathContext": "Additive combinatorics studies how sets combine under addition. A 2-basis is a fundamental structure in this field.",
    "significance": "critical",
    "relatedConcepts": ["Sumsets", "Additive bases", "Sidon sets"]
  },
  {
    "id": "ann-e791-sumset",
    "proofId": "erdos-791",
    "range": { "startLine": 50, "endLine": 56 },
    "type": "definition",
    "title": "Sumset Definition",
    "content": "**sumset A + A:**\n\nThe set of all pairwise sums from a finite set A.\n\n```lean\ndef sumset (A : Finset N) : Finset N :=\n  (A x A).image (fun p => p.1 + p.2)\n```\n\n**Example:**\nIf A = {0, 1, 3}, then sumset A = {0, 1, 2, 3, 4, 6}.\n\nThe sumset always contains 2*a for each a in A (using a+a).",
    "mathContext": "Sumsets are central to additive combinatorics. The Cauchy-Davenport theorem and Plunnecke-Ruzsa inequalities study sumset growth.",
    "significance": "critical",
    "relatedConcepts": ["Additive combinatorics", "Sumset growth"]
  },
  {
    "id": "ann-e791-additive-basis",
    "proofId": "erdos-791",
    "range": { "startLine": 57, "endLine": 64 },
    "type": "definition",
    "title": "Additive 2-Basis",
    "content": "**isAdditiveBasis A n:**\n\nA set A is a 2-basis for {0,...,n} if:\n1. A is a subset of {0,...,n}\n2. Every element of {0,...,n} can be written as a+b for some a,b in A\n\n```lean\ndef isAdditiveBasis (A : Finset N) (n : N) : Prop :=\n  A <= range (n + 1) and range (n + 1) <= sumset A\n```\n\nThe 'basis' terminology comes from viewing {0,...,n} as generated by A under addition.",
    "significance": "critical",
    "relatedConcepts": ["Representation functions", "B_h sequences"]
  },
  {
    "id": "ann-e791-g-function",
    "proofId": "erdos-791",
    "range": { "startLine": 65, "endLine": 71 },
    "type": "definition",
    "title": "The Function g(n)",
    "content": "**g(n):**\n\nThe minimum cardinality of any 2-basis for {0,...,n}.\n\n```lean\nnoncomputable def g (n : N) : N :=\n  sInf {k : N | exists A : Finset N, A.card = k and isAdditiveBasis A n}\n```\n\n**Key Question:** How does g(n) grow as n -> infinity?\n\n- Trivially: g(n) <= n+1 (using {0,1,...,n})\n- Rohrbach: sqrt(2n) <= g(n) <= 2*sqrt(n)",
    "significance": "critical"
  },
  {
    "id": "ann-e791-trivial-basis",
    "proofId": "erdos-791",
    "range": { "startLine": 85, "endLine": 96 },
    "type": "theorem",
    "title": "Trivial Basis",
    "content": "**trivial_basis:**\n\nThe set {0, 1, ..., n} is always a 2-basis for {0,...,n}.\n\n**Proof:**\nFor any k in {0,...,n}, we have k = 0 + k with both 0 and k in the range.\n\nThis gives the trivial upper bound g(n) <= n+1, but optimal bases are much smaller (roughly sqrt(n) elements).",
    "significance": "supporting"
  },
  {
    "id": "ann-e791-rohrbach-lower",
    "proofId": "erdos-791",
    "range": { "startLine": 111, "endLine": 118 },
    "type": "axiom",
    "title": "Rohrbach Lower Bound",
    "content": "**rohrbach_lower (1937):**\n\n2n <= g(n)^2, so g(n) >= sqrt(2n).\n\n**Intuition:**\nA set of size k can produce at most (k choose 2) + k = k(k+1)/2 distinct sums (with repetition). To cover n+1 elements, we need roughly k^2/2 >= n, so k >= sqrt(2n).",
    "mathContext": "Rohrbach's 1937 paper 'Ein Beitrag zur additiven Zahlentheorie' established the foundational bounds for this problem.",
    "significance": "key"
  },
  {
    "id": "ann-e791-rohrbach-upper",
    "proofId": "erdos-791",
    "range": { "startLine": 120, "endLine": 127 },
    "type": "axiom",
    "title": "Rohrbach Upper Bound",
    "content": "**rohrbach_upper (1937):**\n\ng(n)^2 <= 4n, so g(n) <= 2*sqrt(n).\n\n**Construction:**\nRohrbach showed explicit constructions achieving this bound using arithmetic progressions and careful selection.",
    "significance": "key"
  },
  {
    "id": "ann-e791-mrose",
    "proofId": "erdos-791",
    "range": { "startLine": 133, "endLine": 141 },
    "type": "axiom",
    "title": "Mrose's Disproof (1979)",
    "content": "**mrose_upper:**\n\nMrose constructed bases showing g(n)^2 <= (7/2)n = 3.5n.\n\n**Why This Disproves Erdos:**\nIf g(n) ~ 2*sqrt(n), then g(n)^2 ~ 4n.\nBut Mrose showed g(n)^2 <= 3.5n for large n.\nSo g(n) < 2*sqrt(n) asymptotically, disproving the conjecture.\n\nMrose's paper was in German: 'Untere Schranken fur die Reichweiten von Extremalbasen fester Ordnung'.",
    "mathContext": "The construction uses sophisticated combinatorial techniques to pack more representation power into fewer elements.",
    "significance": "critical"
  },
  {
    "id": "ann-e791-yu",
    "proofId": "erdos-791",
    "range": { "startLine": 158, "endLine": 165 },
    "type": "axiom",
    "title": "Yu's Lower Bound (2015)",
    "content": "**yu_lower:**\n\n(2.181... + o(1))n <= g(n)^2.\n\nThis improves Rohrbach's constant 2 to approximately 2.181.\n\n**Published:** 'A new upper bound for finite additive h-bases', J. Number Theory (2015).",
    "significance": "key"
  },
  {
    "id": "ann-e791-kohonen",
    "proofId": "erdos-791",
    "range": { "startLine": 167, "endLine": 174 },
    "type": "axiom",
    "title": "Kohonen's Upper Bound (2017)",
    "content": "**kohonen_upper:**\n\ng(n)^2 <= (3.458... + o(1))n.\n\nThis significantly improves Mrose's 3.5 to approximately 3.458.\n\n**Published:** 'An improved lower bound for finite additive 2-bases', J. Number Theory (2017).\n\n**Note:** Despite the title saying 'lower bound', this establishes an upper bound on g(n)^2 by improving the construction.",
    "significance": "key"
  },
  {
    "id": "ann-e791-current-bounds",
    "proofId": "erdos-791",
    "range": { "startLine": 180, "endLine": 187 },
    "type": "concept",
    "title": "Current State of Knowledge",
    "content": "**current_bounds:**\n\nFor large n:\n- Lower: 2.181n <= g(n)^2\n- Upper: g(n)^2 <= 3.458n\n\nIn terms of g(n):\n- 1.477*sqrt(n) <= g(n) <= 1.860*sqrt(n)\n\nThe true asymptotic constant for g(n)^2 lies between 2.181 and 3.458.\n\nFinding the exact constant remains an open problem.",
    "significance": "key"
  },
  {
    "id": "ann-e791-small-values",
    "proofId": "erdos-791",
    "range": { "startLine": 193, "endLine": 215 },
    "type": "theorem",
    "title": "Small Values of g(n)",
    "content": "**Concrete values:**\n\n- g(0) = 1: {0} covers {0}\n- g(1) = 2: Need {0,1} to cover {0,1}\n- g(2) = 2: {0,1} covers {0,1,2} since 1+1=2\n- g(3) = 3: Need {0,1,2} to cover {0,1,2,3}\n\n**Observation:**\nFor small n, g(n) is close to sqrt(2n):\n- g(2) = 2, sqrt(4) = 2\n- g(3) = 3, sqrt(6) â‰ˆ 2.45",
    "significance": "supporting"
  },
  {
    "id": "ann-e791-main-theorem",
    "proofId": "erdos-791",
    "range": { "startLine": 252, "endLine": 260 },
    "type": "theorem",
    "title": "Main Result: Erdos #791",
    "content": "**erdos_791:**\n\nThere exist constants C_1 >= 2 and C_2 <= 4 such that for all n >= 1:\nC_1 * n <= g(n)^2 <= C_2 * n.\n\nMoreover, C_2 < 4 (by Mrose), disproving g(n) ~ 2*sqrt(n).\n\n```lean\ntheorem erdos_791 : exists C1 C2 : N, C1 >= 2 and C2 <= 4 and\n    forall n : N, n >= 1 -> C1 * n <= (g n) * (g n) and (g n) * (g n) <= C2 * n\n```",
    "significance": "critical"
  },
  {
    "id": "ann-e791-answer",
    "proofId": "erdos-791",
    "range": { "startLine": 262, "endLine": 270 },
    "type": "theorem",
    "title": "Answer: NO",
    "content": "**erdos_791_answer:**\n\nThe conjecture g(n) ~ 2*sqrt(n) is FALSE.\n\nFormally: there does NOT exist a sequence where g(n) approaches 2*sqrt(n) asymptotically.\n\nMrose's bound g(n)^2 <= 3.5n implies g(n) <= 1.87*sqrt(n), strictly less than 2*sqrt(n).",
    "significance": "critical"
  },
  {
    "id": "ann-e791-summary",
    "proofId": "erdos-791",
    "range": { "startLine": 279, "endLine": 287 },
    "type": "theorem",
    "title": "Summary Theorem",
    "content": "**erdos_791_summary:**\n\nCombines all the key results:\n1. A Mrose-type bound: g(n)^2 <= 3n + n for some construction\n2. Rohrbach lower: 2n <= g(n)^2 for all n >= 1\n3. Rohrbach upper: g(n)^2 <= 4n for all n >= 1\n\nThe gap between 2.181 and 3.458 represents our current uncertainty about the true asymptotic behavior.",
    "significance": "key"
  }
]
