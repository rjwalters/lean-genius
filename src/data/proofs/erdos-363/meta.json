{
  "id": "erdos-363",
  "title": "Erdős Problem #363: Square Products from Disjoint Intervals",
  "slug": "erdos-363",
  "description": "Are there only finitely many collections of disjoint intervals I₁,...,Iₙ with |Iᵢ| ≥ 4 such that the product ∏ᵢ ∏_{m ∈ Iᵢ} m is a perfect square?",
  "meta": {
    "author": "Ulas (2005), Bauer-Bennett (2007), Bennett-Van Luijk (2012)",
    "sourceUrl": "https://erdosproblems.com/363",
    "date": "2005-2012",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos363Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "diophantine-equations",
      "perfect-squares",
      "combinatorics"
    ],
    "badge": "axiom",
    "sorries": 1,
    "erdosNumber": 363,
    "erdosUrl": "https://erdosproblems.com/363",
    "erdosProblemStatus": "disproved",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Finset.Icc",
        "description": "Closed integer intervals",
        "module": "Mathlib.Data.Finset.Basic"
      },
      {
        "theorem": "Finset.prod",
        "description": "Product over finite sets",
        "module": "Mathlib.Algebra.BigOperators.Group.Finset.Basic"
      },
      {
        "theorem": "Set.Infinite",
        "description": "Predicate for infinite sets",
        "module": "Mathlib.Data.Set.Card"
      },
      {
        "theorem": "Set.Finite",
        "description": "Predicate for finite sets",
        "module": "Mathlib.Data.Set.Finite.Basic"
      },
      {
        "theorem": "List.prod",
        "description": "Product of list elements",
        "module": "Mathlib.Data.List.Basic"
      }
    ],
    "originalContributions": [
      "Definition of ConsecutiveInterval and DisjointIntervalCollection structures",
      "Formalization of isPerfectSquare predicate",
      "Axiomatization of Ulas's theorem for n=4 or n≥6",
      "Axiomatization of Bauer-Bennett theorem for n=3 or n=5",
      "Axiomatization of Bennett-Van Luijk theorem for size-5 intervals",
      "Proof that the conjecture is false using these results"
    ]
  },
  "overview": {
    "historicalContext": "This problem connects to the famous Erdős-Selfridge theorem (1975), which states that the product of consecutive integers is never a perfect power. Erdős asked whether this constraint could be circumvented using multiple disjoint blocks of consecutive integers.\n\nPomerance observed that if we allow intervals of size 3, there are infinitely many counterexamples using blocks built from powers of 2. This motivated the condition |Iᵢ| ≥ 4.\n\nThe conjecture was spectacularly disproved in the 2000s. Ulas (2005) found infinitely many solutions for most values of n using size-4 intervals. Bauer-Bennett (2007) filled in the remaining cases n=3 and n=5. Bennett-Van Luijk (2012) extended the result to size-5 intervals, suggesting a general pattern.",
    "problemStatement": "Let $I_1, \\ldots, I_n$ be disjoint intervals of consecutive integers with $|I_i| \\geq 4$ for all $i$.\n\n**Conjecture**: There are only finitely many such collections where\n$$\\prod_{1 \\leq i \\leq n} \\prod_{m \\in I_i} m$$\nis a perfect square.\n\n**Answer**: NO - the conjecture is FALSE.\n\nThere are infinitely many solutions for any $n \\geq 3$ when all intervals have size 4.",
    "proofStrategy": "We formalize disjoint interval collections and the perfect square condition. The main results are axiomatized:\n\n1. **Ulas (2005)**: Infinitely many solutions exist for n=4 or n≥6 with size-4 intervals.\n\n2. **Bauer-Bennett (2007)**: Infinitely many solutions exist for n=3 or n=5 with size-4 intervals.\n\n3. **Bennett-Van Luijk (2012)**: Infinitely many solutions exist for n≥5 with size-5 intervals.\n\nCombining these, we show the set of square-product collections is infinite, contradicting the conjecture.",
    "keyInsights": [
      "**Erdős-Selfridge Constraint**: A single block of consecutive integers is never a perfect power. But DISJOINT blocks can combine to give squares.",
      "**Pomerance's Observation**: Size-3 intervals already give infinitely many solutions using powers of 2, necessitating the |Iᵢ| ≥ 4 condition.",
      "**Coverage by n**: Ulas (n=4, n≥6) + Bauer-Bennett (n=3, n=5) covers all n ≥ 3 for size-4 intervals.",
      "**Ulas's Conjecture**: For any fixed size k ≥ 4, infinitely many solutions should exist when n is large enough.",
      "**Connection to Diophantine Equations**: Finding such collections reduces to solving systems of polynomial equations."
    ]
  },
  "sections": [
    {
      "id": "definitions",
      "title": "Basic Definitions",
      "summary": "ConsecutiveInterval, DisjointIntervalCollection structures",
      "startLine": 30,
      "endLine": 69
    },
    {
      "id": "perfect-squares",
      "title": "Perfect Squares",
      "summary": "isPerfectSquare definition and squareCollections set",
      "startLine": 71,
      "endLine": 86
    },
    {
      "id": "conjecture",
      "title": "The Erdős Conjecture",
      "summary": "Statement of the original finiteness conjecture",
      "startLine": 88,
      "endLine": 98
    },
    {
      "id": "pomerance",
      "title": "Why |Iᵢ| ≥ 4?",
      "summary": "Pomerance's size-3 counterexample construction",
      "startLine": 100,
      "endLine": 123
    },
    {
      "id": "ulas",
      "title": "Ulas's Theorem (2005)",
      "summary": "Infinitely many solutions for n=4 or n≥6",
      "startLine": 125,
      "endLine": 139
    },
    {
      "id": "bauer-bennett",
      "title": "Bauer-Bennett Theorem (2007)",
      "summary": "Infinitely many solutions for n=3 or n=5",
      "startLine": 141,
      "endLine": 155
    },
    {
      "id": "bennett-van-luijk",
      "title": "Bennett-Van Luijk Theorem (2012)",
      "summary": "Infinitely many solutions with size-5 intervals",
      "startLine": 157,
      "endLine": 171
    },
    {
      "id": "disproof",
      "title": "The Conjecture is FALSE",
      "summary": "Combining results to disprove the conjecture",
      "startLine": 173,
      "endLine": 216
    },
    {
      "id": "ulas-conjecture",
      "title": "Ulas's Conjecture",
      "summary": "Generalization to arbitrary interval sizes",
      "startLine": 218,
      "endLine": 233
    },
    {
      "id": "erdos-selfridge",
      "title": "Connection to Erdős-Selfridge",
      "summary": "Single blocks vs disjoint blocks",
      "startLine": 235,
      "endLine": 255
    },
    {
      "id": "summary",
      "title": "Summary",
      "summary": "Complete summary of results",
      "startLine": 257,
      "endLine": 276
    }
  ],
  "conclusion": {
    "summary": "We formalized Erdős Problem #363, which asked whether finitely many collections of size-≥4 disjoint intervals have square products. The conjecture is FALSE: Ulas, Bauer-Bennett, and Bennett-Van Luijk collectively proved infinitely many solutions exist.",
    "implications": "This shows that while single consecutive integer products are never perfect powers (Erdős-Selfridge), carefully chosen disjoint blocks can combine to give squares. The problem connects to sophisticated Diophantine equations.",
    "openQuestions": [
      "Does Ulas's conjecture hold: for any k ≥ 4, infinitely many solutions with |Iᵢ| = k for large enough n?",
      "What is the smallest collection giving a square product with |Iᵢ| = 4?",
      "Can we characterize which combinations of interval sizes admit infinitely many solutions?"
    ]
  }
}
