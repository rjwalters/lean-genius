{
  "id": "erdos-796",
  "title": "Erdős Problem #796: Second-Order Terms for g_k(n)",
  "slug": "erdos-796",
  "description": "For g_k(n) = max |A| with A ⊆ {1,...,n} having < k representations per integer, is g₃(n) = (log log n / log n)n + (c+o(1))n/(log n)² for some c? First-order known, second-order OPEN.",
  "meta": {
    "author": "Erdős (1964, 1969)",
    "sourceUrl": "https://erdosproblems.com/796",
    "date": "1964",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos796Problem.lean",
    "tags": ["erdos", "number-theory", "multiplicative-representation", "asymptotics", "open"],
    "badge": "axiom",
    "sorries": 1,
    "erdosNumber": 796,
    "erdosUrl": "https://erdosproblems.com/796",
    "erdosProblemStatus": "open",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      { "theorem": "Finset", "description": "Finite sets", "module": "Mathlib.Data.Finset.Basic" },
      { "theorem": "Real.log", "description": "Natural logarithm", "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic" },
      { "theorem": "Filter.atTop", "description": "Asymptotic statements", "module": "Mathlib.Order.Filter.Basic" }
    ],
    "originalContributions": [
      "IsProductRep: a₁ < a₂ and a₁·a₂ = m",
      "repCount: Count of representations from A",
      "IsBoundedRep: Every m has < k representations",
      "g: The function g_k(n)",
      "omega_count: Integers with r distinct primes",
      "erdos_1964_main: First-order asymptotics",
      "E3: Second-order error term",
      "erdosConjecture796: Main conjecture (OPEN)",
      "IsNearOptimal3: Near-optimal sets",
      "divisor_connection: τ(m) bound"
    ],
    "dateAdded": "2026-01-19"
  },
  "overview": {
    "historicalContext": "Erdős (1964) established the first-order asymptotics for g_k(n), showing it matches the count of integers with r prime factors where 2^{r-1} < k ≤ 2^r. In 1969, he discussed second-order terms and established bounds c₁·n/(log n)² ≤ E₃(n) ≤ c₂·n/(log n)² but the exact constant remains unknown.",
    "problemStatement": "**Problem Statement (OPEN)**\n\nLet g_k(n) = max{|A| : A ⊆ {1,...,n}, every m has < k representations m = a₁a₂ with a₁ < a₂ ∈ A}.\n\n**Question:** Is g₃(n) = (log log n / log n)·n + (c + o(1))·n/(log n)² for some constant c?\n\n**Known:**\n- First-order: g₃(n) ~ (log log n / log n)·n\n- Bounds: c₁·n/(log n)² ≤ E₃(n) ≤ c₂·n/(log n)²\n\n**Open:** Exact value of c (if it exists)",
    "proofStrategy": "The formalization defines g_k(n) via optimization over finite subsets. Erdős's 1964 theorem on first-order asymptotics is axiomatized using the pattern involving integers with r prime factors. The second-order error E₃(n) is defined, bounds are stated, and the main conjecture is formulated.",
    "keyInsights": [
      "**Erdős 1964:** g_k(n) ~ (log log n)^{r-1}/(r-1)! · n/log n for 2^{r-1} < k ≤ 2^r",
      "**k = 3 Case:** r = 2, so g₃(n) ~ (log log n / log n)·n",
      "**Second-Order Bounds:** Error is Θ(n/(log n)²)",
      "**Optimal Sets:** Related to integers with 2 prime factors",
      "**Divisor Connection:** τ(m) controls representation count",
      "**Problem #425:** Handles k = 2 case (primes)"
    ]
  },
  "sections": [
    {
      "id": "definitions",
      "title": "Basic Definitions",
      "startLine": 39,
      "endLine": 69,
      "summary": "IsProductRep, repCount, IsBoundedRep, IsValidSubset"
    },
    {
      "id": "g-function",
      "title": "The g_k(n) Function",
      "startLine": 71,
      "endLine": 88,
      "summary": "Definition and well-definedness of g"
    },
    {
      "id": "first-order",
      "title": "First-Order Asymptotics",
      "startLine": 90,
      "endLine": 122,
      "summary": "omega_count, erdos_1964_main"
    },
    {
      "id": "k3-case",
      "title": "The k = 3 Case",
      "startLine": 124,
      "endLine": 141,
      "summary": "g3_first_order derivation"
    },
    {
      "id": "second-order",
      "title": "Second-Order Terms",
      "startLine": 143,
      "endLine": 177,
      "summary": "E3, E3_bounded, erdosConjecture796"
    },
    {
      "id": "k2-case",
      "title": "The k = 2 Case",
      "startLine": 179,
      "endLine": 196,
      "summary": "g2_asymptotic, Problem #425 connection"
    },
    {
      "id": "optimal-sets",
      "title": "Optimal Sets",
      "startLine": 198,
      "endLine": 217,
      "summary": "IsNearOptimal3, optimal_sets_structure"
    },
    {
      "id": "higher-k",
      "title": "Higher k Values",
      "startLine": 219,
      "endLine": 236,
      "summary": "General pattern explanation"
    },
    {
      "id": "multiplicative",
      "title": "Multiplicative Structure",
      "startLine": 238,
      "endLine": 257,
      "summary": "divisor_connection, prime_power_reps"
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 259,
      "endLine": 309,
      "summary": "Main results and historical note"
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #796 is OPEN. The first-order asymptotics for g_k(n) are fully established by Erdős (1964). For k = 3, bounds on the second-order error term are known, but the question of whether E₃(n)/(n/(log n)²) converges to a constant c remains open.",
    "implications": "This problem exemplifies the challenge of determining 'second-order' terms in asymptotic expansions. The answer would reveal finer structure in the distribution of integers with given factorization properties.",
    "openQuestions": [
      "Does E₃(n)/(n/(log n)²) converge?",
      "What is the exact value of c if it exists?",
      "Similar questions for g_k with k > 3"
    ]
  }
}
