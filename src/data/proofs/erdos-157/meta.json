{
  "id": "erdos-157",
  "title": "Erdős Problem #157: Infinite Sidon Set as Asymptotic Basis",
  "slug": "erdos-157",
  "description": "Does there exist an infinite Sidon set which is an asymptotic basis of order 3? YES (Pilatte 2023). Two theorems verified: sidon_iff_sidon_alt and powers_of_two_sidon.",
  "meta": {
    "author": "Pilatte (2023), Erdős-Turán (1941)",
    "sourceUrl": "https://erdosproblems.com/157",
    "date": "2023",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos157Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "sidon-set",
      "asymptotic-basis",
      "additive-combinatorics",
      "density"
    ],
    "badge": "verified",
    "sorries": 3,
    "erdosNumber": 157,
    "erdosUrl": "https://erdosproblems.com/157",
    "erdosProblemStatus": "solved",
    "dateAdded": "2026-01-17",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Set.ncard",
        "description": "Natural-valued cardinality for sets",
        "module": "Mathlib.Data.Set.Card"
      },
      {
        "theorem": "Finset.sum",
        "description": "Sums over finite sets",
        "module": "Mathlib.Algebra.BigOperators.Group.Finset"
      },
      {
        "theorem": "Filter.atTop",
        "description": "Filter for limits at infinity",
        "module": "Mathlib.Order.Filter.AtTopBot"
      },
      {
        "theorem": "Real.sqrt",
        "description": "Square root on real numbers",
        "module": "Mathlib.Analysis.SpecialFunctions.Pow.Real"
      }
    ],
    "originalContributions": [
      "Definition of IsSidon (B₂ sequence property)",
      "Alternative characterization IsSidonAlt via sumset cardinality",
      "Verified theorem: sidon_iff_sidon_alt (equivalence of definitions)",
      "Definition of SumsetK for k-fold sums",
      "Definition of IsAsymptoticBasis for asymptotic bases",
      "Erdos157Conjecture formalization",
      "Pilatte's existence theorem statement",
      "Sidon density upper bound (Erdős-Turán)",
      "Basis density lower bound",
      "Verified theorem: powers_of_two_sidon"
    ]
  },
  "overview": {
    "historicalContext": "**Sidon sets** (B₂ sequences) have all pairwise sums distinct. **Erdős-Turán (1941)** proved they grow at most like √N, making them fundamentally sparse.\n\n**Asymptotic bases** of order k represent all large integers with at most k terms. They require density at least N^{1/k}.\n\n**The Question**: Can these competing constraints coexist? Order 2 is impossible (density mismatch). **Pilatte (2023)** proved order 3 works, settling Erdős's conjecture affirmatively.\n\n**Verified Content**: This formalization includes two complete proofs:\n1. `sidon_iff_sidon_alt`: Equivalence of Sidon definitions\n2. `powers_of_two_sidon`: {2^k} is a Sidon set",
    "problemStatement": "**Erdős Problem #157 (SOLVED)**: Does there exist an infinite Sidon set which is an asymptotic basis of order 3?\n\n**Answer**: YES (Pilatte 2023)\n\n**Definitions**:\n- **Sidon set**: A ⊆ ℕ where a + b = c + d (a ≤ b, c ≤ d) implies (a,b) = (c,d)\n- **Asymptotic basis of order k**: ∃ N₀, ∀ n ≥ N₀, n is a sum of ≤ k elements of A\n\n**Key insight**: Sidon sets grow like √N = N^{1/2}. Order-k bases need N^{1/k} density. Since 1/3 < 1/2, order 3 is feasible while order 2 is not.",
    "proofStrategy": "The formalization captures the problem structure:\n\n1. **Sidon definitions**: IsSidon (direct) and IsSidonAlt (via cardinality)\n2. **Verified equivalence**: sidon_iff_sidon_alt proved using Set.ncard\n3. **Basis definitions**: SumsetK and IsAsymptoticBasis\n4. **Counting bounds**: Sidon upper bound (√N), basis lower bound (N^{1/k})\n5. **Pilatte's theorem**: Existence statement (sorry - probabilistic construction)\n6. **Verified example**: powers_of_two_sidon shows {2^k} is Sidon",
    "keyInsights": [
      "**Order 3 is the boundary**: Order 2 impossible (density too low), order 3 achievable (Pilatte's construction).",
      "**Density arithmetic**: Sidon ≤ √N = N^{1/2}, basis needs ≥ N^{1/k}. Compatible iff k ≥ 3.",
      "**Powers of 2 example**: The canonical Sidon set {1, 2, 4, 8, ...} demonstrates the definition (verified).",
      "**Probabilistic proof**: Pilatte's construction is non-explicit, using the probabilistic method.",
      "**Bug discovery**: The original example set was NOT Sidon - formal verification caught this error."
    ]
  },
  "sections": [
    {
      "id": "sidon-definitions",
      "title": "Sidon Set Definitions",
      "startLine": 28,
      "endLine": 56,
      "summary": "IsSidon, IsSidonAlt, and the verified equivalence theorem."
    },
    {
      "id": "basis-definitions",
      "title": "Asymptotic Basis Definitions",
      "startLine": 58,
      "endLine": 72,
      "summary": "SumsetK, IsAsymptoticBasis, IsExactBasis."
    },
    {
      "id": "main-question",
      "title": "The Main Question",
      "startLine": 74,
      "endLine": 92,
      "summary": "Erdos157Conjecture and Pilatte's existence theorem."
    },
    {
      "id": "related-results",
      "title": "Related Results",
      "startLine": 94,
      "endLine": 111,
      "summary": "Order 2 impossibility, counting bounds for Sidon sets and bases."
    },
    {
      "id": "examples",
      "title": "Examples",
      "startLine": 127,
      "endLine": 154,
      "summary": "Verified: powers_of_two_sidon. Example finite Sidon set."
    }
  ],
  "conclusion": {
    "summary": "We formalize Erdős Problem #157 on infinite Sidon sets as asymptotic bases. The answer is YES for order 3 (Pilatte 2023), while order 2 is impossible due to density constraints. The formalization includes two verified theorems: the equivalence of Sidon definitions, and the proof that powers of 2 form a Sidon set.",
    "implications": "This result clarifies the boundary between sparse sets with unique-sum structure and dense sets capable of representing all integers. The interplay between Sidon sparsity (√N) and basis density (N^{1/k}) is fundamental to understanding additive structure.",
    "openQuestions": [
      "Can an explicit infinite Sidon set that is an order-3 basis be constructed?",
      "What is the smallest order k such that every infinite Sidon set is NOT an order-k basis?",
      "Are there natural number-theoretic Sidon sets (like primes of special form) that are order-3 bases?"
    ]
  }
}
