[
  {
    "id": "ann-e759-header",
    "proofId": "erdos-759",
    "range": {
      "startLine": 1,
      "endLine": 27
    },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #759**: Cochromatic Number on Surfaces\n\nDetermine the growth rate of z(S_n), the maximum cochromatic number on genus-n surfaces.\n\n**Status**: SOLVED (Gimbel-Thomassen 1997)\n\n**Answer**: z(S_n) ≍ √n / log n\n\n**Key history**: Gimbel (1986) gave initial bounds; Gimbel-Thomassen (1997) proved tight bound.",
    "mathContext": "Cochromatic number generalizes chromatic number by allowing color classes to be cliques (not just independent sets).",
    "significance": "critical",
    "relatedConcepts": [
      "cochromatic-number",
      "surface-embedding",
      "genus",
      "growth-rate"
    ]
  },
  {
    "id": "ann-e759-clique-indep",
    "proofId": "erdos-759",
    "range": {
      "startLine": 39,
      "endLine": 57
    },
    "type": "definition",
    "title": "Cliques and Independent Sets",
    "content": "**isClique G S**: Every pair in S is adjacent.\n\n**isIndependent G S**: No pair in S is adjacent.\n\n**isCochromaticValid G S**: S is a clique OR independent set.\n\n```lean\ndef isCochromaticValid (G : SimpleGraph V) (S : Set V) : Prop :=\n  isClique G S ∨ isIndependent G S\n```\n\nThis is the key generalization from chromatic to cochromatic coloring.",
    "mathContext": "In chromatic coloring, color classes must be independent. In cochromatic coloring, they can also be cliques - a more flexible condition.",
    "significance": "critical",
    "relatedConcepts": [
      "clique",
      "independent-set",
      "cochromatic-valid"
    ]
  },
  {
    "id": "ann-e759-cochromatic",
    "proofId": "erdos-759",
    "range": {
      "startLine": 59,
      "endLine": 93
    },
    "type": "axiom",
    "title": "Cochromatic Number",
    "content": "**axiom cochromaticNumber G : ℕ**\n\nThe minimum colors needed so each color class is cochromatic-valid.\n\n**Key property**: ζ(G) ≤ χ(G) always.\n\nEvery proper (chromatic) coloring is a cochromatic coloring since independent sets are cochromatic-valid.\n\nSo cochromatic number is a relaxation of chromatic number.",
    "mathContext": "The cochromatic number was introduced to study graph structure. It can be much smaller than chromatic number for graphs with large cliques.",
    "significance": "critical",
    "relatedConcepts": [
      "cochromatic-number",
      "chromatic-number",
      "relaxation"
    ]
  },
  {
    "id": "ann-e759-surface",
    "proofId": "erdos-759",
    "range": {
      "startLine": 95,
      "endLine": 129
    },
    "type": "definition",
    "title": "Orientable Surfaces",
    "content": "**structure OrientableSurface**: Surface with genus n.\n\n**Examples**:\n- sphere = S_0 (genus 0)\n- torus = S_1 (genus 1)\n- S_n = connected sum of n tori\n\n**Euler's Formula**: For G embedded on S_n:\nV - E + F = 2 - 2n\n\nThis constrains graph density on surfaces.",
    "mathContext": "Genus measures the 'complexity' of a surface. Higher genus allows denser graphs to be embedded.",
    "significance": "key",
    "relatedConcepts": [
      "orientable-surface",
      "genus",
      "euler-formula"
    ]
  },
  {
    "id": "ann-e759-embedding",
    "proofId": "erdos-759",
    "range": {
      "startLine": 112,
      "endLine": 119
    },
    "type": "definition",
    "title": "Graph Embedding",
    "content": "**def isEmbeddableOn G S**: G can be drawn on surface S without edge crossings.\n\n**Planar graphs**: Embeddable on sphere (S_0)\n**Toroidal graphs**: Embeddable on torus (S_1)\n\n**Higher genus**: More edges allowed\nBy Euler: |E| ≤ 3|V| + 6(n-1) for S_n",
    "mathContext": "Embedding theory is central to topological graph theory. Kuratowski's theorem characterizes planar graphs via forbidden subdivisions.",
    "significance": "key",
    "relatedConcepts": [
      "embedding",
      "planar",
      "kuratowski"
    ]
  },
  {
    "id": "ann-e759-max-cochromatic",
    "proofId": "erdos-759",
    "range": {
      "startLine": 131,
      "endLine": 151
    },
    "type": "axiom",
    "title": "Maximum Cochromatic Number z(S_n)",
    "content": "**axiom maxCochromaticNumber n : ℕ**\n\nz(S_n) = max{ζ(G) : G embeddable on S_n}\n\n**Properties**:\n- maxCochromatic_realizes: The maximum is achieved\n- maxCochromatic_upper: All embeddable G have ζ(G) ≤ z(S_n)\n\nThe question: How does z(S_n) grow with n?",
    "mathContext": "Extremal graph theory asks for maximum values of graph parameters under constraints. Here the constraint is surface embeddability.",
    "significance": "critical",
    "relatedConcepts": [
      "max-cochromatic",
      "extremal",
      "embeddability"
    ]
  },
  {
    "id": "ann-e759-question",
    "proofId": "erdos-759",
    "range": {
      "startLine": 153,
      "endLine": 176
    },
    "type": "definition",
    "title": "The Main Question",
    "content": "**erdos759Question**: Is z(S_n) = Θ(√n / log n)?\n\n```lean\ndef erdos759Question : Prop :=\n  ∃ (c₁ c₂ : ℝ), c₁ > 0 ∧ c₂ > 0 ∧\n    ∀ n : ℕ, n ≥ 2 →\n      c₁ * √n / log n ≤ z(S_n) ≤ c₂ * √n / log n\n```\n\nThis asks for tight asymptotic bounds on z(S_n).",
    "mathContext": "Growth rate questions ask for the correct order of magnitude. Θ-notation means matching upper and lower bounds up to constants.",
    "significance": "critical",
    "relatedConcepts": [
      "growth-rate",
      "theta-notation",
      "asymptotics"
    ]
  },
  {
    "id": "ann-e759-gimbel-lower",
    "proofId": "erdos-759",
    "range": {
      "startLine": 178,
      "endLine": 191
    },
    "type": "axiom",
    "title": "Gimbel's Lower Bound (1986)",
    "content": "**axiom gimbel_lower_bound**: z(S_n) ≥ c · √n / log n\n\n**Construction idea**: Use high-girth graphs embeddable on S_n.\n\nHigh-girth graphs have:\n- Low chromatic number (no small cliques)\n- High cochromatic number (forced to use many colors)\n\nThis gives z(S_n) ≫ √n / log n.",
    "mathContext": "Gimbel's 1986 paper 'Three extremal problems in cochromatic theory' established this lower bound using probabilistic existence arguments.",
    "significance": "key",
    "relatedConcepts": [
      "gimbel-1986",
      "lower-bound",
      "high-girth"
    ]
  },
  {
    "id": "ann-e759-gimbel-upper",
    "proofId": "erdos-759",
    "range": {
      "startLine": 193,
      "endLine": 201
    },
    "type": "axiom",
    "title": "Gimbel's Upper Bound (1986)",
    "content": "**axiom gimbel_upper_bound**: z(S_n) ≤ C · √n\n\nThis was the initial upper bound - weaker by a factor of log n.\n\n**Proof idea**: Use Euler's formula to bound graph density on S_n, then bound cochromatic number in terms of density.\n\n**The gap**: √n/log n vs √n - which is correct?",
    "mathContext": "The log n gap between bounds was the key open question. Either the lower or upper bound needed improvement.",
    "significance": "key",
    "relatedConcepts": [
      "upper-bound",
      "euler-formula",
      "gap"
    ]
  },
  {
    "id": "ann-e759-gimbel-thomassen",
    "proofId": "erdos-759",
    "range": {
      "startLine": 203,
      "endLine": 224
    },
    "type": "axiom",
    "title": "Gimbel-Thomassen Theorem (1997)",
    "content": "**axiom gimbel_thomassen_theorem**: z(S_n) ≍ √n / log n\n\nThey proved the tight upper bound: z(S_n) ≤ C · √n / log n.\n\n**Key insight**: The log n factor in the lower bound is essential!\n\n**theorem erdos759_answer : erdos759Question**\nFollows from gimbel_thomassen_theorem.\n\nThe problem is completely resolved.",
    "mathContext": "The 1997 paper 'Coloring graphs with fixed genus and girth' appeared in Trans. Amer. Math. Soc. The proof uses deep structural arguments about surface embeddings.",
    "significance": "critical",
    "relatedConcepts": [
      "gimbel-thomassen-1997",
      "tight-bound",
      "resolution"
    ]
  },
  {
    "id": "ann-e759-heawood",
    "proofId": "erdos-759",
    "range": {
      "startLine": 226,
      "endLine": 251
    },
    "type": "axiom",
    "title": "Heawood Number",
    "content": "**axiom heawood_number n : ℕ**\n\nH(n) = ⌊(7 + √(1 + 48n)) / 2⌋\n\nThis is the maximum chromatic number for graphs on S_n (for n ≥ 1).\n\n**Heawood Conjecture** (proved): χ(G) ≤ H(n) for G on S_n.\n\n**Ringel-Youngs** (1968): The bound is achieved - K_{H(n)} embeds on S_n.\n\n**Note**: H(n) = Θ(√n), while z(S_n) = Θ(√n / log n).",
    "mathContext": "The Heawood conjecture and Ringel-Youngs theorem are landmarks of topological graph theory, completing the map coloring problem for surfaces.",
    "significance": "key",
    "relatedConcepts": [
      "heawood",
      "ringel-youngs",
      "chromatic-surface"
    ]
  },
  {
    "id": "ann-e759-girth",
    "proofId": "erdos-759",
    "range": {
      "startLine": 252,
      "endLine": 260
    },
    "type": "axiom",
    "title": "Girth and Cochromatic Number",
    "content": "**axiom high_girth_cochromatic**: Girth affects cochromatic number.\n\n**High girth** = no short cycles.\n\n**Effect on coloring**:\n- Low chromatic number (Erdős: χ ≤ O(n^{1-1/g}))\n- But cochromatic number can still be high\n\nHigh-girth graphs achieve the lower bound for z(S_n).",
    "mathContext": "Girth is the length of the shortest cycle. High-girth graphs are sparse but can be hard to cochromatic-color.",
    "significance": "supporting",
    "relatedConcepts": [
      "girth",
      "sparse-graphs",
      "extremal"
    ]
  },
  {
    "id": "ann-e759-intuition",
    "proofId": "erdos-759",
    "range": {
      "startLine": 262,
      "endLine": 273
    },
    "type": "axiom",
    "title": "Why √n / log n?",
    "content": "**axiom growth_rate_intuition**: Understanding the growth rate.\n\n**The √n**: Comes from Euler's formula constraints on S_n.\nMaximum vertices in dense graphs is O(n).\nSquare root appears in many surface graph bounds.\n\n**The log n**: Comes from girth considerations.\nHigh-girth graphs (which achieve the lower bound) have this factor.\n\nTogether: √n / log n is the natural growth rate.",
    "mathContext": "The interplay between density (√n) and local structure (log n factor) determines the cochromatic behavior.",
    "significance": "supporting",
    "relatedConcepts": [
      "intuition",
      "euler-constraint",
      "girth-factor"
    ]
  },
  {
    "id": "ann-e759-planar",
    "proofId": "erdos-759",
    "range": {
      "startLine": 275,
      "endLine": 282
    },
    "type": "axiom",
    "title": "Planar Case",
    "content": "**axiom planar_cochromatic_bounded**: z(S_0) is bounded.\n\nFor planar graphs:\n- χ ≤ 4 (4-color theorem)\n- ζ ≤ χ ≤ 4\n\nSo cochromatic number of planar graphs is at most 4.\n\nThe interesting growth happens for n ≥ 1.",
    "mathContext": "Planar graphs are the special case n = 0. Their bounded chromatic number implies bounded cochromatic number.",
    "significance": "supporting",
    "relatedConcepts": [
      "planar",
      "4-color-theorem",
      "bounded"
    ]
  },
  {
    "id": "ann-e759-summary",
    "proofId": "erdos-759",
    "range": {
      "startLine": 284,
      "endLine": 298
    },
    "type": "theorem",
    "title": "Summary of Results",
    "content": "**theorem erdos_759_summary** combines:\n\n1. **Gimbel lower**: z(S_n) ≥ c · √n / log n (1986)\n2. **Gimbel-Thomassen**: z(S_n) ≍ √n / log n (1997)\n\n**The resolution**: The lower bound is tight.\n\nThe maximum cochromatic number on genus-n surfaces grows like √n / log n.",
    "mathContext": "The summary packages the key results. The 11-year gap between Gimbel's bounds and the resolution shows the difficulty of the upper bound.",
    "significance": "key",
    "relatedConcepts": [
      "summary",
      "tight-bound",
      "resolution"
    ]
  },
  {
    "id": "ann-e759-main",
    "proofId": "erdos-759",
    "range": {
      "startLine": 300,
      "endLine": 312
    },
    "type": "theorem",
    "title": "Main Result: erdos_759",
    "content": "**theorem erdos_759 : erdos759Question**\n\n**Statement**: z(S_n) ≍ √n / log n.\n\nThere exist constants c₁, c₂ > 0 such that for all n ≥ 2:\nc₁ · √n / log n ≤ z(S_n) ≤ c₂ · √n / log n\n\n**Status**: SOLVED (Gimbel-Thomassen 1997)",
    "mathContext": "This is the formal statement that completely determines the growth rate of maximum cochromatic number on surfaces.",
    "significance": "critical",
    "relatedConcepts": [
      "main-theorem",
      "erdos-759",
      "solved"
    ]
  },
  {
    "id": "ann-e759-imports",
    "proofId": "erdos-759",
    "range": {
      "startLine": 29,
      "endLine": 37
    },
    "type": "definition",
    "title": "Mathlib Imports",
    "content": "**Required Mathlib modules**:\n\n- `SimpleGraph.Basic`: Graph definitions\n- `Data.Real.Basic`: Real numbers\n- `Log.Basic`: Logarithm for bounds\n- `Pow.Real`: Square root\n\nThese provide tools for stating asymptotic bounds on graph parameters.",
    "mathContext": "The imports reflect the mix of discrete (graphs) and continuous (asymptotics) mathematics in this problem.",
    "significance": "supporting",
    "relatedConcepts": [
      "mathlib",
      "imports",
      "lean4"
    ]
  },
  {
    "id": "ann-e759-comparison",
    "proofId": "erdos-759",
    "range": {
      "startLine": 85,
      "endLine": 93
    },
    "type": "axiom",
    "title": "Chromatic vs Cochromatic",
    "content": "**axiom cochromatic_le_chromatic**: ζ(G) ≤ χ(G)\n\n**Why?** Independent sets are cochromatic-valid.\nSo any chromatic coloring is also cochromatic.\n\n**On surfaces**:\n- max χ on S_n = H(n) = Θ(√n)\n- max ζ on S_n = z(S_n) = Θ(√n / log n)\n\nCochromatic grows more slowly by factor log n!",
    "mathContext": "The log n difference between χ and ζ extremals shows that cochromatic number captures different graph structure than chromatic number.",
    "significance": "key",
    "relatedConcepts": [
      "comparison",
      "chromatic",
      "cochromatic"
    ]
  },
  {
    "id": "ann-e759-historical",
    "proofId": "erdos-759",
    "range": {
      "startLine": 1,
      "endLine": 27
    },
    "type": "concept",
    "title": "Historical Timeline",
    "content": "**Timeline**:\n- **1986**: Gimbel proves √n/log n ≪ z(S_n) ≪ √n\n- **1993**: Erdős and Gimbel pose the problem\n- **1997**: Gimbel-Thomassen prove z(S_n) ≍ √n/log n\n\n**The gap**: 11 years between initial bounds and resolution.\n\n**The resolution**: Upper bound improved from √n to √n/log n.",
    "mathContext": "The problem went from partial results to complete resolution over a decade of work on topological graph coloring.",
    "significance": "supporting",
    "relatedConcepts": [
      "history",
      "timeline",
      "progress"
    ]
  }
]
