{
  "id": "erdos-789",
  "title": "Erdős Problem #789: Sum-Length-Free Subsets",
  "slug": "erdos-789",
  "description": "Estimate h(n) where h(n) is the max |B| such that equal sums in B have equal length. Known: (n log n)^{1/3} ≪ h(n) ≪ √n. Status: OPEN.",
  "meta": {
    "author": "Erdős, Straus, Choi",
    "sourceUrl": "https://erdosproblems.com/789",
    "date": "1962-1974",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos789Problem.lean",
    "tags": [
      "erdos",
      "additive-combinatorics",
      "sum-free-sets",
      "extremal-combinatorics",
      "sidon-sets"
    ],
    "badge": "axiom",
    "sorries": 0,
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Real.sqrt",
        "description": "Square root for upper bound",
        "module": "Mathlib.Data.Real.Basic"
      },
      {
        "theorem": "Real.log",
        "description": "Logarithm for lower bound",
        "module": "Mathlib.Data.Real.Basic"
      },
      {
        "theorem": "Finset.card",
        "description": "Cardinality for subset sizes",
        "module": "Mathlib.Data.Finset.Card"
      },
      {
        "theorem": "Multiset.sum",
        "description": "Multiset sums for sum representations",
        "module": "Mathlib.Algebra.BigOperators.Group.Finset.Basic"
      }
    ],
    "originalContributions": [
      "SumRep structure for sum representations",
      "SumRep.length and SumRep.value definitions",
      "SumLengthFree property definition",
      "h function axiom (maximal sum-length-free subset)",
      "h_achievable axiom (existence)",
      "erdos_1962_upper axiom (n^{5/6})",
      "straus_1966_upper axiom (√n, best upper)",
      "erdos_1962_lower axiom (n^{1/3})",
      "erdos_choi_1974_lower axiom ((n log n)^{1/3}, best lower)",
      "combined_bounds theorem",
      "IsSidonSet definition and connection",
      "sidon_implies_sum_length_free relation",
      "Computational examples with native_decide",
      "erdos_789_statement main theorem"
    ],
    "erdosNumber": 789,
    "erdosUrl": "https://erdosproblems.com/789",
    "erdosProblemStatus": "open"
  },
  "overview": {
    "historicalContext": "**The Sum-Length-Free Property**\\n\\nA set B is sum-length-free if whenever two sums of elements from B are equal, they must involve the same number of terms. This is weaker than the Sidon property (which requires the actual terms to be equal).\\n\\n**Erdős's Original Work (1962)**\\n\\nErdős proved h(n) ≪ n^{5/6} and h(n) ≫ n^{1/3}. The lower bound used a beautiful probabilistic construction: for random α, the set of elements whose fractional parts {αa} lie in a small interval tends to be sum-length-free.\\n\\n**Straus's Improvement (1966)**\\n\\nStraus dramatically improved the upper bound to h(n) ≪ √n using a clever counting argument on sum representations.\\n\\n**Erdős-Choi (1974)**\\n\\nChoi improved the lower bound to h(n) ≫ (n log n)^{1/3} by refining Erdős's probabilistic argument.\\n\\n**The Gap**\\n\\nThe gap between (n log n)^{1/3} and √n is substantial. For n = 10^6, this is roughly 239 vs 1000. Closing this gap is the main open problem.",
    "problemStatement": "Let h(n) be maximal such that if A ⊆ ℤ with |A| = n then there is B ⊆ A with |B| ≥ h(n) such that if a₁+⋯+aᵣ = b₁+⋯+bₛ with aᵢ,bᵢ ∈ B then r = s. Estimate h(n).",
    "proofStrategy": "We formalize the sum-length-free property via SumRep structures and the SumLengthFree predicate. The function h(n) is axiomatized with bounds from Straus (upper) and Erdős-Choi (lower). We connect to Sidon sets and show computational examples. The main theorem combines all known bounds.",
    "keyInsights": [
      "Sum-length-free is weaker than Sidon: only length must match",
      "Upper bound h(n) ≪ √n (Straus 1966) matches Sidon bound",
      "Lower bound h(n) ≫ (n log n)^{1/3} (Erdős-Choi 1974)",
      "Gap between exponents 1/3 and 1/2 is significant",
      "Probabilistic construction uses fractional parts {αa}",
      "Sidon sets are automatically sum-length-free",
      "Related to Problems 186 (sum-free) and 874"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "summary": "SumRep and SumLengthFree property",
      "startLine": 41,
      "endLine": 60
    },
    {
      "id": "h-function",
      "title": "The Function h(n)",
      "summary": "Definition and existence axioms",
      "startLine": 62,
      "endLine": 79
    },
    {
      "id": "upper-bounds",
      "title": "Upper Bounds",
      "summary": "Erdős n^{5/6}, Straus √n",
      "startLine": 81,
      "endLine": 98
    },
    {
      "id": "lower-bounds",
      "title": "Lower Bounds",
      "summary": "Erdős n^{1/3}, Choi (n log n)^{1/3}",
      "startLine": 100,
      "endLine": 117
    },
    {
      "id": "gap",
      "title": "The Gap",
      "summary": "Combined bounds and gap analysis",
      "startLine": 119,
      "endLine": 132
    },
    {
      "id": "construction",
      "title": "Erdős's Construction",
      "summary": "Probabilistic method with fractional parts",
      "startLine": 134,
      "endLine": 145
    },
    {
      "id": "sidon",
      "title": "Connection to Sidon Sets",
      "summary": "Sidon implies sum-length-free",
      "startLine": 147,
      "endLine": 163
    },
    {
      "id": "examples",
      "title": "Examples",
      "summary": "Computational bounds",
      "startLine": 185,
      "endLine": 206
    },
    {
      "id": "summary",
      "title": "Summary",
      "summary": "Main theorem and status",
      "startLine": 234,
      "endLine": 272
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #789 asks for the growth rate of h(n), the maximum size of a sum-length-free subset. Straus proved h(n) ≪ √n (1966) and Erdős-Choi proved h(n) ≫ (n log n)^{1/3} (1974). The gap between these bounds remains open.",
    "implications": "Understanding h(n) would illuminate the structure of additive combinatorics. The sum-length-free property sits between arbitrary sets and Sidon sets in terms of constraint strength.",
    "openQuestions": [
      "What is the true growth rate of h(n)?",
      "Is h(n) ~ √n (Straus bound tight)?",
      "Is h(n) ~ n^α for some 1/3 < α < 1/2?",
      "Can the probabilistic construction be improved?",
      "What is the connection to other sum problems?"
    ]
  }
}
