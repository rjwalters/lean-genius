{
  "id": "erdos-56",
  "title": "Erdős Problem #56: Weakly Divisible Sets",
  "slug": "erdos-56",
  "description": "Is the set of multiples of the first k primes the largest subset of {1,...,N} with no k+1 pairwise coprime elements?",
  "meta": {
    "author": "Ahlswede, Khachatrian (1994, 1995)",
    "sourceUrl": "https://erdosproblems.com/56",
    "date": "1994",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos56Problem.lean",
    "tags": ["erdos", "number-theory", "combinatorics", "coprime", "primes"],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 56,
    "erdosUrl": "https://erdosproblems.com/56",
    "erdosProblemStatus": "disproved",
    "dateAdded": "2026-01-13",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.Prime",
        "description": "Primality predicate for natural numbers",
        "module": "Mathlib.Data.Nat.Prime.Basic"
      },
      {
        "theorem": "Finset.powersetCard",
        "description": "Subsets of a fixed cardinality",
        "module": "Mathlib.Data.Finset.Powerset"
      },
      {
        "theorem": "Nat.Coprime",
        "description": "Coprimality (gcd = 1) for natural numbers",
        "module": "Mathlib.Data.Nat.GCD.Basic"
      },
      {
        "theorem": "Nat.nth",
        "description": "The n-th element satisfying a predicate",
        "module": "Mathlib.Data.Nat.Nth"
      }
    ],
    "originalContributions": [
      "Formal definition of k-weakly divisible sets in Lean 4",
      "Definition of MaxWeaklyDivisible as supremum over valid subsets",
      "Verified boundary cases: empty sets, k=0, N=0",
      "Concrete verification that gcd(2,4) = 2 (even numbers share factors)"
    ]
  },
  "overview": {
    "historicalContext": "Erdős Problem #56 addresses a fundamental question in combinatorial number theory: how large can a subset of {1,...,N} be if we forbid too many pairwise coprime elements?\n\nThe conjecture seemed natural: take all multiples of the first k primes (2, 3, 5, ..., p_k). Any k+1 numbers from this set must include two that share a prime factor, so they can't all be pairwise coprime. Erdős conjectured this construction was optimal.\n\nSurprisingly, Ahlswede and Khachatrian disproved this in 1994, finding a counterexample at k=212. However, they later proved (1995) that Erdős's conjecture IS true when N is sufficiently large relative to k. This reveals a subtle phase transition in the problem's behavior.",
    "problemStatement": "Let $N \\geq p_k$ where $p_k$ is the $k$-th prime. Define a set $A \\subseteq \\{1,\\ldots,N\\}$ to be **$k$-weakly divisible** if no $k+1$ elements of $A$ are pairwise coprime.\n\nThe natural example is $M_k(N)$ = multiples of the first $k$ primes in $\\{1,\\ldots,N\\}$.\n\n**Conjecture**: $M_k(N)$ has maximum cardinality among all $k$-weakly divisible subsets.\n\n**Answer**: FALSE in general (disproved for $k=212$), but TRUE for $N$ sufficiently large.",
    "proofStrategy": "We formalize the definitions and state the main result as an axiom. The key components are:\n\n1. **WeaklyDivisible k A**: For every (k+1)-subset of A, at least two elements share a common factor\n\n2. **MaxWeaklyDivisible N k**: The supremum of cardinalities over all valid subsets\n\n3. **FirstPrimesMultiples N k**: The conjectured optimal set\n\nThe axiom states Erdős's conjecture is false. The counterexample construction by Ahlswede-Khachatrian involves careful analysis of which numbers in {1,...,N} can be added beyond the prime multiples while maintaining the coprimality constraint.",
    "keyInsights": [
      "**Weakly divisible sets**: A set where any k+1 elements must include two with a common factor. This generalizes the idea that multiples of a prime can't be mutually coprime.",
      "**The prime multiples construction**: Taking all multiples of p_1, p_2, ..., p_k gives a k-weakly divisible set, since any k+1 numbers must hit some prime twice by pigeonhole.",
      "**Why the conjecture fails**: For certain k and N near the boundary (N close to p_k), one can carefully add numbers coprime to all first k primes without creating k+1 pairwise coprimes.",
      "**The large-N regime**: When N >> p_k^2, there are so many multiples of each prime that the boundary effects disappear, and the conjecture holds.",
      "**Connection to extremal combinatorics**: This is a Turán-type problem asking for the maximum size of a set avoiding a forbidden configuration (k+1 pairwise coprimes)."
    ]
  },
  "sections": [
    {
      "id": "imports",
      "title": "Imports and Setup",
      "startLine": 1,
      "endLine": 25,
      "summary": "Module documentation explaining the problem and Mathlib imports for primes, finsets, and coprimality."
    },
    {
      "id": "definitions",
      "title": "Key Definitions",
      "startLine": 27,
      "endLine": 75,
      "summary": "Defines WeaklyDivisible, MaxWeaklyDivisible, and FirstPrimesMultiples with doc comments."
    },
    {
      "id": "main-theorem",
      "title": "Main Result (Disproved)",
      "startLine": 77,
      "endLine": 103,
      "summary": "States Erdős's conjecture and its negation as an axiom, with justification."
    },
    {
      "id": "examples",
      "title": "Verified Examples",
      "startLine": 105,
      "endLine": 134,
      "summary": "Boundary cases and concrete verification that even numbers share factors."
    }
  ],
  "conclusion": {
    "summary": "We formalize Erdős Problem #56, which asks whether the set of multiples of the first k primes is the largest k-weakly divisible subset of {1,...,N}. The answer is NO in general—Ahlswede and Khachatrian found counterexamples—but YES when N is sufficiently large. We state the disproof as an axiom and verify basic properties of the definitions.",
    "implications": "This result illustrates how combinatorial extremal problems can have surprising phase transitions. The 'obvious' construction isn't always optimal, especially near boundaries. The techniques developed by Ahlswede and Khachatrian connect to intersection theorems in combinatorics (Erdős-Ko-Rado type results).",
    "openQuestions": [
      "What is the smallest k for which the conjecture fails?",
      "Can we characterize exactly when M_k(N) is optimal?",
      "What is the asymptotic behavior of Max/|M_k(N)| for fixed k as N grows?"
    ]
  }
}
