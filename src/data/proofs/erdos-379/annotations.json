[
  {
    "id": "ann-e379-header",
    "proofId": "erdos-379",
    "range": { "startLine": 1, "endLine": 22 },
    "type": "concept",
    "title": "Problem Introduction",
    "content": "**Erdos Problem #379** asks whether the function S(n) - the largest s such that EVERY binomial coefficient C(n,k) for 1 <= k < n is divisible by some prime power p^s - satisfies limsup S(n) = infinity.",
    "mathContext": "The answer is YES, proved by Cambie, Kovac, and Tao with Lean verification. The key construction uses n = 3^{2^m}.",
    "significance": "critical",
    "relatedConcepts": ["erdos", "binomial-coefficients", "prime-powers", "limsup"]
  },
  {
    "id": "ann-e379-maxprimepowerexp",
    "proofId": "erdos-379",
    "range": { "startLine": 42, "endLine": 44 },
    "type": "definition",
    "title": "Maximum Prime Power Exponent",
    "content": "**maxPrimePowerExp(n,k)** computes the supremum of exponents s such that p^s divides C(n,k) for some prime p. This measures how 'highly divisible' a single binomial coefficient is.",
    "mathContext": "Defined as sSup {s | exists p prime with p^s | C(n,k)}. For example, C(9,1) = 9 = 3^2 gives maxPrimePowerExp(9,1) >= 2.",
    "significance": "key",
    "relatedConcepts": ["supremum", "divisibility", "prime-power"]
  },
  {
    "id": "ann-e379-S-def",
    "proofId": "erdos-379",
    "range": { "startLine": 46, "endLine": 49 },
    "type": "definition",
    "title": "The Function S(n)",
    "content": "**S(n)** is the INFIMUM of maxPrimePowerExp(n,k) over all 1 <= k < n. This captures the 'worst case' - the k with lowest prime power divisibility.",
    "mathContext": "S(n) answers: what's the largest s guaranteed to work for ALL binomial coefficients? Taking the minimum over k ensures uniformity.",
    "significance": "critical",
    "relatedConcepts": ["infimum", "uniform-bound", "minimum"]
  },
  {
    "id": "ann-e379-S-alt",
    "proofId": "erdos-379",
    "range": { "startLine": 51, "endLine": 54 },
    "type": "definition",
    "title": "Alternative Definition S'",
    "content": "**S'(n)** is the formal-conjectures version: the sup of s such that for all k, some p^s divides C(n,k). This is equivalent to S(n) but formulated differently.",
    "mathContext": "The equivalence S(n) = S'(n) comes from duality: min over k of max over (p,s) equals max over s such that all k have some p with p^s | C(n,k).",
    "significance": "supporting",
    "relatedConcepts": ["equivalence", "alternative", "formal-conjectures"]
  },
  {
    "id": "ann-e379-basic-props",
    "proofId": "erdos-379",
    "range": { "startLine": 60, "endLine": 67 },
    "type": "axiom",
    "title": "Basic Properties of S",
    "content": "**S_ge_one** states S(n) >= 1 for n >= 2. **S_is_max** says that if some p^s divides all C(n,k), then s <= S(n). These capture S(n)'s role as the optimal uniform bound.",
    "mathContext": "Every C(n,k) for 1 <= k < n with n >= 2 is > 1, hence divisible by some prime, giving S(n) >= 1.",
    "significance": "supporting",
    "relatedConcepts": ["lower-bound", "optimality", "characterization"]
  },
  {
    "id": "ann-e379-witnessseq",
    "proofId": "erdos-379",
    "range": { "startLine": 75, "endLine": 76 },
    "type": "definition",
    "title": "The Witness Sequence",
    "content": "**witnessSeq(m)** = 3^{2^m} is THE KEY to solving the problem. This sequence gives n values with arbitrarily large S(n).",
    "mathContext": "witnessSeq(0) = 3, witnessSeq(1) = 9, witnessSeq(2) = 81, witnessSeq(3) = 6561, ... These are 3 raised to powers of 2.",
    "significance": "critical",
    "relatedConcepts": ["witness", "construction", "powers-of-3"]
  },
  {
    "id": "ann-e379-witness-div",
    "proofId": "erdos-379",
    "range": { "startLine": 78, "endLine": 81 },
    "type": "axiom",
    "title": "Key Divisibility Lemma",
    "content": "**witness_divisibility** states: for n = 3^{2^m}, EVERY binomial coefficient C(n,k) for 1 <= k < n is divisible by 3^m. This is the heart of the solution.",
    "mathContext": "This follows from Lucas' theorem. The base-3 representation of 3^{2^m} is a 1 followed by 2^m zeros, creating systematic cancellation in the Lucas product.",
    "significance": "critical",
    "relatedConcepts": ["lucas-theorem", "base-3", "divisibility"]
  },
  {
    "id": "ann-e379-S-witness-bound",
    "proofId": "erdos-379",
    "range": { "startLine": 83, "endLine": 84 },
    "type": "axiom",
    "title": "S Grows Without Bound",
    "content": "**S_witness_bound** gives S(3^{2^m}) >= m. Since 3^m divides all C(n,k), we get S(n) is at least m. As m goes to infinity, so does S(witnessSeq m).",
    "mathContext": "This is the direct consequence of witness_divisibility. For m = 10, we get S(3^1024) >= 10.",
    "significance": "critical",
    "relatedConcepts": ["consequence", "growth", "unbounded"]
  },
  {
    "id": "ann-e379-example-n3",
    "proofId": "erdos-379",
    "range": { "startLine": 92, "endLine": 94 },
    "type": "theorem",
    "title": "Example: n = 3",
    "content": "**example_n3_div** verifies 3 | C(3,1) = 3 and 3 | C(3,2) = 3. This is the base case m = 0: witnessSeq(0) = 3, and S(3) >= 0 (trivially, but more usefully >= 1).",
    "mathContext": "C(3,1) = C(3,2) = 3, both divisible by 3^1 = 3. So S(3) >= 1.",
    "significance": "supporting",
    "relatedConcepts": ["verification", "base-case", "native-decide"]
  },
  {
    "id": "ann-e379-example-n9",
    "proofId": "erdos-379",
    "range": { "startLine": 96, "endLine": 99 },
    "type": "theorem",
    "title": "Example: n = 9 (All Divisible by 3)",
    "content": "**example_n9_all_div3** verifies that 3 divides C(9,k) for ALL 1 <= k <= 8. This demonstrates uniform divisibility by 3 for n = 9 = 3^{2^1}.",
    "mathContext": "C(9,1)=9, C(9,2)=36, C(9,3)=84, C(9,4)=126, C(9,5)=126, C(9,6)=84, C(9,7)=36, C(9,8)=9. All divisible by 3.",
    "significance": "key",
    "relatedConcepts": ["verification", "decide", "uniform"]
  },
  {
    "id": "ann-e379-example-not-9",
    "proofId": "erdos-379",
    "range": { "startLine": 107, "endLine": 110 },
    "type": "theorem",
    "title": "Counterexample: 9 Does Not Divide All",
    "content": "**example_n9_C93_value** and **example_84_not_div_9** show C(9,3) = 84 is NOT divisible by 9. So for n = 9, we can't claim S(9) >= 2 using 3 alone.",
    "mathContext": "84 = 3 * 28, divisible by 3 but not 9. This shows the witness construction gives S(9) >= 1 from m = 1, but 9^1 doesn't work uniformly.",
    "significance": "key",
    "relatedConcepts": ["counterexample", "limitation", "verification"]
  },
  {
    "id": "ann-e379-main-theorem",
    "proofId": "erdos-379",
    "range": { "startLine": 119, "endLine": 126 },
    "type": "axiom",
    "title": "Main Theorem (SOLVED)",
    "content": "**erdos_379** states limsup S(n) = infinity (as ENat). This is the main result: S(n) can be arbitrarily large. The proof uses the witness sequence 3^{2^m}.",
    "mathContext": "Formally: atTop.limsup (fun n => (S n : ENat)) = top. This was Lean-verified by Cambie, Kovac, and Tao.",
    "significance": "critical",
    "relatedConcepts": ["limsup", "infinity", "main-result"]
  },
  {
    "id": "ann-e379-small-s",
    "proofId": "erdos-379",
    "range": { "startLine": 134, "endLine": 137 },
    "type": "definition",
    "title": "The Easier Function s(n)",
    "content": "**s(n)** is the SUPREMUM of maxPrimePowerExp(n,k) over k. This is the EXISTENTIAL version: the maximum prime power dividing SOME C(n,k).",
    "mathContext": "s(n) >= S(n) always. The question 's(n) -> infinity?' is much easier because we only need one good k, not all k.",
    "significance": "key",
    "relatedConcepts": ["supremum", "existential", "comparison"]
  },
  {
    "id": "ann-e379-s-comparison",
    "proofId": "erdos-379",
    "range": { "startLine": 139, "endLine": 146 },
    "type": "axiom",
    "title": "Properties of s(n)",
    "content": "**s_ge_S** confirms s(n) >= S(n). **s_tendsto_infty** says s(n) -> infinity as n -> infinity. **s_asymptotic** gives s(n) ~ log(n).",
    "mathContext": "The fact that s(n) ~ log(n) is 'easy' because C(n,floor(n/2)) has many prime factors. The hard part is proving S(n) (universal) also grows.",
    "significance": "key",
    "relatedConcepts": ["asymptotic", "logarithmic", "easier"]
  },
  {
    "id": "ann-e379-lucas",
    "proofId": "erdos-379",
    "range": { "startLine": 156, "endLine": 160 },
    "type": "axiom",
    "title": "Lucas' Theorem",
    "content": "**lucas_theorem** states the famous result: C(m,n) mod p equals the product of C(m_i, n_i) where m_i, n_i are the base-p digits of m and n.",
    "mathContext": "This is the key tool. When n = 3^{2^k}, its base-3 representation is very sparse (a 1 and 2^k zeros), creating systematic patterns.",
    "significance": "key",
    "relatedConcepts": ["lucas", "modular-arithmetic", "digits"]
  },
  {
    "id": "ann-e379-base3",
    "proofId": "erdos-379",
    "range": { "startLine": 162, "endLine": 169 },
    "type": "axiom",
    "title": "Base-3 Structure",
    "content": "**base3_structure** formalizes why 3^{2^m} works: its base-3 representation is a single 1 followed by 2^m zeros. Any k < n has 'nonzero digits where n has zeros', creating cancellation.",
    "mathContext": "The Lucas product C(1,0)*C(0,d_1)*...*C(0,d_{2^m-1}) includes many C(0,d_i) factors which are 0 when d_i > 0, forcing divisibility.",
    "significance": "key",
    "relatedConcepts": ["base-representation", "structure", "cancellation"]
  },
  {
    "id": "ann-e379-summary",
    "proofId": "erdos-379",
    "range": { "startLine": 188, "endLine": 197 },
    "type": "theorem",
    "title": "Summary Theorem",
    "content": "**erdos_379_summary** packages the key results: limsup S(n) = infinity, S(3^{2^m}) >= m, and concrete values witnessSeq(0) = 3, witnessSeq(1) = 9, witnessSeq(2) = 81.",
    "mathContext": "These are verified computationally (native_decide for concrete values) and reference the main axioms for the theoretical results.",
    "significance": "supporting",
    "relatedConcepts": ["summary", "packaging", "verification"]
  }
]
