[
  {
    "id": "erdos-404-header",
    "proofId": "erdos-404",
    "type": "context",
    "range": { "startLine": 1, "endLine": 22 },
    "title": "Problem Overview",
    "content": "Erdős Problem #404: For which (a, p) is f(a, p) finite, where f(a, p) = sup{k : p^k | some factorial sum starting at a}? Lin proved f(2, 2) ≤ 254. OPEN.",
    "mathContext": "From Erdős-Graham [ErGr80]. Lin (1976) provided the main quantitative bound. Connects p-adic analysis with factorial combinatorics. Related to Problem #403.",
    "significance": "essential",
    "relatedConcepts": ["p-adic valuation", "factorials", "divisibility", "supremum"]
  },
  {
    "id": "erdos-404-definitions",
    "proofId": "erdos-404",
    "type": "definition",
    "range": { "startLine": 36, "endLine": 60 },
    "title": "Core Definitions",
    "content": "StrictIncSeq(a): structure for a = a₁ < a₂ < ··· < aₙ. factorialSum(s): Σ (s.seq i)!. dividesByPrimePower(a, k, p): ∃ s, p^k | factorialSum s. divisiblePowers(a, p): set of achievable k. f(a, p) = sSup(divisiblePowers a p).",
    "mathContext": "StrictIncSeq is a structure with length, seq, starts_at_a, strictly_increasing. f uses sSup over ℕ∞.",
    "significance": "essential",
    "relatedConcepts": ["StrictMono", "Finset.sum", "sSup", "ℕ∞"]
  },
  {
    "id": "erdos-404-conjecture",
    "proofId": "erdos-404",
    "type": "conjecture",
    "range": { "startLine": 61, "endLine": 74 },
    "title": "Main Questions (OPEN)",
    "content": "secondaryQuestion: ∃ p prime, ∃ StrictMono seq, Tendsto (fun k => v_p(Σ_{i≤k} (seq i)!)) atTop atTop. erdos404Conjecture: ∀ a ≥ 1, ∀ p prime, f(a,p) < ⊤. Both OPEN.",
    "mathContext": "erdos404Conjecture uses Filter.atTop. secondaryQuestion asks about unbounded p-adic valuation of partial sums.",
    "significance": "essential",
    "relatedConcepts": ["Filter.Tendsto", "Filter.atTop", "WithTop", "open problem"]
  },
  {
    "id": "erdos-404-lin",
    "proofId": "erdos-404",
    "type": "result",
    "range": { "startLine": 75, "endLine": 83 },
    "title": "Lin's Bound",
    "content": "lin_bound (axiom): f 2 2 ≤ 254. lin_bound_meaning (axiom): ∀ s : StrictIncSeq 2, ¬(2^255 | factorialSum s). The only concrete upper bound known for any (a, p) pair.",
    "mathContext": "Lin (1976) proved this computationally. Means 2^255 never divides any sum of factorials starting at 2.",
    "significance": "essential",
    "relatedConcepts": ["Lin", "upper bound", "f(2,2)"]
  },
  {
    "id": "erdos-404-padic",
    "proofId": "erdos-404",
    "type": "definition",
    "range": { "startLine": 84, "endLine": 97 },
    "title": "p-adic Analysis",
    "content": "legendreSum(n, p) = Σ_{i≥1} ⌊n/p^i⌋. legendre_formula (axiom): padicValNat p n! = legendreSum n p. padic_val_factorial_asymp (axiom): v_p(n!)/n → 1/(p-1).",
    "mathContext": "Legendre's formula gives exact p-adic valuation of factorials. The asymptotic formula governs growth rate.",
    "significance": "essential",
    "relatedConcepts": ["Legendre's formula", "padicValNat", "Tendsto", "nhds"]
  },
  {
    "id": "erdos-404-structure",
    "proofId": "erdos-404",
    "type": "result",
    "range": { "startLine": 98, "endLine": 107 },
    "title": "Structure of Factorial Sums",
    "content": "factorial_sum_mod (axiom): a₁! + a₂! ≡ a₁! [MOD a₂!] for a₁ < a₂. factorial_sum_factored (axiom): a₁! + a₂! = a₁!(1 + a₂!/a₁!) for a₁ ≤ a₂.",
    "mathContext": "The larger factorial dominates modularly. Factorization extracts common factor for p-adic analysis.",
    "significance": "supporting",
    "relatedConcepts": ["modular arithmetic", "factorial", "factorization"]
  },
  {
    "id": "erdos-404-examples",
    "proofId": "erdos-404",
    "type": "result",
    "range": { "startLine": 108, "endLine": 117 },
    "title": "Concrete Examples",
    "content": "2^3 | 2! + 3! (proved by native_decide): 2 + 6 = 8 = 2³, so f(2,2) ≥ 3. 3 | 1! + 2! (proved by native_decide): 1 + 2 = 3.",
    "mathContext": "Both proved computationally via native_decide. These give lower bounds on f(a, p).",
    "significance": "supporting",
    "relatedConcepts": ["native_decide", "concrete computation", "lower bounds"]
  },
  {
    "id": "erdos-404-connections",
    "proofId": "erdos-404",
    "type": "context",
    "range": { "startLine": 118, "endLine": 125 },
    "title": "Connections",
    "content": "Related to Erdős Problem #403 on factorial arithmetic. Connects to Legendre's formula and p-adic number theory more broadly.",
    "mathContext": "Placeholder axioms recording mathematical connections.",
    "significance": "supporting",
    "relatedConcepts": ["Problem #403", "p-adic number theory"]
  },
  {
    "id": "erdos-404-summary",
    "proofId": "erdos-404",
    "type": "result",
    "range": { "startLine": 126, "endLine": 152 },
    "title": "Summary: OPEN",
    "content": "erdos_404_summary (proved): (erdos404Conjecture ↔ ∀ a ≥ 1, ∀ p prime, f a p < ⊤) ∧ True. Proved from Iff.rfl and trivial. Problem remains OPEN.",
    "mathContext": "erdos_404_summary := ⟨Iff.rfl, trivial⟩.",
    "significance": "essential",
    "relatedConcepts": ["open problem", "summary", "factorial sums"]
  }
]
