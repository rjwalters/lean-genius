[
  {
    "id": "ann-e274-imports",
    "proofId": "erdos-274",
    "range": { "startLine": 18, "endLine": 22 },
    "type": "concept",
    "title": "Imports and Setup",
    "content": "We import Mathlib's group theory foundations: **cosets**, **subgroup index**, and **finite type cardinality**.\n\nThese provide the building blocks for defining exact coverings of groups by cosets.",
    "mathContext": "The key import is `Subgroup.index` which gives [G:H], the index of H in G.",
    "significance": "supporting",
    "relatedConcepts": ["mathlib", "group-theory", "subgroups"]
  },
  {
    "id": "ann-e274-exact-covering",
    "proofId": "erdos-274",
    "range": { "startLine": 29, "endLine": 37 },
    "type": "definition",
    "title": "Exact Covering Structure",
    "content": "An **exact covering** of a group G by k cosets consists of:\n- k subgroups H₁, ..., Hₖ\n- k coset representatives g₁, ..., gₖ\n- A partition property: the cosets gᵢHᵢ cover G exactly once\n\nThis formalizes the notion of partitioning G by cosets.",
    "mathContext": "The cosets gᵢHᵢ = {gᵢh : h ∈ Hᵢ} are the left cosets of Hᵢ by gᵢ.",
    "significance": "critical",
    "relatedConcepts": ["cosets", "partitions", "subgroups"]
  },
  {
    "id": "ann-e274-distinct-indices",
    "proofId": "erdos-274",
    "range": { "startLine": 39, "endLine": 41 },
    "type": "definition",
    "title": "Distinct Indices Property",
    "content": "A covering has **distinct indices** if all the subgroup indices [G:Hᵢ] are pairwise different.\n\nThe Herzog-Schönheim conjecture asks: can such a covering exist with k > 1?",
    "mathContext": "The index [G:H] counts how many cosets of H partition G. If G is finite, [G:H] = |G|/|H|.",
    "significance": "critical",
    "relatedConcepts": ["index", "Lagrange-theorem"]
  },
  {
    "id": "ann-e274-conjecture",
    "proofId": "erdos-274",
    "range": { "startLine": 45, "endLine": 54 },
    "type": "definition",
    "title": "Herzog-Schönheim Conjecture",
    "content": "The **Herzog-Schönheim Conjecture** states that no group G can be exactly covered by k > 1 cosets with all distinct indices.\n\nEquivalently: if cosets partition G, at least two must have the same index.",
    "mathContext": "This is a deep statement about the structure of subgroups. It connects to Egyptian fractions since the indices must satisfy 1/n₁ + ... + 1/nₖ = 1.",
    "significance": "critical",
    "relatedConcepts": ["covering-systems", "egyptian-fractions"]
  },
  {
    "id": "ann-e274-sun-axiom",
    "proofId": "erdos-274",
    "range": { "startLine": 58, "endLine": 66 },
    "type": "axiom",
    "title": "Sun's Theorem (Axiom)",
    "content": "**Sun Zhi-Wei (2004)** proved the Herzog-Schönheim conjecture for finite abelian groups.\n\nThis is stated as an axiom because the proof requires deep results about the structure of abelian groups not formalized in Mathlib.",
    "mathContext": "Sun's proof actually shows more: it works for any collection of subnormal subgroups, which includes all subgroups when G is abelian.",
    "significance": "critical",
    "relatedConcepts": ["abelian-groups", "sun-theorem"]
  },
  {
    "id": "ann-e274-repeated-index",
    "proofId": "erdos-274",
    "range": { "startLine": 68, "endLine": 75 },
    "type": "theorem",
    "title": "Equivalent Formulation",
    "content": "An equivalent statement: for any exact covering of a finite abelian group with k > 1 cosets, there exist distinct i, j with [G:Hᵢ] = [G:Hⱼ].\n\nThis is derived from Sun's axiom by negating the distinct indices condition.",
    "mathContext": "The `push_neg` tactic transforms ¬(∀i j, i≠j → n_i≠n_j) into ∃i j, i≠j ∧ n_i=n_j.",
    "significance": "key",
    "relatedConcepts": ["logical-equivalence"]
  },
  {
    "id": "ann-e274-margolis",
    "proofId": "erdos-274",
    "range": { "startLine": 79, "endLine": 85 },
    "type": "axiom",
    "title": "Computational Verification",
    "content": "**Margolis and Schnabel (2019)** verified computationally that the conjecture holds for all groups of order < 1440.\n\nThis is the best known computational result, extending the verified cases significantly.",
    "mathContext": "The bound 1440 comes from systematic enumeration. The smallest potential counterexample would need |G| ≥ 1440.",
    "significance": "key",
    "relatedConcepts": ["computational-verification", "small-groups"]
  },
  {
    "id": "ann-e274-main-theorem",
    "proofId": "erdos-274",
    "range": { "startLine": 89, "endLine": 102 },
    "type": "theorem",
    "title": "Main Result: Abelian Case Solved",
    "content": "We prove that the Herzog-Schönheim conjecture holds for finite abelian groups using Sun's axiom.\n\nThis answers Erdős Problem #274 for the abelian case: NO, you cannot partition an abelian group by cosets with distinct indices.",
    "mathContext": "The proof is a direct application of sun_abelian_case.",
    "significance": "critical",
    "relatedConcepts": ["erdos-274", "herzog-schonheim"]
  },
  {
    "id": "ann-e274-index-sum",
    "proofId": "erdos-274",
    "range": { "startLine": 104, "endLine": 113 },
    "type": "theorem",
    "title": "Index Sum Condition",
    "content": "A **necessary condition** for k cosets to partition G: the reciprocals of indices must sum to 1.\n\nIf cosets have indices n₁, ..., nₖ, then 1/n₁ + ... + 1/nₖ = 1.\n\n**Example:** Indices 2, 3, 6 satisfy 1/2 + 1/3 + 1/6 = 1.",
    "mathContext": "This follows from counting: |G| = Σ|Hᵢ| = Σ(|G|/nᵢ), so 1 = Σ(1/nᵢ).",
    "significance": "key",
    "relatedConcepts": ["egyptian-fractions", "counting"]
  },
  {
    "id": "ann-e274-summary",
    "proofId": "erdos-274",
    "range": { "startLine": 115, "endLine": 134 },
    "type": "summary",
    "title": "Summary and Status",
    "content": "**Problem Status: PARTIALLY SOLVED**\n\n- **Abelian case:** NO (Sun 2004)\n- **General case:** OPEN\n\nKey connections:\n- Covering systems in combinatorics\n- Subgroup structure in finite groups\n- Egyptian fractions (1/n₁ + ... + 1/nₖ = 1)",
    "significance": "supporting",
    "relatedConcepts": ["open-problems", "erdos"]
  }
]
