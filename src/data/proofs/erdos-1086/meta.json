{
  "id": "erdos-1086",
  "title": "Erdős Problem #1086: Triangles of Equal Area",
  "slug": "erdos-1086",
  "description": "Let g(n) be the maximum number of triangles with the same area determined by n points in ℝ². Best bounds: n² log log n ≪ g(n) ≪ n^{20/9}. Status: OPEN.",
  "meta": {
    "author": "Oppenheim (problem), Erdős-Purdy (1971), Raz-Sharir (2017)",
    "sourceUrl": "https://erdosproblems.com/1086",
    "date": "2017",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos1086Problem.lean",
    "tags": [
      "erdos",
      "geometry",
      "combinatorics",
      "incidence-geometry",
      "triangles"
    ],
    "badge": "axiom",
    "sorries": 2,
    "erdosNumber": 1086,
    "erdosUrl": "https://erdosproblems.com/1086",
    "erdosProblemStatus": "open",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "EuclideanSpace",
        "description": "Euclidean space ℝ^n",
        "module": "Mathlib.Analysis.InnerProductSpace.EuclideanDist"
      },
      {
        "theorem": "Real.log",
        "description": "Natural logarithm on reals",
        "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic"
      },
      {
        "theorem": "Finset.powersetCard",
        "description": "Subsets of fixed cardinality",
        "module": "Mathlib.Data.Finset.Powerset"
      },
      {
        "theorem": "abs",
        "description": "Absolute value",
        "module": "Mathlib.Data.Real.Basic"
      }
    ],
    "originalContributions": [
      "Formalized Point2D as EuclideanSpace ℝ (Fin 2)",
      "Defined triangleArea using the shoelace formula",
      "Defined countTrianglesWithArea and maxTrianglesWithSameArea",
      "Defined the function g(n) for the main problem",
      "Stated lower bound: n² log log n (Erdős-Purdy 1971)",
      "Stated upper bound: n^{20/9} (Raz-Sharir 2017)",
      "Defined higher-dimensional generalizations g_d^r(n)",
      "Connected to Szemerédi-Trotter incidence geometry"
    ]
  },
  "overview": {
    "historicalContext": "This problem was posed by Oppenheim and studied extensively by Erdős and Purdy. It asks: given n points in the plane, what is the maximum number of triangles that can all have the same area?\n\nErdős and Purdy (1971) established the initial bounds n² log log n ≪ g(n) ≪ n^{5/2}. They believed the lower bound is closer to the truth. The upper bound has been progressively improved by Pach-Sharir (1992), Dumitrescu-Sharir-Tóth (2009), Apfelbaum-Sharir (2010), and finally Raz-Sharir (2017) to n^{20/9} ≈ n^{2.222}.\n\nThe problem has natural connections to incidence geometry, using the Szemerédi-Trotter theorem and its generalizations to bound the number of point-curve incidences.",
    "problemStatement": "**Problem**: Let $g(n)$ be minimal such that any set of $n$ points in $\\mathbb{R}^2$ contains the vertices of at most $g(n)$ triangles with the same area.\n\n**Best Known Bounds**:\n$$n^2 \\log\\log n \\ll g(n) \\ll n^{20/9}$$\n\n**History of Upper Bounds**:\n- $n^{5/2}$ (Erdős-Purdy, 1971)\n- $n^{20/9}$ (Raz-Sharir, 2017) — current best\n\n**Status**: OPEN. The gap between $n^2 \\log\\log n$ and $n^{2.222}$ remains unresolved.",
    "proofStrategy": "The formalization defines points in ℝ² using EuclideanSpace and computes triangle area via the shoelace formula. The function g(n) is defined as the supremum over all n-point sets of the maximum number of triangles with any fixed area. Key results (lower/upper bounds) are axiomatized based on the literature. Higher-dimensional generalizations are also formalized.",
    "keyInsights": [
      "**Shoelace formula**: Area = ½|x_A(y_B - y_C) + x_B(y_C - y_A) + x_C(y_A - y_B)|",
      "**Lower bound source**: Grid points give many equal-area triangles, achieving n² log log n.",
      "**Upper bound technique**: Szemerédi-Trotter point-line incidence bounds and generalizations to curves.",
      "**Erdős-Purdy conjecture**: The truth is g(n) = Θ(n² polylog(n)), closer to the lower bound.",
      "**Higher dimensions**: The generalization g_d^r(n) for r-simplices in ℝ^d has various bounds."
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "summary": "Point2D, triangleArea, Triangle structure",
      "startLine": 38,
      "endLine": 70
    },
    {
      "id": "function-g",
      "title": "The Function g(n)",
      "summary": "countTrianglesWithArea, maxTrianglesWithSameArea, g definition",
      "startLine": 71,
      "endLine": 92
    },
    {
      "id": "known-bounds",
      "title": "Known Bounds",
      "summary": "Lower bound (Erdős-Purdy), upper bounds (1971, 2017)",
      "startLine": 93,
      "endLine": 116
    },
    {
      "id": "higher-dimensions",
      "title": "Higher-Dimensional Generalizations",
      "summary": "g_dim function, bounds for g_3^2, g_6^2, Oppenheim-Lenz construction",
      "startLine": 117,
      "endLine": 157
    },
    {
      "id": "examples",
      "title": "Simple Examples",
      "summary": "three_points_one_triangle, collinear_degenerate, grid_lower_bound",
      "startLine": 158,
      "endLine": 175
    },
    {
      "id": "incidence-geometry",
      "title": "Connection to Incidence Geometry",
      "summary": "incidence_reduction, szemeredi_trotter_application",
      "startLine": 176,
      "endLine": 191
    },
    {
      "id": "main-results",
      "title": "Main Results",
      "summary": "erdos_1086_statement, erdos_1086_open, erdos_1086_summary",
      "startLine": 192,
      "endLine": 220
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #1086 asks for the maximum number of triangles with the same area in an n-point set. The best bounds are n² log log n ≪ g(n) ≪ n^{20/9}. The problem remains open, with Erdős-Purdy conjecturing the lower bound is closer to the truth.",
    "implications": "This problem is fundamental in combinatorial geometry, connecting to incidence theorems (Szemerédi-Trotter), extremal set theory, and computational geometry. Resolving the gap would have implications for understanding repeated patterns in point sets.",
    "openQuestions": [
      "What is the true order of g(n)?",
      "Can the upper bound n^{20/9} be improved?",
      "Is g(n) = Θ(n² polylog(n)) as Erdős-Purdy conjectured?",
      "What are the optimal bounds for g_d^r(n) in higher dimensions?"
    ]
  }
}
