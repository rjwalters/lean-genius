{
  "id": "erdos-728",
  "title": "Erdos Problem #728: Factorial Divisibility with Logarithmic Gap",
  "slug": "erdos-728",
  "description": "Can a!b! divide n!(a+b-n)! with a,b > epsilon*n and a+b in the range (n + C log n, n + C' log n)?",
  "meta": {
    "author": "Erdos, Graham, Ruzsa, Straus (1975)",
    "sourceUrl": "https://erdosproblems.com/728",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos728Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "factorials",
      "divisibility",
      "p-adic-valuation",
      "solved"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 728,
    "erdosUrl": "https://erdosproblems.com/728",
    "erdosProblemStatus": "proved",
    "dateAdded": "2026-01-25",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.factorial",
        "description": "Factorial function on natural numbers",
        "module": "Mathlib.Data.Nat.Factorial.Basic"
      },
      {
        "theorem": "Real.log",
        "description": "Natural logarithm function",
        "module": "Mathlib.Analysis.SpecialFunctions.Log.Basic"
      },
      {
        "theorem": "Filter.Eventually",
        "description": "Eventually predicate for filters",
        "module": "Mathlib.Order.Filter.Basic"
      }
    ],
    "originalContributions": [
      "factorialDivisibility predicate: a!b! | n!(a+b-n)!",
      "hasLogarithmicGap predicate: a+b in (n + C log n, n + C' log n)",
      "hasSizeCondition predicate: a,b > epsilon*n",
      "isErdos728Solution combining all conditions",
      "erdos_1968_bound axiom: classical upper bound",
      "erdos_728_resolution axiom: main result (Barreto & ChatGPT-5.2)",
      "constructionTemplate: the b = n/2 approach",
      "legendreSum for p-adic valuation calculation",
      "divisibility_via_legendre axiom for verification"
    ]
  },
  "overview": {
    "historicalContext": "**Erdos Problem #728**\n\nThis problem was posed by Erdos, Graham, Ruzsa, and Straus in their 1975 paper [EGRS75, p.91]. It refines a classical 1968 result of Erdos.\n\n**Historical Background:**\n- Erdos (1968) proved that if a! * b! | n!, then a + b <= n + O(log n)\n- This shows the divisibility condition strongly constrains a + b\n- The 1975 question asks: can we ACHIEVE divisibility at this upper limit?\n\n**Resolution:**\nThe problem was solved by Barreto and ChatGPT-5.2, who showed infinitely many solutions exist using the construction b = n/2, a = n/2 + O(log n).\n\n**Status:** SOLVED (proved in Lean)",
    "problemStatement": "**Problem Statement (SOLVED)**\n\nLet epsilon > 0 be sufficiently small and 0 < C < C'.\n\nAre there integers a, b, n such that:\n1. a, b > epsilon * n (both are substantial fractions of n)\n2. a! * b! divides n! * (a + b - n)!\n3. n + C * log(n) < a + b < n + C' * log(n) (a + b is in the logarithmic gap)\n\n**Answer: YES**\n\nFor any 0 < C < C', infinitely many solutions exist. The key construction uses b = n/2 and tunes a to achieve both divisibility and the gap condition.",
    "proofStrategy": "**Formalization Approach**\n\n1. **Divisibility Condition:** factorialDivisibility a b n encodes a! * b! | n! * (a+b-n)!\n\n2. **Gap Condition:** hasLogarithmicGap a b n C C' checks the range\n\n3. **Size Condition:** hasSizeCondition a b n epsilon ensures a,b are large\n\n4. **Classical Bound:** Axiomatize Erdos's 1968 result as erdos_1968_bound\n\n5. **Main Resolution:** erdos_728_resolution axiomatizes the Barreto/ChatGPT-5.2 result\n\n6. **Legendre's Formula:** Key tool for verifying divisibility via p-adic valuations\n\n7. **Construction:** The b = n/2 template demonstrates the existence proof",
    "keyInsights": [
      "**Erdos 1968 Bound:** If a!b! | n! then a+b <= n + O(log n) - divisibility imposes tight constraints",
      "**b = n/2 Construction:** Choosing b = n/2 provides enough flexibility to satisfy all conditions",
      "**Legendre's Formula:** p-adic valuations via sum floor(n/p^i) verify divisibility",
      "**Logarithmic Regime:** The question explores the boundary case where a+b is maximally close to n",
      "**AI Collaboration:** Notable as one of the first Erdos problems resolved with AI assistance"
    ]
  },
  "sections": [
    {
      "id": "factorial-divisibility",
      "title": "Factorial Divisibility",
      "summary": "factorialDivisibility predicate definition",
      "startLine": 36,
      "endLine": 55
    },
    {
      "id": "logarithmic-gap",
      "title": "Logarithmic Gap Condition",
      "summary": "hasLogarithmicGap and hasSizeCondition definitions",
      "startLine": 57,
      "endLine": 78
    },
    {
      "id": "full-condition",
      "title": "Full Erdos 728 Condition",
      "summary": "isErdos728Solution combining all constraints",
      "startLine": 80,
      "endLine": 100
    },
    {
      "id": "erdos-1968",
      "title": "Erdos 1968 Upper Bound",
      "summary": "Classical result: a+b <= n + O(log n)",
      "startLine": 102,
      "endLine": 125
    },
    {
      "id": "resolution",
      "title": "The Resolution",
      "summary": "erdos_728_resolution axiom (Barreto & ChatGPT-5.2)",
      "startLine": 127,
      "endLine": 160
    },
    {
      "id": "construction",
      "title": "The b = n/2 Construction",
      "summary": "constructionTemplate and size verification",
      "startLine": 162,
      "endLine": 195
    },
    {
      "id": "legendre",
      "title": "Legendre's Formula",
      "summary": "legendreSum and divisibility_via_legendre",
      "startLine": 197,
      "endLine": 225
    },
    {
      "id": "related",
      "title": "Related Results",
      "summary": "Connection to Problem #729",
      "startLine": 227,
      "endLine": 250
    },
    {
      "id": "summary",
      "title": "Summary",
      "summary": "erdos_728_summary theorem",
      "startLine": 252,
      "endLine": 280
    }
  ],
  "conclusion": {
    "summary": "Erdos Problem #728 asked whether factorial divisibility a!b! | n!(a+b-n)! can occur with a+b in the logarithmic range above n. Building on Erdos's 1968 bound, Barreto and ChatGPT-5.2 proved YES: infinitely many solutions exist using the b = n/2 construction. This is a notable example of AI-assisted mathematical problem solving.",
    "implications": "**Number-Theoretic Significance**\n\n1. **Boundary Exploration:** The result shows Erdos's 1968 bound is essentially tight\n\n2. **p-adic Methods:** Legendre's formula is the key computational tool\n\n3. **Factorial Structure:** Reveals deep structure in factorial divisibility\n\n4. **AI in Mathematics:** Demonstrates productive AI-human collaboration in research\n\n5. **Connection to Problem #729:** Part of a family of related factorial problems",
    "openQuestions": [
      "What is the exact density of solutions in the logarithmic regime?",
      "Can the construction be made more explicit?",
      "What happens for other values of b (not n/2)?",
      "How does the problem generalize to multinomials?",
      "What is the computational complexity of finding solutions?"
    ]
  }
}
