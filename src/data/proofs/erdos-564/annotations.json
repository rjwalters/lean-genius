[
  {
    "id": "ann-e564-header",
    "proofId": "erdos-564",
    "range": { "startLine": 1, "endLine": 25 },
    "type": "concept",
    "title": "Problem Statement and History",
    "content": "**Erdős Problem #564** asks a deep question in hypergraph Ramsey theory: Is there a constant c > 0 such that R₃(n) ≥ 2^{2^{cn}}?\n\nHere R₃(n) is the hypergraph Ramsey number — the minimal number of vertices m such that any 2-colouring of all triples on m vertices contains a monochromatic complete 3-uniform hypergraph on n vertices.\n\nThis is a $500 open problem!",
    "mathContext": "Known bounds (Erdős-Hajnal-Rado 1965): 2^{cn²} < R₃(n) < 2^{2^n}.\n\nThe lower bound is singly exponential in n², while the upper bound is doubly exponential in n (a 'tower' of height 2). The question asks whether the lower bound can be improved to also be doubly exponential, closing the 'tower height' gap.",
    "significance": "critical",
    "relatedConcepts": ["hypergraph", "ramsey-theory", "tower-function", "open-problem"]
  },
  {
    "id": "ann-e564-imports",
    "proofId": "erdos-564",
    "range": { "startLine": 27, "endLine": 31 },
    "type": "concept",
    "title": "Imports and Setup",
    "content": "We import **Mathlib** for foundational mathematics. We open `Set`, `Finset`, and `Filter` namespaces.\n\nThe `Filter` namespace is needed for the 'eventually' quantifier (∀ᶠ) used in the main conjecture statement.",
    "mathContext": "Key dependencies:\n- Finset for finite sets (hypergraph edges)\n- Filter.atTop for 'for all sufficiently large n'\n- Real numbers (ℝ) for expressing the bounds with exponentiation",
    "significance": "supporting",
    "relatedConcepts": ["mathlib", "imports", "filter"]
  },
  {
    "id": "ann-e564-hypergraph-defs",
    "proofId": "erdos-564",
    "range": { "startLine": 33, "endLine": 44 },
    "type": "definition",
    "title": "Uniform Hypergraph Definitions",
    "content": "**UniformHypergraph k V** defines a k-uniform hypergraph as the type of k-element subsets of V. When k = 2, this is an ordinary graph (edges are pairs). When k = 3, edges are triples.\n\n**TwoColouring** assigns each edge a Boolean colour (true/false, or 'red'/'blue').",
    "mathContext": "A k-uniform hypergraph generalizes graphs:\n- k = 2: graphs (edges connect pairs)\n- k = 3: 3-graphs (edges connect triples)\n- k = 4: 4-graphs, etc.\n\nRamsey theory asks: in any 2-colouring, must there be a monochromatic 'clique'?",
    "significance": "key",
    "relatedConcepts": ["hypergraph", "k-uniform", "colouring"]
  },
  {
    "id": "ann-e564-ramsey-property",
    "proofId": "erdos-564",
    "range": { "startLine": 46, "endLine": 61 },
    "type": "definition",
    "title": "The Hypergraph Ramsey Property",
    "content": "**HasHypergraphRamseyProperty k m n** expresses that for any 2-colouring of the complete k-uniform hypergraph on m vertices, there exists a monochromatic complete k-uniform hypergraph on n vertices.\n\nThis is the core Ramsey property generalized to hypergraphs.",
    "mathContext": "Formally: for any colouring c : Finset(Fin m) → Bool, there exists a set S ⊆ Fin m with |S| = n and a colour such that all k-subsets of S receive that colour.\n\nFor k = 2 (graphs), this says: any edge-colouring contains a monochromatic clique K_n.\nFor k = 3, it says: any triple-colouring contains a monochromatic complete 3-graph on n vertices.",
    "significance": "critical",
    "relatedConcepts": ["ramsey-property", "monochromatic", "clique"]
  },
  {
    "id": "ann-e564-ramsey-function",
    "proofId": "erdos-564",
    "range": { "startLine": 62, "endLine": 71 },
    "type": "axiom",
    "title": "The Ramsey Function R_k(n)",
    "content": "We axiomatize **R k n** as the hypergraph Ramsey number — the minimal m such that HasHypergraphRamseyProperty k m n holds.\n\n**R_has_property** asserts R k n has the Ramsey property.\n**R_is_minimal** asserts R k n is the smallest such m.",
    "mathContext": "The existence of R k n is a deep theorem. For k = 2, this is the classical Ramsey theorem. For k ≥ 3, it was proved by Erdős and Rado (1952).\n\nWe axiomatize rather than prove because the full proof requires substantial Ramsey theory machinery beyond what we formalize.",
    "significance": "critical",
    "relatedConcepts": ["ramsey-number", "axiom", "minimality"]
  },
  {
    "id": "ann-e564-ehr-bounds",
    "proofId": "erdos-564",
    "range": { "startLine": 73, "endLine": 92 },
    "type": "axiom",
    "title": "Erdős-Hajnal-Rado Bounds (1965)",
    "content": "**erdos_hajnal_rado_upper**: R₃(n) < 2^{2^n} for n ≥ 3.\n**erdos_hajnal_rado_lower**: R₃(n) > 2^{cn²} for some c > 0.\n\nThese are the best known bounds for 3-uniform hypergraph Ramsey numbers.",
    "mathContext": "The gap between these bounds is enormous:\n\n- Lower: 2^{cn²} — singly exponential in n²\n- Upper: 2^{2^n} — doubly exponential in n (tower height 2)\n\nFor n = 10: lower ~2^{100}, upper ~2^{1024}. The ratio is 2^{924}!\n\nThe question is whether R₃(n) is closer to the lower or upper bound in terms of 'tower height'.",
    "significance": "critical",
    "relatedConcepts": ["bounds", "erdos-hajnal-rado", "tower-height"]
  },
  {
    "id": "ann-e564-conjecture",
    "proofId": "erdos-564",
    "range": { "startLine": 94, "endLine": 115 },
    "type": "definition",
    "title": "The Main Conjecture (OPEN - $500)",
    "content": "**erdos_564_conjecture** is the formal statement of the $500 prize problem:\n\n∃ c > 0 such that ∀ᶠ n in atTop, R₃(n) ≥ 2^{2^{cn}}\n\nThe ∀ᶠ quantifier means 'for all sufficiently large n'. This asks whether a doubly exponential lower bound exists.",
    "mathContext": "If true, this would show that 3-uniform hypergraph Ramsey numbers are fundamentally 'tower type' — their growth requires iterated exponentiation to describe.\n\nIf false, R₃(n) might grow at some intermediate rate between 2^{poly(n)} and 2^{2^n}.\n\nThe axiom `erdos_564_is_open` simply marks this as unsolved.",
    "significance": "critical",
    "relatedConcepts": ["open-problem", "prize", "filter-eventually"]
  },
  {
    "id": "ann-e564-tower-def",
    "proofId": "erdos-564",
    "range": { "startLine": 117, "endLine": 141 },
    "type": "definition",
    "title": "Tower Function Definition",
    "content": "**tower k n** defines iterated exponentiation (Knuth's up-arrow notation 2↑↑k):\n\n- tower 0 n = n (base case)\n- tower (k+1) n = 2^{tower k n} (recursive case)\n\nExamples:\n- tower 1 n = 2^n\n- tower 2 n = 2^{2^n}\n- tower 3 n = 2^{2^{2^n}}",
    "mathContext": "Tower functions capture different 'levels' of exponential growth:\n\n- Tower height 1: exponential (polynomial in the exponent)\n- Tower height 2: doubly exponential\n- Tower height 3: triply exponential\n\nRamsey theory for graphs (k=2) is tower 1. For hypergraphs (k≥3), bounds involve tower 2 and beyond.",
    "significance": "key",
    "relatedConcepts": ["tower-function", "knuth-arrow", "exponential-hierarchy"]
  },
  {
    "id": "ann-e564-tower-theorems",
    "proofId": "erdos-564",
    "range": { "startLine": 134, "endLine": 149 },
    "type": "theorem",
    "title": "Tower Function Properties",
    "content": "**tower_zero**, **tower_one**, **tower_two** are definitional equalities verified by `rfl`.\n\n**tower_pos** proves that tower k n ≥ 1 whenever n ≥ 1, by induction on k. The base case uses n ≥ 1, and the inductive case uses Nat.one_le_two_pow.",
    "mathContext": "These basic properties establish that tower functions are well-behaved. The positivity lemma ensures we can safely work with these as denominators or in logarithms.",
    "significance": "supporting",
    "relatedConcepts": ["tower", "induction", "positivity"]
  },
  {
    "id": "ann-e564-small-values",
    "proofId": "erdos-564",
    "range": { "startLine": 151, "endLine": 164 },
    "type": "axiom",
    "title": "Known Small Values",
    "content": "**R3_3_eq_4**: R₃(3) = 4. This means any 2-colouring of triples on 4 vertices contains a monochromatic triangle (3 vertices with all their triples the same colour).\n\n**R3_4_eq_13**: R₃(4) = 13.",
    "mathContext": "These exact values are computed by exhaustive case analysis. They're interesting but give no hint about asymptotic behavior.\n\nCompare: for graphs, R(3) = 6 and R(4) = 18. Hypergraph Ramsey numbers grow faster than graph Ramsey numbers.",
    "significance": "supporting",
    "relatedConcepts": ["small-cases", "exact-values", "computation"]
  },
  {
    "id": "ann-e564-graph-comparison",
    "proofId": "erdos-564",
    "range": { "startLine": 166, "endLine": 189 },
    "type": "axiom",
    "title": "Graph Ramsey Comparison",
    "content": "**graph_ramsey_exponential** states that graph Ramsey numbers (k = 2) grow exponentially:\n\n2^{cn} < R(n) < 2^{Cn} for some constants c, C > 0.\n\nThis is Erdős-Szekeres (1935). Graph Ramsey numbers are 'merely' exponential (tower height 1).",
    "mathContext": "The contrast with hypergraphs is stark:\n- k = 2 (graphs): tower height 1 (exponential)\n- k = 3 (3-graphs): between tower 1 and 2\n- k = 4, 5, ...: even higher tower heights\n\n**bounds_summary** restates the 3-graph bounds using the axioms directly.",
    "significance": "key",
    "relatedConcepts": ["graph-ramsey", "erdos-szekeres", "exponential-growth"]
  },
  {
    "id": "ann-e564-four-colour",
    "proofId": "erdos-564",
    "range": { "startLine": 191, "endLine": 212 },
    "type": "axiom",
    "title": "The 4-Colour Evidence",
    "content": "**four_colour_doubly_exponential** states that Erdős, Hajnal, Máté, and Rado (1984) proved a doubly exponential lower bound for the 4-colour version of this problem.\n\nThis is evidence that the 2-colour case might also have such a bound.",
    "mathContext": "For the 4-colour hypergraph Ramsey problem, they showed the lower bound matches tower height 2. The question is whether this extends to 2 colours.\n\nWe state this as `True` because formalizing the 4-colour Ramsey function would require additional machinery.",
    "significance": "key",
    "relatedConcepts": ["four-colour", "evidence", "ehmr84"]
  },
  {
    "id": "ann-e564-gap",
    "proofId": "erdos-564",
    "range": { "startLine": 214, "endLine": 228 },
    "type": "concept",
    "title": "Why the Problem is Hard",
    "content": "The gap between known bounds is astronomically large. For n = 10:\n\n- Lower bound: ~2^{100} ≈ 10^{30}\n- Upper bound: 2^{1024} ≈ 10^{308}\n\nThe ratio is roughly 2^{924}, an incomprehensibly large number.",
    "mathContext": "**bounds_gap_enormous** (stated with sorry) would formalize that the ratio exceeds 10^{100} for n ≥ 10.\n\nThe difficulty is that both bounds are proved using very different techniques:\n- Upper: counting/pigeonhole arguments\n- Lower: probabilistic method/explicit constructions\n\nNeither technique seems to give the 'true' answer.",
    "significance": "key",
    "relatedConcepts": ["bounds-gap", "difficulty", "techniques"]
  }
]
