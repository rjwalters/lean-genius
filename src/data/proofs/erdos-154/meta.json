{
  "id": "erdos-154",
  "title": "Erdős Problem #154: Distribution of Sidon Sumsets over Moduli",
  "slug": "erdos-154",
  "description": "For Sidon sets A ⊂ {1,...,N} with |A| ~ √N, must A+A be well-distributed over all small moduli? SOLVED: YES (Lindström 1998, Kolountzakis 1999).",
  "meta": {
    "author": "Lindström (1998), Kolountzakis (1999)",
    "sourceUrl": "https://erdosproblems.com/154",
    "date": "1999",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos154Problem.lean",
    "tags": ["erdos", "sidon-sets", "additive-combinatorics", "distribution", "residue-classes"],
    "badge": "axiom",
    "sorries": 4,
    "erdosNumber": 154,
    "erdosUrl": "https://erdosproblems.com/154",
    "erdosProblemStatus": "solved",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [],
    "originalContributions": []
  },
  "overview": {
    "historicalContext": "Erdős Problem #154 asks about the distribution of Sidon sets and their sumsets over residue classes. A Sidon set (or B₂ sequence) is a set where all pairwise sums are distinct—if a + b = c + d with a ≤ b and c ≤ d, then a = c and b = d.\n\nThe maximum size of a Sidon set in {1,...,N} is approximately √N, achieved by constructions like Singer's perfect difference sets. The problem asks: for Sidon sets of near-maximal size, must the sumset A+A be well-distributed over small moduli? In particular, must about half the elements be even and half odd?\n\nLindström (1998) proved that near-maximal Sidon sets A are themselves well-distributed over small moduli. Kolountzakis (1999) strengthened this with better quantitative bounds. The result for A+A then follows from the unique representation property of Sidon sets.",
    "problemStatement": "Let $A \\subset \\{1,\\ldots,N\\}$ be a Sidon set with $|A| \\sim N^{1/2}$.\n\n**Question:** Must $A+A$ be well-distributed over all small moduli? In particular, must about half the elements of $A+A$ be even and half odd?\n\n**Answer:** YES.\n\n**Key Results:**\n- Lindström (1998): $A$ itself is well-distributed over small moduli\n- Kolountzakis (1999): Strengthened bounds, distribution holds for moduli up to $N^{1/4}$\n- The result for $A+A$ follows from the Sidon property",
    "proofStrategy": "The Lean formalization defines Sidon sets via the condition that equal sums imply equal pairs. The sumset is defined as A+A = {a+b : a,b ∈ A}. Well-distribution over modulus m means each residue class has approximately |A|/m elements with error at most O(√|A|).\n\nLindström's theorem is axiomatized: near-maximal Sidon sets are well-distributed over small moduli. Kolountzakis's improvement extends the range of valid moduli. The key insight is that the unique representation property of Sidon sets propagates distribution from A to A+A via the parity pattern: even+even and odd+odd give even, while even+odd gives odd.",
    "keyInsights": [
      "**Sidon property:** All pairwise sums distinct means each element of A+A has a unique representation a+b (up to order)",
      "**Maximum size:** Sidon sets in {1,...,N} have size at most ~√N, achieved by Singer's construction",
      "**Lindström (1998):** Near-maximal Sidon sets are well-distributed over small moduli",
      "**Kolountzakis (1999):** Distribution holds for moduli up to N^{1/4}, improving the range",
      "**Parity inheritance:** If A has ~half even/odd elements, then A+A inherits this distribution via sum parities",
      "**Exponential sums:** The proofs use Fourier analysis—distribution mod m relates to character sums"
    ]
  },
  "sections": [
    {
      "id": "sidon-sets",
      "title": "Sidon Sets",
      "startLine": 41,
      "endLine": 56,
      "summary": "Defines Sidon sets: all pairwise sums are distinct. Two equivalent formulations provided."
    },
    {
      "id": "sumset-and-bounds",
      "title": "Sumset and Size Bounds",
      "startLine": 58,
      "endLine": 82,
      "summary": "Defines the sumset A+A, shows |A+A| = |A|(|A|+1)/2, and states maximum Sidon set size bounds."
    },
    {
      "id": "distribution-moduli",
      "title": "Distribution over Moduli",
      "startLine": 84,
      "endLine": 98,
      "summary": "Defines well-distribution: each residue class has about |A|/m elements with error O(√|A|)."
    },
    {
      "id": "lindstrom-theorem",
      "title": "Lindström's Theorem (1998)",
      "startLine": 100,
      "endLine": 126,
      "summary": "States Lindström's result that near-maximal Sidon sets are well-distributed over small moduli."
    },
    {
      "id": "kolountzakis-strengthening",
      "title": "Kolountzakis's Strengthening (1999)",
      "startLine": 128,
      "endLine": 143,
      "summary": "States Kolountzakis's improvement with better quantitative bounds and larger moduli range."
    },
    {
      "id": "sumset-distribution",
      "title": "Distribution of A+A",
      "startLine": 145,
      "endLine": 170,
      "summary": "Shows the sumset inherits distribution properties from A, answering the main question."
    },
    {
      "id": "why-it-works",
      "title": "Why It Works",
      "startLine": 172,
      "endLine": 195,
      "summary": "Explains the key insights: Sidon structure, parity patterns, and exponential sum methods."
    },
    {
      "id": "examples",
      "title": "Examples",
      "startLine": 197,
      "endLine": 213,
      "summary": "Perfect difference set construction and small example {1,2,5,7}."
    },
    {
      "id": "summary",
      "title": "Summary",
      "startLine": 215,
      "endLine": 251,
      "summary": "Final answer: SOLVED - A+A is well-distributed by Lindström and Kolountzakis."
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #154 was SOLVED by Lindström (1998) and Kolountzakis (1999). For Sidon sets A ⊂ {1,...,N} with |A| ~ √N, the sumset A+A is well-distributed over small moduli. About half the elements are even and half are odd.",
    "implications": "This result reveals the regularity hidden in Sidon sets. The unique representation property forces both the set and its sumset to be evenly spread across residue classes. The techniques connect additive combinatorics with harmonic analysis through exponential sums.",
    "openQuestions": [
      "What is the optimal range of moduli for which distribution holds?",
      "Can the error term O(√|A|) be improved for specific constructions?",
      "Does similar distribution hold for higher-order sumsets like A+A+A?",
      "What about distribution of Sidon sets in other groups?"
    ]
  }
}
