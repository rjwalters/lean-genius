{
  "id": "erdos-48",
  "title": "Erdos Problem #48: Infinitely Many Pairs with phi(n) = sigma(m)",
  "slug": "erdos-48",
  "description": "Are there infinitely many integers n, m such that phi(n) = sigma(m)? YES, proved by Ford-Luca-Pomerance (2010).",
  "meta": {
    "author": "Ford-Luca-Pomerance (2010 proof), Erdos (1959 problem)",
    "sourceUrl": "https://erdosproblems.com/48",
    "date": "2010",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos48Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "totient",
      "sum-of-divisors",
      "arithmetic-functions",
      "solved"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 48,
    "erdosUrl": "https://erdosproblems.com/48",
    "erdosProblemStatus": "solved",
    "dateAdded": "2026-01-13",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.totient",
        "description": "Euler's totient function",
        "module": "Mathlib.Data.Nat.Totient"
      },
      {
        "theorem": "Nat.divisors",
        "description": "Set of divisors of a natural number",
        "module": "Mathlib.NumberTheory.Divisors"
      },
      {
        "theorem": "Nat.Prime",
        "description": "Prime number predicate",
        "module": "Mathlib.Data.Nat.Prime.Basic"
      },
      {
        "theorem": "Finset.sum",
        "description": "Sum over finite sets",
        "module": "Mathlib.Algebra.BigOperators.Group.Finset.Basic"
      }
    ],
    "originalContributions": [
      "sumDivisors definition: sum of all divisors sigma(n)",
      "totientSigmaPairs set: {(n,m) | phi(n) = sigma(m)}",
      "commonValues set: intersection of totient and sigma ranges",
      "Concrete examples: (2,1), (5,3), (7,5), (13,11), (13,6)",
      "ford_luca_pomerance axiom: totientSigmaPairs.Infinite",
      "garaev_improvement axiom: strengthened density bounds",
      "twin_prime_gives_pair theorem: connection to twin primes",
      "prime_pair_condition theorem: characterizing prime pairs",
      "Sophie Germain and perfect number connections",
      "Multiplicativity properties",
      "erdos_48 theorem: the main result"
    ]
  },
  "overview": {
    "historicalContext": "**Erdos Problem #48**\n\nThis problem asks about common values of two fundamental arithmetic functions.\n\n**Key History:**\n- Erdos [Er59c], [Er74b], [Er95]: Original problem formulations\n- Ford-Luca-Pomerance (2010): Proved infinitely many pairs exist\n- Garaev (2011): Improved density bounds\n\n**Mathematical Setting:**\n- phi(n) = Euler's totient = count of integers 1 to n coprime to n\n- sigma(n) = sum of all positive divisors of n\n\nBoth are multiplicative functions with very different behavior: phi(n) < n for n > 1 (shrinks), while sigma(n) > n for n > 1 (grows).",
    "problemStatement": "**Problem Statement (Proved)**\n\nAre there infinitely many integers n, m such that phi(n) = sigma(m)?\n\n**Answer: YES**\n\nFord, Luca, and Pomerance (2010) proved:\n1. Infinitely many such pairs exist\n2. Quantitative bound: >= exp((log log x)^c) common values <= x\n\nGaraev (2011) improved to exp((log log x)^omega(x)) where omega(x) -> infinity.",
    "proofStrategy": "**Formalization Approach**\n\n1. **Arithmetic Functions:** Define sumDivisors sigma(n) using Finset.sum\n\n2. **Key Sets:**\n   - totientSigmaPairs: {(n,m) | phi(n) = sigma(m)}\n   - commonValues: intersection of phi-range and sigma-range\n\n3. **Examples:** Verify (2,1), (5,3), (7,5), (13,11), (13,6) using native_decide\n\n4. **Main Results:** Axiomatize Ford-Luca-Pomerance and Garaev theorems\n\n5. **Connections:** Twin primes, Sophie Germain primes, perfect numbers\n\n6. **Properties:** Multiplicativity of phi and sigma",
    "keyInsights": [
      "**Twin Prime Connection:** If p, p+2 both prime, then phi(p+2) = sigma(p) = p+1",
      "**Value Distribution:** phi tends to be small, sigma tends to be large",
      "**Common Values Include:** 1, 4, 6, 12, 24, 48, ...",
      "**Multiplicativity:** Both phi and sigma are multiplicative functions",
      "**Perfect Numbers:** sigma(n) = 2n gives special structure",
      "**Density:** Common values have positive lower density"
    ]
  },
  "sections": [
    {
      "id": "arithmetic-functions",
      "title": "Arithmetic Functions",
      "summary": "sumDivisors definition, notation, Euler's totient from Mathlib",
      "startLine": 40,
      "endLine": 69
    },
    {
      "id": "basic-properties",
      "title": "Basic Properties",
      "summary": "sumDivisors_one, sumDivisors_prime, totient_prime, totient_lt",
      "startLine": 71,
      "endLine": 100
    },
    {
      "id": "pair-sets",
      "title": "Totient-Sigma Pairs",
      "summary": "totientSigmaPairs, commonValues, commonValues_iff",
      "startLine": 102,
      "endLine": 129
    },
    {
      "id": "examples",
      "title": "Verified Examples",
      "summary": "pair_5_3, pair_2_1, pair_7_5, pair_13_11, pair_13_6",
      "startLine": 131,
      "endLine": 215
    },
    {
      "id": "ford-luca-pomerance",
      "title": "Ford-Luca-Pomerance Theorem",
      "summary": "ford_luca_pomerance axiom, erdos_48 main theorem",
      "startLine": 217,
      "endLine": 242
    },
    {
      "id": "garaev",
      "title": "Garaev's Improvement",
      "summary": "garaev_improvement axiom with stronger density bounds",
      "startLine": 244,
      "endLine": 262
    },
    {
      "id": "twin-primes",
      "title": "Connection to Twin Primes",
      "summary": "twin_prime_gives_pair, twin_prime_implies_erdos_48",
      "startLine": 264,
      "endLine": 294
    },
    {
      "id": "special-cases",
      "title": "Special Cases",
      "summary": "prime_pair_condition, Sophie Germain, perfect numbers",
      "startLine": 296,
      "endLine": 334
    },
    {
      "id": "value-distribution",
      "title": "Value Distribution",
      "summary": "totientRange, sigmaRange, common values 1, 4, 6, 12",
      "startLine": 336,
      "endLine": 401
    },
    {
      "id": "multiplicativity",
      "title": "Multiplicativity",
      "summary": "sumDivisors_multiplicative, totient_multiplicative",
      "startLine": 403,
      "endLine": 422
    },
    {
      "id": "main-results",
      "title": "Main Results",
      "summary": "erdos_48_summary, erdos_48_answer, at_least_five_pairs",
      "startLine": 424,
      "endLine": 472
    }
  ],
  "conclusion": {
    "summary": "Erdos Problem #48 asked whether infinitely many pairs (n,m) exist with phi(n) = sigma(m). The answer is YES, proved by Ford, Luca, and Pomerance in 2010. Garaev improved the density bounds in 2011. The problem has deep connections to twin primes - if the twin prime conjecture is true, Erdos #48 follows immediately.",
    "implications": "**Number-Theoretic Connections**\n\n1. **Twin Primes:** phi(p+2) = sigma(p) = p+1 for twin primes\n\n2. **Value Ranges:** Understanding which values are in Im(phi) and Im(sigma)\n\n3. **Multiplicativity:** Both functions are multiplicative\n\n4. **Perfect Numbers:** sigma(n) = 2n gives special pairs\n\n5. **Density Estimates:** Common values have positive density",
    "openQuestions": [
      "Exact characterization of common values",
      "Optimal density bounds for common values",
      "Explicit construction of infinitely many pairs",
      "Connection to Carmichael's totient conjecture",
      "Common values of other arithmetic function pairs"
    ]
  }
}
