{
  "id": "erdos-1058",
  "title": "Erdős Problem #1058: Prime Divisors of n!+1 Between Consecutive Primes",
  "slug": "erdos-1058",
  "description": "Are there only finitely many n in [p_{k-1}, p_k) such that the only primes dividing n!+1 are p_k and p_{k+1}? SOLVED: Luca (2001) proved the only solutions are n = 1, 2, 3, 4, 5.",
  "meta": {
    "author": "Erdős, Stewart, Luca",
    "sourceUrl": "https://erdosproblems.com/1058",
    "date": "2001",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos1058Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "factorials",
      "prime-divisors",
      "diophantine"
    ],
    "badge": "mathlib",
    "sorries": 1,
    "erdosNumber": 1058,
    "erdosUrl": "https://erdosproblems.com/1058",
    "erdosProblemStatus": "solved"
  },
  "overview": {
    "historicalContext": "A conjecture of Erdős and Stewart, as reported in Problem A2 of Guy's collection 'Unsolved Problems in Number Theory'. The problem explores the rare phenomenon where n!+1 has very few prime factors, specifically only the next two consecutive primes after the interval containing n. Luca completely solved this in 2001.",
    "problemStatement": "Let 2 = p₁ < p₂ < ... be the sequence of primes. Are there only finitely many n such that n ∈ [p_{k-1}, p_k) and the only primes dividing n!+1 are p_k and p_{k+1}?",
    "proofStrategy": "The formalization defines the prime sequence, the interval condition, and the divisibility condition. We state Luca's theorem that n = 1, 2, 3, 4, 5 are the only solutions. The proof verifies these small cases explicitly and discusses the techniques used to eliminate larger values.",
    "keyInsights": [
      "Only n = 1, 2, 3, 4, 5 satisfy the condition",
      "Factorial growth eventually forces many prime factors",
      "Wilson's theorem ensures p_k divides (p_k - 1)! + 1",
      "For n ≥ 6, n!+1 is too large for restricted factorization",
      "Diophantine methods eliminate all larger cases"
    ]
  },
  "sections": [
    {
      "id": "section-1",
      "title": "Prime Sequence Definitions",
      "startLine": 32,
      "endLine": 62,
      "summary": "Defines the prime sequence p₁ = 2, p₂ = 3, ... and its basic properties."
    },
    {
      "id": "section-2",
      "title": "Problem Statement",
      "startLine": 63,
      "endLine": 89,
      "summary": "Formalizes the interval condition n ∈ [p_{k-1}, p_k) and the divisibility condition."
    },
    {
      "id": "section-3",
      "title": "The Conjecture (Proved)",
      "startLine": 90,
      "endLine": 106,
      "summary": "States the Erdős-Stewart conjecture about finiteness and that Luca proved it true."
    },
    {
      "id": "section-4",
      "title": "Complete Classification",
      "startLine": 107,
      "endLine": 124,
      "summary": "Luca's theorem: the only solutions are n = 1, 2, 3, 4, 5."
    },
    {
      "id": "section-5",
      "title": "Verification of Known Cases",
      "startLine": 125,
      "endLine": 165,
      "summary": "Explicit verification: 1!+1=2, 2!+1=3, 3!+1=7, 4!+1=25=5², 5!+1=121=11²."
    },
    {
      "id": "section-6",
      "title": "Why the Problem is Hard",
      "startLine": 166,
      "endLine": 197,
      "summary": "Discusses factorial growth, Wilson's theorem, and the difficulty of the problem."
    },
    {
      "id": "section-7",
      "title": "Luca's Proof Technique",
      "startLine": 198,
      "endLine": 229,
      "summary": "Key techniques: lower bounds, primitive divisors, size bounds, diophantine methods."
    },
    {
      "id": "section-8",
      "title": "Summary and Status",
      "startLine": 286,
      "endLine": 340,
      "summary": "Complete summary stating the problem was solved by Luca with exactly five solutions."
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #1058 was SOLVED by Florian Luca in 2001. The answer is YES: there are only finitely many n satisfying the condition, and the complete list is n = 1, 2, 3, 4, 5. The proof uses growth rate arguments and diophantine techniques to show that for n ≥ 6, n!+1 necessarily has additional prime factors.",
    "implications": "The result shows how quickly factorial growth overwhelms the possibility of having restricted prime factorizations. It connects Wilson's theorem, prime gaps, and factorial arithmetic in a beautiful way.",
    "openQuestions": [
      "Are there similar finiteness results for n! - 1?",
      "What about n!+1 being a prime power (Brocard's problem)?",
      "Can the techniques extend to other factorial-based expressions?"
    ]
  }
}
