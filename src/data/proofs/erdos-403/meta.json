{
  "id": "erdos-403",
  "title": "Erdős Problem #403: Powers of 2 as Sums of Distinct Factorials",
  "slug": "erdos-403",
  "description": "Does 2^m = a₁! + a₂! + ... + aₖ! (with distinct aᵢ) have only finitely many solutions? YES - the largest is 2^7 = 2! + 3! + 5! = 128 (Lin/Frankl 1976).",
  "meta": {
    "author": "Burr, Erdős, Frankl, Lin",
    "sourceUrl": "https://erdosproblems.com/403",
    "date": "1976",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos403Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "factorials",
      "exponential-equations",
      "diophantine",
      "solved"
    ],
    "badge": "axiom",
    "sorries": 0,
    "erdosNumber": 403,
    "erdosUrl": "https://erdosproblems.com/403",
    "erdosProblemStatus": "solved",
    "dateAdded": "2026-01-19",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Nat.factorial",
        "description": "Factorial function",
        "module": "Mathlib.Data.Nat.Factorial.Basic"
      },
      {
        "theorem": "Finset.sum",
        "description": "Sum over finite sets",
        "module": "Mathlib.Algebra.BigOperators.Group.Finset"
      },
      {
        "theorem": "Nat.factorization",
        "description": "Prime factorization",
        "module": "Mathlib.Data.Nat.Prime.Basic"
      }
    ],
    "originalContributions": [
      "sumFactorials: sum of factorials over a finite set",
      "IsPowerOfTwoFactorialSum: 2^m equals factorial sum",
      "IsPrimePowerFactorialSum: p^m equals factorial sum",
      "lin_theorem_finiteness axiom: m ≤ 7 bound",
      "twoAdicValuation: 2-adic valuation function",
      "lin_two_adic_bound axiom: 2-adic bound ≤ 254",
      "threeExponentSolutions: {0,1,2,3,6} for powers of 3",
      "lin_theorem_powers_of_three axiom: exactly 5 solutions",
      "factorial_dominates_exponential axiom: growth comparison",
      "maxPrimePowerDiv: f(a,p) function from Problem 404",
      "erdos_403 theorem: main finiteness result"
    ]
  },
  "overview": {
    "historicalContext": "**Erdős Problem #403: Powers of 2 as Factorial Sums**\n\nThis problem asks whether the equation 2^m = a₁! + a₂! + ... + aₖ! (with distinct positive integers aᵢ) has only finitely many solutions.\n\n**Historical Development:**\n- **Burr and Erdős** posed the question\n- **Lin (1976):** Proved finiteness, showing m ≤ 7 is maximal\n- **Frankl:** Independently obtained the same result\n- **Lin's stronger result:** The 2-adic valuation of any such sum is ≤ 254\n\n**The Answer:**\nYES, there are only finitely many solutions. The largest is:\n**2^7 = 2! + 3! + 5! = 2 + 6 + 120 = 128**\n\n**Reference:**\nLin, S., 'On two problems of Erdős concerning sums of distinct factorials.'\nBell Laboratories internal memorandum (1960/1976).\nAlso in Erdős-Graham [ErGr80, p.79].",
    "problemStatement": "**Problem Statement (Solved)**\n\nDoes the equation\n$$2^m = a_1! + a_2! + \\cdots + a_k!$$\nwith $a_1 < a_2 < \\cdots < a_k$ have only finitely many solutions?\n\n**Answer: YES**\n\n**Maximal Solution:** $2^7 = 2! + 3! + 5! = 128$\n\n**Verified Solutions:**\n- $2^1 = 2 = 2!$\n- $2^2 = 4 = 0! + 1! + 2!$\n- $2^3 = 8 = 0! + 1! + 3!$\n- $2^7 = 128 = 2! + 3! + 5!$ (maximal)\n\n**Related Result:**\nFor $3^m = \\sum a_i!$, there are exactly 5 solutions: $m \\in \\{0, 1, 2, 3, 6\\}$.",
    "proofStrategy": "**Formalization Approach**\n\n1. **Core Definitions:** sumFactorials for Σa!, IsPowerOfTwoFactorialSum predicate\n\n2. **Explicit Verifications:** Use native_decide to verify known solutions\n\n3. **Lin's Theorem:** Axiomatize the finiteness result (m ≤ 7)\n\n4. **2-adic Analysis:** twoAdicValuation and the 254 bound\n\n5. **Powers of 3:** Complete enumeration of 5 solutions\n\n6. **Growth Arguments:** Factorial dominates exponential growth\n\n7. **Problem 404 Connection:** Relate to f(a,p) function",
    "keyInsights": [
      "**Explicit Maximum:** 2^7 = 2! + 3! + 5! = 128 is the largest solution",
      "**2-adic Bound:** Lin showed the 2-adic valuation is at most 254",
      "**Factorial Growth:** n! grows much faster than 2^n, limiting solutions",
      "**Powers of 3:** Exactly 5 solutions: m ∈ {0, 1, 2, 3, 6}",
      "**Computational Verification:** Small cases can be checked by native_decide",
      "**Connection to Problem 404:** Generalizes to f(a,p) bounds"
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "summary": "sumFactorials, IsPowerOfTwoFactorialSum, IsPrimePowerFactorialSum",
      "startLine": 34,
      "endLine": 66
    },
    {
      "id": "known-solutions",
      "title": "Known Solutions",
      "summary": "Explicit verifications for 2^1, 2^7",
      "startLine": 68,
      "endLine": 97
    },
    {
      "id": "finiteness",
      "title": "Main Finiteness Result",
      "summary": "Lin's theorem: m ≤ 7",
      "startLine": 99,
      "endLine": 128
    },
    {
      "id": "two-adic",
      "title": "2-adic Bounds",
      "summary": "twoAdicValuation, Lin's 254 bound",
      "startLine": 130,
      "endLine": 161
    },
    {
      "id": "powers-of-three",
      "title": "Powers of 3",
      "summary": "Exactly 5 solutions for 3^m",
      "startLine": 163,
      "endLine": 210
    },
    {
      "id": "growth-arguments",
      "title": "Why Finiteness Holds",
      "summary": "Factorial dominates exponential",
      "startLine": 212,
      "endLine": 243
    },
    {
      "id": "problem-404",
      "title": "Connection to Problem 404",
      "summary": "f(a,p) function and generalization",
      "startLine": 245,
      "endLine": 277
    },
    {
      "id": "computational",
      "title": "Computational Verification",
      "summary": "Checking small cases",
      "startLine": 279,
      "endLine": 316
    },
    {
      "id": "main-results",
      "title": "Main Results",
      "summary": "erdos_403 theorem, historical note",
      "startLine": 318,
      "endLine": 373
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #403 is SOLVED. The equation 2^m = Σaᵢ! (distinct aᵢ) has only finitely many solutions, with 2^7 = 2! + 3! + 5! = 128 being maximal. Lin (1976) proved this via 2-adic analysis, showing the 2-adic valuation is bounded by 254. Frankl obtained the result independently. For powers of 3, there are exactly 5 solutions.",
    "implications": "**Number-Theoretic Significance**\n\n1. **Factorial Structure:** Sums of distinct factorials have limited divisibility properties\n\n2. **Growth Rates:** Factorial growth dominates exponential, severely limiting solutions\n\n3. **2-adic Methods:** The proof relies on analyzing 2-adic valuations\n\n4. **Generalization:** Problem 404 asks about f(a,p) for general primes\n\n5. **Computational Aspect:** Small solutions can be verified explicitly",
    "openQuestions": [
      "What are all solutions (not just the maximum) for 2^m?",
      "What is f(a,p) for other values of a and primes p?",
      "Is there a pattern to which exponents m have solutions?",
      "Can the 254 bound be improved?"
    ]
  }
}
