[
  {
    "id": "ann-e233-header",
    "proofId": "erdos-233",
    "range": { "startLine": 1, "endLine": 24 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #233** asks about the sum of squares of prime gaps. The prime gap dₙ = pₙ₊₁ - pₙ measures the distance between consecutive primes.\n\nThe conjecture is that Σ dₙ² grows like N(log N)², meaning gaps are 'typically' not too large. This is currently OPEN.",
    "mathContext": "The conjecture states Σₙ≤N dₙ² ≪ N(log N)². The prime number theorem gives the matching lower bound, but the upper bound is only known conditionally on RH.",
    "significance": "critical",
    "relatedConcepts": ["Prime gaps", "Prime number theorem", "Riemann Hypothesis"]
  },
  {
    "id": "ann-e233-nth-prime",
    "proofId": "erdos-233",
    "range": { "startLine": 34, "endLine": 36 },
    "type": "definition",
    "title": "The n-th Prime",
    "content": "The **n-th prime function** returns the n-th prime number (0-indexed). So nthPrime(0) = 2, nthPrime(1) = 3, nthPrime(2) = 5, etc.\n\nWe use Mathlib's `Nat.nth` which enumerates elements satisfying a predicate - here, `Nat.Prime`.",
    "mathContext": "Defined as `Nat.nth Nat.Prime n`. This is noncomputable because checking primality requires unbounded search.",
    "significance": "key",
    "relatedConcepts": ["Nat.nth", "Prime numbers", "Enumeration"]
  },
  {
    "id": "ann-e233-prime-gap",
    "proofId": "erdos-233",
    "range": { "startLine": 38, "endLine": 39 },
    "type": "definition",
    "title": "Prime Gap Function",
    "content": "The **prime gap** dₙ = pₙ₊₁ - pₙ measures the distance between the n-th and (n+1)-th primes.\n\nFor example: d₀ = 3 - 2 = 1, d₁ = 5 - 3 = 2, d₂ = 7 - 5 = 2.\n\nUnderstanding the distribution of prime gaps is one of the fundamental questions in number theory.",
    "mathContext": "primeGap(n) = nthPrime(n+1) - nthPrime(n). The prime number theorem implies the average gap near x is approximately log x.",
    "significance": "critical",
    "relatedConcepts": ["Prime distribution", "Cramér's conjecture", "Twin primes"]
  },
  {
    "id": "ann-e233-sum-squares",
    "proofId": "erdos-233",
    "range": { "startLine": 43, "endLine": 45 },
    "type": "definition",
    "title": "Sum of Squares of Prime Gaps",
    "content": "The **sum of squared prime gaps** aggregates how the gaps vary:\n\nΣₙ≤N dₙ² = d₀² + d₁² + d₂² + ... + dₙ₋₁²\n\nThis is the 'second moment' of the prime gap distribution - it measures not just the average, but the spread.",
    "mathContext": "sumSquaresGaps(N) = Σₙ∈range(N) (primeGap(n))². Large gaps contribute disproportionately due to squaring.",
    "significance": "key",
    "relatedConcepts": ["Second moment", "Variance", "Statistical moments"]
  },
  {
    "id": "ann-e233-conjecture",
    "proofId": "erdos-233",
    "range": { "startLine": 49, "endLine": 61 },
    "type": "definition",
    "title": "The Main Conjecture",
    "content": "**Erdős Problem #233** conjectures that Σ dₙ² = O(N(log N)²).\n\nIn plain terms: the sum of squared prime gaps grows at most like N times (log N)².\n\nThis is the 'expected' growth rate if gaps are typically around log p (as the PNT suggests). The conjecture says gaps don't have unusually large spikes too often.",
    "mathContext": "Formalized as: (fun N => sumSquaresGaps N) =O[atTop] (fun N => N * (log N)²). This uses Mathlib's asymptotic notation.",
    "significance": "critical",
    "relatedConcepts": ["Big-O notation", "Asymptotic analysis", "Heath-Brown"]
  },
  {
    "id": "ann-e233-lower-bound",
    "proofId": "erdos-233",
    "range": { "startLine": 65, "endLine": 75 },
    "type": "axiom",
    "title": "Lower Bound (PNT)",
    "content": "The **Prime Number Theorem** gives a matching LOWER bound: Σ dₙ² ≥ c·N(log N)² for some constant c.\n\nThis is unconditional - no hypothesis needed.\n\n**Why?** The average gap is log p by PNT. So on average, dₙ² ≈ (log p)². Summing N such terms gives N(log N)².",
    "mathContext": "Axiomatized as: N(log N)² =O[atTop] sumSquaresGaps. This is the reverse big-O (lower bound).",
    "significance": "key",
    "relatedConcepts": ["Prime number theorem", "de la Vallée Poussin", "Asymptotic density"]
  },
  {
    "id": "ann-e233-cramer",
    "proofId": "erdos-233",
    "range": { "startLine": 77, "endLine": 87 },
    "type": "axiom",
    "title": "Cramér's Conditional Upper Bound (1936)",
    "content": "**Cramér** proved that assuming the **Riemann Hypothesis**, we have Σ dₙ² = O(N(log N)⁴).\n\nThis is the best known unconditional-style upper bound, but it's weaker than the conjecture by a factor of (log N)².\n\nThe proof uses deep connections between prime distribution and zeros of the zeta function.",
    "mathContext": "RiemannHypothesis → sumSquaresGaps =O[atTop] N(log N)⁴. Cramér's 1936 paper 'On the order of magnitude...'",
    "significance": "key",
    "relatedConcepts": ["Riemann Hypothesis", "Cramér", "Zeta function"]
  },
  {
    "id": "ann-e233-selberg",
    "proofId": "erdos-233",
    "range": { "startLine": 89, "endLine": 102 },
    "type": "axiom",
    "title": "Selberg's Improvement (1943)",
    "content": "**Selberg** improved Cramér's result by considering a weighted sum:\n\nΣ dₙ²/n ≪ (log N)⁴\n\nThe 1/n weighting gives more influence to small indices. This is slightly stronger than Cramér's bound.\n\nSelberg's work pioneered the 'Selberg sieve' technique.",
    "mathContext": "RiemannHypothesis → selbergSum =O[atTop] (log N)⁴, where selbergSum = Σ dₙ²/(n+1).",
    "significance": "supporting",
    "relatedConcepts": ["Selberg sieve", "Weighted sums", "Analytic number theory"]
  },
  {
    "id": "ann-e233-status",
    "proofId": "erdos-233",
    "range": { "startLine": 106, "endLine": 116 },
    "type": "axiom",
    "title": "Current Status",
    "content": "**The conjecture remains OPEN.** We have:\n\n- Lower bound: N(log N)² (unconditional) ✓\n- Upper bound: N(log N)⁴ (conditional on RH) ✓\n- Conjecture: N(log N)² (open) ✗\n\nThe gap between what we can prove and what we conjecture is (log N)² - two logarithmic factors.",
    "mathContext": "We state: Erdos233Conjecture ∨ ¬Erdos233Conjecture (law of excluded middle - we don't know which).",
    "significance": "critical",
    "relatedConcepts": ["Open problems", "Gap between bounds", "Number theory frontiers"]
  },
  {
    "id": "ann-e233-cramer-conjecture",
    "proofId": "erdos-233",
    "range": { "startLine": 120, "endLine": 133 },
    "type": "definition",
    "title": "Cramér's Conjecture",
    "content": "**Cramér's Conjecture** is a famous open problem about individual prime gaps:\n\ndₙ = O((log pₙ)²)\n\nThis says each gap is at most about (log p)². If true, it would immediately imply Problem #233, since squaring and summing gives N(log N)².\n\nCramér's conjecture is based on probabilistic heuristics treating primes as 'random'.",
    "mathContext": "∀ε>0, ∃N₀, ∀n≥N₀: primeGap(n) ≤ (1+ε)(log(nthPrime(n)))². This is stronger than Erdős #233.",
    "significance": "key",
    "relatedConcepts": ["Cramér's model", "Probabilistic number theory", "Random primes"]
  },
  {
    "id": "ann-e233-examples",
    "proofId": "erdos-233",
    "range": { "startLine": 137, "endLine": 140 },
    "type": "theorem",
    "title": "First Prime Gaps",
    "content": "The first few prime gaps are:\n\n- d₀ = 3 - 2 = 1\n- d₁ = 5 - 3 = 2  \n- d₂ = 7 - 5 = 2\n\nThese concrete values are axiomatized since nthPrime is noncomputable in Lean.",
    "mathContext": "primeGap(0) = 1, primeGap(1) = 2, primeGap(2) = 2. These can be verified externally.",
    "significance": "supporting",
    "relatedConcepts": ["Small primes", "Concrete examples", "Verification"]
  },
  {
    "id": "ann-e233-summary",
    "proofId": "erdos-233",
    "range": { "startLine": 144, "endLine": 158 },
    "type": "theorem",
    "title": "Summary Theorem",
    "content": "The **summary theorem** combines our concrete examples with the open status:\n\n1. First prime gaps: d₀=1, d₁=2, d₂=2\n2. The conjecture is either true or false (we don't know which)\n\nThis captures the complete state of knowledge we've formalized.",
    "mathContext": "summary_erdos_233: (first_prime_gaps) ∧ (Erdos233Conjecture ∨ ¬Erdos233Conjecture)",
    "significance": "supporting",
    "relatedConcepts": ["Summary", "Known results", "Open questions"]
  }
]
