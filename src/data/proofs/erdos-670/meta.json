{
  "id": "erdos-670",
  "title": "Erdős Problem #670: Diameter of Sets with Distinct Distances",
  "slug": "erdos-670",
  "description": "Let A ⊆ ℝ^d be n points with all pairwise distances differing by at least 1. Is diameter(A) ≥ (1+o(1))n²? Proved for d=1 by Erdős (1997). Higher dimensions remain OPEN.",
  "meta": {
    "author": "Erdős (1997)",
    "sourceUrl": "https://erdosproblems.com/670",
    "date": "1997",
    "status": "complete",
    "proofRepoPath": "Proofs/Erdos670Problem.lean",
    "tags": [
      "erdos",
      "discrete-geometry",
      "combinatorics",
      "distinct-distances",
      "metric-geometry"
    ],
    "badge": "axiom",
    "sorries": 10,
    "erdosNumber": 670,
    "erdosUrl": "https://erdosproblems.com/670",
    "erdosProblemStatus": "open",
    "mathlib_version": "4.15.0",
    "mathlibDependencies": [
      {
        "theorem": "Finset.card",
        "description": "Cardinality of finite sets",
        "module": "Mathlib.Data.Finset.Card"
      },
      {
        "theorem": "Real.sqrt",
        "description": "Real square root function",
        "module": "Mathlib.Data.Real.Basic"
      },
      {
        "theorem": "Finset.sup'",
        "description": "Supremum over nonempty finite sets",
        "module": "Mathlib.Data.Finset.Lattice"
      },
      {
        "theorem": "Nat.choose",
        "description": "Binomial coefficients C(n,k)",
        "module": "Mathlib.Data.Nat.Choose.Basic"
      }
    ],
    "originalContributions": [
      "Formalized PointSet and DistinctDistances predicate for ℝ^d",
      "Stated trivial lower bound: diameter ≥ n(n-1)/2",
      "Captured Erdős (1997) result for d = 1",
      "Defined MainConjecture and WeakConjecture for general d",
      "Connected to distinct distances problem"
    ]
  },
  "overview": {
    "historicalContext": "This problem concerns the interplay between distance constraints and geometric spread. If n points in ℝ^d have all pairwise distances differing by at least 1, then there are C(n,2) = n(n-1)/2 distinct distances. Since these distances must be spread apart, the diameter (maximum pairwise distance) must be large.\n\nThe trivial lower bound gives diameter ≥ n(n-1)/2 ≈ n²/2. Erdős conjectured the stronger bound (1+o(1))n², meaning the diameter grows like n² with coefficient approaching 1. He proved this for d=1 in 1997, but higher dimensions remain open.",
    "problemStatement": "Let $A \\subseteq \\mathbb{R}^d$ be a set of $n$ points such that all pairwise distances differ by at least 1. Is the diameter of $A$ at least $(1+o(1))n^2$?\n\n**Known Results**:\n- **Trivial bound**: diameter $\\geq \\binom{n}{2} = \\frac{n(n-1)}{2}$\n- **d = 1**: Erdős (1997) proved diameter $\\geq (1+o(1))n^2$\n- **d ≥ 2**: OPEN\n\n**Status**: OPEN (solved for d = 1)",
    "proofStrategy": "The formalization defines PointSet as a finite set of points in (Fin d → ℝ). The DistinctDistances predicate captures the constraint that all pairwise distances differ by at least δ. The diameter is defined as the maximum pairwise distance. For d = 1, we specialize to RealPointSet and state Erdős's 1997 result as an axiom. The arithmetic progression construction shows the bound is tight.",
    "keyInsights": [
      "**Trivial lower bound**: C(n,2) distinct distances differing by at least 1 gives diameter ≥ n(n-1)/2.",
      "**One dimension is special**: On the real line, ordering the points gives a clean argument. Higher dimensions lack this structure.",
      "**Tightness**: Arithmetic progressions {0, n, 2n, ..., (n-1)n} achieve diameter ≈ n² with gaps exactly 1.",
      "**Higher dimensions may help**: More degrees of freedom might allow tighter packing, potentially weakening the bound.",
      "**Connection to distinct distances**: This is a strengthened variant of Erdős's 1946 distinct distances problem."
    ]
  },
  "sections": [
    {
      "id": "basic-definitions",
      "title": "Basic Definitions",
      "summary": "PointSet, dist', pairwiseDistances, DistinctDistances, diameter",
      "startLine": 30,
      "endLine": 56
    },
    {
      "id": "trivial-bound",
      "title": "The Trivial Lower Bound",
      "summary": "numPairs, trivial_lower_bound, diameter_ge_choose",
      "startLine": 57,
      "endLine": 79
    },
    {
      "id": "main-conjecture",
      "title": "The Main Conjecture",
      "summary": "MainConjecture, WeakConjecture, trivial_gives_half",
      "startLine": 80,
      "endLine": 106
    },
    {
      "id": "one-dimensional",
      "title": "The One-Dimensional Case",
      "summary": "RealPointSet, erdos_1997_d1, erdos_1997_d1_asymptotic",
      "startLine": 107,
      "endLine": 140
    },
    {
      "id": "constructions",
      "title": "Constructions",
      "summary": "arithmeticProgression, ap_distinct_distances, conjecture_is_tight",
      "startLine": 141,
      "endLine": 173
    },
    {
      "id": "higher-dimensions",
      "title": "Higher Dimensions",
      "summary": "higher_dim_open, SuperlinearConjecture",
      "startLine": 174,
      "endLine": 194
    },
    {
      "id": "related-problems",
      "title": "Related Problems",
      "summary": "DistinctDistancesProblem, differ_implies_distinct",
      "startLine": 195,
      "endLine": 215
    },
    {
      "id": "strategies",
      "title": "Strategies",
      "summary": "projection_approach, pigeonhole_approach",
      "startLine": 216,
      "endLine": 233
    },
    {
      "id": "main-statement",
      "title": "Main Problem Statement",
      "summary": "erdos_670_statement",
      "startLine": 234,
      "endLine": 254
    },
    {
      "id": "summary",
      "title": "Summary",
      "summary": "erdos_670_summary, erdos_670_answer",
      "startLine": 255,
      "endLine": 278
    }
  ],
  "conclusion": {
    "summary": "Erdős Problem #670 asks whether n points in ℝ^d with pairwise distances differing by at least 1 must have diameter (1+o(1))n². This is proved for d=1 by Erdős (1997), but remains open for d≥2. The trivial bound gives diameter ≥ n(n-1)/2.",
    "implications": "A positive resolution would establish a strong quantitative link between distance separation and geometric spread. It would also relate to the distinct distances problem and packing questions in higher dimensions.",
    "openQuestions": [
      "Does the conjecture hold for d = 2?",
      "Can higher dimensions allow smaller diameter (tighter packing)?",
      "What is the optimal construction achieving diameter ≈ n² in dimension d?",
      "Is there a dimension-independent proof?"
    ]
  }
}
