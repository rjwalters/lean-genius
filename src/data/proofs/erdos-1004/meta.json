{
  "id": "erdos-1004",
  "title": "Erdős #1004: Distinct Consecutive Totient Values",
  "slug": "erdos-1004",
  "description": "For c > 0, if x is large, does there exist n ≤ x such that φ(n+1), ..., φ(n+⌊(log x)^c⌋) are all distinct? EPS (1987) proved K ≤ n/exp(c(log n)^{1/3}).",
  "meta": {
    "author": "Paul Erdős, Carl Pomerance, András Sárközy",
    "sourceUrl": "https://erdosproblems.com/1004",
    "date": "1987",
    "status": "formalized",
    "proofRepoPath": "Proofs/Erdos1004Problem.lean",
    "tags": [
      "erdos",
      "number-theory",
      "totient",
      "analytic-number-theory"
    ],
    "badge": "wip",
    "sorries": 9,
    "erdosNumber": 1004,
    "erdosUrl": "https://erdosproblems.com/1004",
    "erdosProblemStatus": "open"
  },
  "overview": {
    "historicalContext": "This problem concerns runs of consecutive integers with distinct Euler totient values. Erdős, Pomerance, and Sárközy (1987) studied 'locally repeated values' of arithmetic functions, establishing upper bounds on how long such distinct runs can be.\n\nThe EPS87 theorem shows that if φ(n+1), ..., φ(n+K) are all distinct, then K ≤ n/exp(c(log n)^{1/3}) for some constant c > 0. This is a strong constraint—distinct runs cannot be too long relative to n.\n\nThe main question asks whether runs of length (log x)^c always exist for large x. This remains open. Problem #945 asks the analogous question for the divisor function τ(n).",
    "problemStatement": "Let c > 0. If x is sufficiently large, does there exist n ≤ x such that the values φ(n+1), φ(n+2), ..., φ(n+⌊(log x)^c⌋) are all distinct?\n\n**Status**: OPEN (partial results from EPS 1987)",
    "proofStrategy": "We formalize Euler's totient function, define distinct totient runs, and state the EPS87 upper bound as an axiom. The main conjecture asks for the existence of runs of length (log x)^c. We explore examples showing how collisions (repeated totient values) limit run lengths, and connect to the birthday problem heuristic for understanding when collisions occur.",
    "keyInsights": [
      "**Totient collisions**: φ(3) = φ(4) = φ(6) = 2 shows multiple integers can share the same totient value",
      "**EPS87 bound**: Distinct runs satisfy K ≤ n/exp(c(log n)^{1/3}), so runs are sublinear in n",
      "**Birthday paradox**: With ~n/log n distinct totient values, collisions become likely after ~√(n/log n) consecutive integers",
      "**Problem #945**: The analogous question for divisor function τ(n) is also open",
      "**Critical exponent**: The bound suggests c ≤ 1/3 might be the threshold for the conjecture"
    ]
  },
  "sections": [
    {
      "id": "totient",
      "title": "Euler's Totient Function",
      "summary": "Definition and basic properties of φ(n)",
      "startLine": 36,
      "endLine": 58
    },
    {
      "id": "distinct-runs",
      "title": "Distinct Totient Runs",
      "summary": "Definition of runs with all distinct φ values",
      "startLine": 60,
      "endLine": 85
    },
    {
      "id": "max-length",
      "title": "Maximum Run Length",
      "summary": "The supremum of distinct run lengths at n",
      "startLine": 87,
      "endLine": 96
    },
    {
      "id": "eps87",
      "title": "EPS87 Upper Bound",
      "summary": "K ≤ n/exp(c(log n)^{1/3}) for distinct runs",
      "startLine": 98,
      "endLine": 118
    },
    {
      "id": "conjecture",
      "title": "Main Conjecture",
      "summary": "Existence of runs of length (log x)^c",
      "startLine": 120,
      "endLine": 138
    },
    {
      "id": "partial",
      "title": "Partial Results",
      "summary": "Small c cases and constraints from EPS",
      "startLine": 140,
      "endLine": 152
    },
    {
      "id": "examples",
      "title": "Examples",
      "summary": "Concrete runs at n=1, n=2 showing collisions",
      "startLine": 154,
      "endLine": 176
    },
    {
      "id": "collisions",
      "title": "Totient Collisions",
      "summary": "When φ(a) = φ(b) for a ≠ b",
      "startLine": 178,
      "endLine": 201
    },
    {
      "id": "divisor",
      "title": "Divisor Function",
      "summary": "Connection to Problem #945 for τ(n)",
      "startLine": 203,
      "endLine": 217
    },
    {
      "id": "heuristics",
      "title": "Probabilistic Heuristics",
      "summary": "Birthday problem analysis of collisions",
      "startLine": 219,
      "endLine": 236
    },
    {
      "id": "bounds",
      "title": "Run Length Bounds",
      "summary": "Trivial and improved bounds on K",
      "startLine": 238,
      "endLine": 248
    },
    {
      "id": "special",
      "title": "Special Values",
      "summary": "Characterizing φ(n) = 1, 2, 4",
      "startLine": 250,
      "endLine": 263
    }
  ],
  "conclusion": {
    "summary": "This formalization captures Erdős Problem #1004 on distinct consecutive totient values. The problem remains open, but EPS (1987) established a strong upper bound on run lengths. The birthday problem heuristic suggests collisions are inevitable for long runs, but the exact behavior for runs of length (log x)^c is unknown.",
    "implications": "Understanding totient value distribution connects to fundamental questions about multiplicative structure. The EPS bound uses deep results from analytic number theory. The parallel question for divisor functions (Problem #945) shows this is part of a broader investigation into arithmetic function behavior.",
    "openQuestions": [
      "Does the main conjecture hold for any c > 0?",
      "What is the optimal exponent c₀ such that runs of length (log x)^c exist for c < c₀?",
      "Can the EPS bound be improved?",
      "What is the typical length of the maximal distinct run starting at n?"
    ]
  }
}