[
  {
    "id": "ann-e499-header",
    "proofId": "erdos-499",
    "range": { "startLine": 1, "endLine": 32 },
    "type": "concept",
    "title": "Problem Overview",
    "content": "**Erdős Problem #499** asks about diagonal products in doubly stochastic matrices.\n\nA **doubly stochastic matrix** has non-negative entries where each row and column sums to 1.\n\nA **diagonal** is a selection of one entry from each row and column, i.e., entries M_{i,σ(i)} for some permutation σ.\n\n**Question:** Does every n×n doubly stochastic matrix have a diagonal with product ≥ n^{-n}?\n\n**Answer: YES** (Marcus-Minc, 1962)",
    "mathContext": "This connects to the van der Waerden conjecture about permanents, a famous problem open for over 50 years before being solved in 1981.",
    "significance": "critical",
    "relatedConcepts": ["Doubly stochastic matrices", "Permanent", "van der Waerden conjecture"]
  },
  {
    "id": "ann-e499-doubly-stochastic",
    "proofId": "erdos-499",
    "range": { "startLine": 53, "endLine": 64 },
    "type": "definition",
    "title": "Doubly Stochastic Matrix",
    "content": "**IsDoublyStochastic(M):** A matrix M is doubly stochastic if:\n\n1. All entries are non-negative: M_{i,j} ≥ 0\n2. Each row sums to 1: ∑_j M_{i,j} = 1 for all i\n3. Each column sums to 1: ∑_i M_{i,j} = 1 for all j\n\n**Examples:**\n- Identity matrix (permutation matrix)\n- Uniform matrix: all entries = 1/n\n- Convex combinations of permutation matrices",
    "mathContext": "The set of all n×n doubly stochastic matrices forms a convex polytope called the Birkhoff polytope.",
    "significance": "critical",
    "relatedConcepts": ["Birkhoff polytope", "Stochastic matrix", "Markov chains"]
  },
  {
    "id": "ann-e499-uniform",
    "proofId": "erdos-499",
    "range": { "startLine": 66, "endLine": 80 },
    "type": "definition",
    "title": "The Uniform Matrix",
    "content": "**uniformMatrix(n):** The n×n matrix where every entry equals 1/n.\n\nThis is the \"worst case\" for Erdős #499:\n- Every diagonal product = (1/n)^n = n^{-n}\n- This is the minimum possible\n\nThe uniform matrix also minimizes the permanent (van der Waerden conjecture).",
    "significance": "key"
  },
  {
    "id": "ann-e499-diagonal-product",
    "proofId": "erdos-499",
    "range": { "startLine": 88, "endLine": 95 },
    "type": "definition",
    "title": "Diagonal Product",
    "content": "**diagonalProduct(M, σ):** For a permutation σ, the diagonal product is:\n\n$$\\prod_{i=1}^{n} M_{i,\\sigma(i)}$$\n\nThis is the product of one entry from each row, taking column σ(i) from row i.\n\nThere are n! different diagonals (one per permutation).",
    "significance": "critical"
  },
  {
    "id": "ann-e499-permanent",
    "proofId": "erdos-499",
    "range": { "startLine": 115, "endLine": 134 },
    "type": "definition",
    "title": "Matrix Permanent",
    "content": "**perm(M):** The permanent of a matrix is:\n\n$$\\text{perm}(M) = \\sum_{\\sigma \\in S_n} \\prod_{i=1}^{n} M_{i,\\sigma(i)}$$\n\nIt's like the determinant but with all + signs (no alternating).\n\n**Key difference from determinant:**\n- Permanent is always ≥ 0 for non-negative matrices\n- Computing the permanent is #P-complete (very hard)\n- No simple formula like cofactor expansion works efficiently",
    "mathContext": "The permanent counts the number of perfect matchings in bipartite graphs when M is a 0-1 matrix.",
    "significance": "critical",
    "relatedConcepts": ["Determinant", "Perfect matching", "Bipartite graphs"]
  },
  {
    "id": "ann-e499-marcus-ree",
    "proofId": "erdos-499",
    "range": { "startLine": 142, "endLine": 151 },
    "type": "axiom",
    "title": "Marcus-Ree Theorem (1959)",
    "content": "**marcus_ree_theorem:** For every doubly stochastic matrix M, there exists a permutation σ with:\n\n1. All diagonal entries non-zero: M_{i,σ(i)} ≠ 0 for all i\n2. Sum at least 1: ∑_i M_{i,σ(i)} ≥ 1\n\nThis is a **weaker** result than Erdős #499, requiring only a sum bound instead of a product bound.",
    "significance": "key"
  },
  {
    "id": "ann-e499-marcus-minc",
    "proofId": "erdos-499",
    "range": { "startLine": 159, "endLine": 177 },
    "type": "axiom",
    "title": "Marcus-Minc Theorem (1962)",
    "content": "**marcus_minc_theorem:** For every n×n doubly stochastic matrix M, there exists a permutation σ with:\n\n$$\\prod_{i=1}^{n} M_{i,\\sigma(i)} \\geq n^{-n}$$\n\nThis IS Erdős Problem #499.\n\n**erdos_499 theorem:** Simply restates Marcus-Minc as the answer to the problem.",
    "significance": "critical"
  },
  {
    "id": "ann-e499-van-der-waerden",
    "proofId": "erdos-499",
    "range": { "startLine": 185, "endLine": 200 },
    "type": "axiom",
    "title": "Van der Waerden Conjecture",
    "content": "**van_der_waerden:** For every n×n doubly stochastic matrix M:\n\n$$\\text{perm}(M) \\geq n^{-n} \\cdot n!$$\n\nEquality holds exactly when M is the uniform matrix.\n\n**History:** Conjectured by van der Waerden in 1926, proved independently by Egorychev and Falikman in 1981.\n\n**Implies Erdős #499:** If the sum of n! terms is ≥ n^{-n}·n!, then at least one term is ≥ n^{-n}.",
    "mathContext": "This was one of the most famous open problems in combinatorics for over 50 years.",
    "significance": "critical",
    "relatedConcepts": ["Permanent bounds", "Extremal matrix theory"]
  },
  {
    "id": "ann-e499-implication",
    "proofId": "erdos-499",
    "range": { "startLine": 202, "endLine": 214 },
    "type": "theorem",
    "title": "Van der Waerden Implies Erdős #499",
    "content": "**vanDerWaerden_implies_erdos499:** The permanent bound implies the diagonal bound.\n\n**Proof idea (pigeonhole):**\n- Permanent = sum of n! diagonal products\n- If sum ≥ n^{-n} · n!, then average ≥ n^{-n}\n- So at least one diagonal product ≥ n^{-n}\n\nThis shows Erdős #499 is a weaker statement than van der Waerden.",
    "significance": "key"
  },
  {
    "id": "ann-e499-two-by-two",
    "proofId": "erdos-499",
    "range": { "startLine": 222, "endLine": 237 },
    "type": "theorem",
    "title": "The 2×2 Case",
    "content": "**two_by_two_erdos499:** For n = 2, verification is elementary.\n\nA 2×2 doubly stochastic matrix has form:\n$$\\begin{pmatrix} a & 1-a \\\\ 1-a & a \\end{pmatrix}$$\n\nThe two diagonal products are a² and (1-a)².\n\n**Claim:** max(a², (1-a)²) ≥ 1/4 always.\n\n**Proof:** If a ≤ 1/2, then 1-a ≥ 1/2, so (1-a)² ≥ 1/4. Similar if a ≥ 1/2.",
    "significance": "key"
  },
  {
    "id": "ann-e499-birkhoff",
    "proofId": "erdos-499",
    "range": { "startLine": 252, "endLine": 262 },
    "type": "axiom",
    "title": "Birkhoff-von Neumann Theorem",
    "content": "**birkhoff_von_neumann:** Every doubly stochastic matrix is a convex combination of permutation matrices.\n\n$$M = \\sum_{i} c_i P_{\\sigma_i}$$\n\nwhere c_i ≥ 0, ∑c_i = 1, and P_σ is the permutation matrix for σ.\n\nThis characterizes the Birkhoff polytope: its vertices are exactly the permutation matrices.",
    "mathContext": "This theorem is fundamental to understanding doubly stochastic matrices geometrically.",
    "significance": "key",
    "relatedConcepts": ["Convex polytopes", "Permutation matrices", "Extreme points"]
  },
  {
    "id": "ann-e499-summary",
    "proofId": "erdos-499",
    "range": { "startLine": 268, "endLine": 288 },
    "type": "theorem",
    "title": "Problem Summary",
    "content": "**erdos_499_summary:** Complete status of Erdős Problem #499.\n\n**Solved Results:**\n1. marcus_minc_theorem: Product bound (1962) = Erdős #499\n2. van_der_waerden: Stronger permanent bound (1981)\n\n**Supporting Results:**\n- marcus_ree_theorem: Weaker sum bound (1959)\n- birkhoff_von_neumann: Structural characterization\n- 2×2 case: Elementary verification\n\n**Answer:** YES, every doubly stochastic matrix has a diagonal with product ≥ n^{-n}.",
    "significance": "critical"
  }
]
